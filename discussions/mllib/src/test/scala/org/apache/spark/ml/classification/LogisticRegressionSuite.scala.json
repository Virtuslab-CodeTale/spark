[
  {
    "id" : "aea62af0-4dbe-44df-aac8-68a4af46aaa1",
    "prId" : 31985,
    "prUrl" : "https://github.com/apache/spark/pull/31985#pullrequestreview-622847117",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "05bf0ace-7d31-47c6-9f1c-014b609b28d8",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "Old `interceptsRStd` did not equal to GLMNET's result: [-0.69265374, -0.2260274, 0.9186811], so I think this should be a good change",
        "createdAt" : "2021-03-29T03:39:02Z",
        "updatedAt" : "2021-03-29T03:59:04Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "461d1110da71d504780f5a1f7db07fceaf597938",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +1885,1889 @@      -0.1144333, 0.3204703, -0.1621061, -0.2308192,\n      0.0, -0.4832131, 0.0, 0.0), isTransposed = true)\n    val interceptsRStd = Vectors.dense(-0.69265374, -0.2260274, 0.9186811)\n    val coefficientsR = new DenseMatrix(3, 4, Array(\n      0.0, 0.0, 0.01641412, 0.03570376,"
  },
  {
    "id" : "ee992bde-357f-444a-8102-53abff184559",
    "prId" : 31985,
    "prUrl" : "https://github.com/apache/spark/pull/31985#pullrequestreview-622847656",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2403ee8b-929f-420a-ba45-9deeb0b93b79",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "master does not pass this newly add testsuite:\r\n\r\n```\r\n    // scalastyle:off println\r\n    println(\"R\")\r\n    println(interceptsR)\r\n    println(coefficientsR)\r\n\r\n    println()\r\n    println(\"model1\")\r\n    println(model1.interceptVector)\r\n    println(model1.coefficientMatrix)\r\n\r\n    println()\r\n    println(\"model2\")\r\n    println(model2.interceptVector)\r\n    println(model2.coefficientMatrix)\r\n\r\n    println()\r\n    println(\"R2\")\r\n    println(interceptsR2)\r\n    println(coefficientsR2)\r\n\r\n    println()\r\n    println(\"model3\")\r\n    println(model3.interceptVector)\r\n    println(model3.coefficientMatrix)\r\n    // scalastyle:on println\r\n```\r\n\r\n\r\n\r\n\r\nthis PR:\r\n```\r\nR\r\n[2.91748298,-17.510746,14.59326301]\r\n0.21755977  0.01647541   0.16507778  -0.1401668   \r\n-0.24436    0.7564655    -0.2955698  1.3262009    \r\n0.02680026  -0.77294095  0.13049206  -1.18603411  \r\nmodel1\r\n[2.933958199942738,-17.543164024163175,14.609205824220437]\r\n0.21812136899052606   0.015486127035160564  0.16560717317181253  -0.14189621394905397  \r\n-0.2454895541210769   0.7584152697648037    -0.2966285999752721  1.3296192946128171    \r\n0.027368185130550855  -0.7739013967999642   0.13102142680345957  -1.187723080663763    \r\nmodel2\r\n[2.933958199942738,-17.543164024163175,14.609205824220437]\r\n0.21812136899052606   0.015486127035160564  0.16560717317181253  -0.14189621394905397  \r\n-0.2454895541210769   0.7584152697648037    -0.2966285999752721  1.3296192946128171    \r\n0.027368185130550855  -0.7739013967999642   0.13102142680345957  -1.187723080663763    \r\n\r\nR2\r\n[1.751626027,-3.9297124987,2.178086472]\r\n0.019970169   0.079611293   0.003959452   0.110024399   \r\n-4.788494E-4  0.0010097453  -5.832701E-4  0.0           \r\n-0.01936999   -0.080851149  -0.003319687  -0.112435972  \r\nmodel3\r\n[1.7516587309368687,-3.9297178332916585,2.1780591023547897]\r\n0.019968543900064605    0.07960456424549685    0.0039592584764418055   0.11002491382872195  \r\n-4.7805989516075794E-4  0.0010124410611496804  -5.830912612961964E-4   0.0                  \r\n-0.01936890596857533    -0.08084716280475213   -0.0033195486718121834  -0.1124344396230352  \r\n```\r\n\r\n\r\n\r\n\r\n\r\nmaster:\r\n```\r\nR\r\n[2.91748298,-17.510746,14.59326301]\r\n0.21755977  0.01647541   0.16507778  -0.1401668   \r\n-0.24436    0.7564655    -0.2955698  1.3262009    \r\n0.02680026  -0.77294095  0.13049206  -1.18603411  \r\nmodel1\r\n[3.2289115796175536,-3.8874667667006286,0.6585551870830749]\r\n0.21614280080869921   0.010853354751576538  0.16526956599746928  -0.16826299113708829  \r\n-0.24226138413980347  0.766137782321547     -0.2961105375461299  -0.01353727702893284  \r\n0.02611858333110428   -0.7769911370731234   0.13084097154866067  0.18180026816602116   \r\nmodel2\r\n[3.2289115795385817,-3.8874667667014213,0.65855518716284]\r\n0.216142800347921     0.01085335149421333  0.1652695665789533   -0.16826299025797364   \r\n-0.24226138429694594  0.7661377826486023   -0.2961105377075671  -0.013537276769415511  \r\n0.026118583949024932  -0.7769911341428156  0.13084097112861381  0.18180026702738916    \r\n\r\n\r\nR2\r\n[1.751626027,-3.9297124987,2.178086472]\r\n0.019970169   0.079611293   0.003959452   0.110024399   \r\n-4.788494E-4  0.0010097453  -5.832701E-4  0.0           \r\n-0.01936999   -0.080851149  -0.003319687  -0.112435972  \r\nmodel3\r\n[3.2372615840468177,-3.887368655600576,0.6501070715537581]\r\n0.019839138236381705    0.0794011365650966    0.0039488069038510374   -0.028039490169532715  \r\n-4.7766310601985774E-4  0.001015028177410154  -5.837314941386912E-4   0.003248397753479403   \r\n-0.019272077893351464   -0.0806696209827808   -0.0033080309178124827  0.04470991419683469    \r\n```\r\n\r\nWe can see that new impl generate solution much more close to GLMNET.",
        "createdAt" : "2021-03-29T03:41:06Z",
        "updatedAt" : "2021-03-29T03:59:04Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "461d1110da71d504780f5a1f7db07fceaf597938",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +1900,1904 @@  }\n\n  test(\"SPARK-34860: multinomial logistic regression with intercept, with small var\") {\n    val trainer1 = new LogisticRegression().setFitIntercept(true).setStandardization(true)\n      .setWeightCol(\"weight\")"
  }
]