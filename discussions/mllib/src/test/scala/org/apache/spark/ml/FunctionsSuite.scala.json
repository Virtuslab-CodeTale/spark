[
  {
    "id" : "59250f8a-0664-424c-ab9e-09271fae4439",
    "prId" : 27522,
    "prUrl" : "https://github.com/apache/spark/pull/27522#pullrequestreview-355873501",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0b04a5a9-a0e2-41f9-8ed3-ecea2b782c81",
        "parentId" : null,
        "authorId" : "247a05cb-3981-4845-983f-97aa4a0c6165",
        "body" : "@WeichenXu123 Do you know a good way to verify the underlying data type is float32?",
        "createdAt" : "2020-02-10T11:30:35Z",
        "updatedAt" : "2020-02-13T09:06:46Z",
        "lastEditedBy" : "247a05cb-3981-4845-983f-97aa4a0c6165",
        "tags" : [
        ]
      },
      {
        "id" : "50a38989-f71f-4d1b-9464-cdfeab3c4664",
        "parentId" : "0b04a5a9-a0e2-41f9-8ed3-ecea2b782c81",
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "Check array type. Should be `Array<Float>`, its corresponding dataframe type is `ArrayType(elementType=FloatType)`",
        "createdAt" : "2020-02-10T11:36:21Z",
        "updatedAt" : "2020-02-13T09:06:46Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      },
      {
        "id" : "ee6a4a57-70ab-4e09-9693-c93b97c8e413",
        "parentId" : "0b04a5a9-a0e2-41f9-8ed3-ecea2b782c81",
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "or check `sizeof(array[0]) === 4` ?",
        "createdAt" : "2020-02-10T11:40:03Z",
        "updatedAt" : "2020-02-13T09:06:46Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      },
      {
        "id" : "ec83af11-a77c-4938-8d1b-8fc8eafb23f4",
        "parentId" : "0b04a5a9-a0e2-41f9-8ed3-ecea2b782c81",
        "authorId" : "247a05cb-3981-4845-983f-97aa4a0c6165",
        "body" : "```\r\nscala> df.schema.fields(0).dataType.simpleString\r\nres5: String = array<float>\r\n```\r\nWhat about checking this dataType.simpleString?",
        "createdAt" : "2020-02-10T11:44:11Z",
        "updatedAt" : "2020-02-13T09:06:46Z",
        "lastEditedBy" : "247a05cb-3981-4845-983f-97aa4a0c6165",
        "tags" : [
        ]
      }
    ],
    "commit" : "848220d8a892e08e6bc99f5b6293b3c57dd892c4",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +66,70 @@    ).toDF(\"vec\", \"oldVec\")\n    val dfArrayFloat = df3.select(\n      vector_to_array('vec, dtype = \"float32\"), vector_to_array('oldVec, dtype = \"float32\"))\n\n    // Check values are correct"
  },
  {
    "id" : "75fb905c-1a94-4083-88a8-944da3662311",
    "prId" : 27522,
    "prUrl" : "https://github.com/apache/spark/pull/27522#pullrequestreview-356028166",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7ff3f575-3834-4203-a75b-3a2fa3e4462e",
        "parentId" : null,
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "where is pyspark side test ?",
        "createdAt" : "2020-02-10T12:45:07Z",
        "updatedAt" : "2020-02-13T09:06:46Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      },
      {
        "id" : "0657e860-5d0b-4e17-be5e-3bf825b1f940",
        "parentId" : "7ff3f575-3834-4203-a75b-3a2fa3e4462e",
        "authorId" : "247a05cb-3981-4845-983f-97aa4a0c6165",
        "body" : "Just added in the doctest",
        "createdAt" : "2020-02-10T15:27:54Z",
        "updatedAt" : "2020-02-13T09:06:46Z",
        "lastEditedBy" : "247a05cb-3981-4845-983f-97aa4a0c6165",
        "tags" : [
        ]
      }
    ],
    "commit" : "848220d8a892e08e6bc99f5b6293b3c57dd892c4",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +61,65 @@    }\n\n    val df3 = Seq(\n      (Vectors.dense(1.0, 2.0, 3.0), OldVectors.dense(10.0, 20.0, 30.0)),\n      (Vectors.sparse(3, Seq((0, 2.0), (2, 3.0))), OldVectors.sparse(3, Seq((0, 20.0), (2, 30.0))))"
  }
]