[
  {
    "id" : "10f680e8-1bf4-4b5b-b3bb-39aca9d3eee2",
    "prId" : 27882,
    "prUrl" : "https://github.com/apache/spark/pull/27882#pullrequestreview-373271876",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "03748789-85e8-41c6-be5c-791add8ad3f4",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "ditto",
        "createdAt" : "2020-03-12T04:34:56Z",
        "updatedAt" : "2020-03-21T21:43:26Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "89860b5ee99e632cdcd9dab705260feee3e39bb7",
    "line" : 234,
    "diffHunk" : "@@ -1,1 +91,95 @@   * get the SelectionTestResult for every feature against the label\n   */\n  protected[this] override def getSelectionTestResult(dataset: Dataset[_]):\n    Array[SelectionTestResult] = {\n    FValueTest.testRegression(dataset, getFeaturesCol, getLabelCol)"
  },
  {
    "id" : "1778c233-5e53-463d-8748-32704a7789d3",
    "prId" : 27882,
    "prUrl" : "https://github.com/apache/spark/pull/27882#pullrequestreview-373271876",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "97448b51-8308-4a08-8f71-dcc0a4beed55",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "ditto",
        "createdAt" : "2020-03-12T04:35:14Z",
        "updatedAt" : "2020-03-21T21:43:26Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "89860b5ee99e632cdcd9dab705260feee3e39bb7",
    "line" : 249,
    "diffHunk" : "@@ -1,1 +101,105 @@   * @return A new SelectorModel instance\n   */\n  protected[this] def createSelectorModel(\n      uid: String,\n      indices: Array[Int]): FValueSelectorModel = {"
  },
  {
    "id" : "7174f3d9-b75d-46b5-b23a-9b03d4813f72",
    "prId" : 27679,
    "prUrl" : "https://github.com/apache/spark/pull/27679#pullrequestreview-366988258",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b50ff00b-45e6-4474-b3f4-0e1a9eb00ab5",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "This section is pasted twice",
        "createdAt" : "2020-03-02T07:21:02Z",
        "updatedAt" : "2020-03-03T18:42:37Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "4584465a7681b5199f9cc31c755e7e96ee36bb1d",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +-1,3 @@/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with"
  },
  {
    "id" : "2a98f24c-3fea-48ce-a5ba-bb92c79ffad6",
    "prId" : 27679,
    "prUrl" : "https://github.com/apache/spark/pull/27679#pullrequestreview-367439393",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "795426a1-b567-4dad-a62f-b9495a792930",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "Why not reusing `compressSparse` and `compressDense` defined in `ChiSqSelectorModel`?",
        "createdAt" : "2020-03-02T07:28:58Z",
        "updatedAt" : "2020-03-03T18:42:37Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      },
      {
        "id" : "84267428-19c3-4adb-9d43-925b3d16f735",
        "parentId" : "795426a1-b567-4dad-a62f-b9495a792930",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "I don't want to have any dependency on mllib. Later on, I will also change ```ChiSelector ```  to remove the dependency on mllib, so I can refactor all the common code between ```ChiSelector``` and ```FValueSelector``` to put in an abstract Selector.",
        "createdAt" : "2020-03-02T18:49:28Z",
        "updatedAt" : "2020-03-03T18:42:37Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "4584465a7681b5199f9cc31c755e7e96ee36bb1d",
    "line" : 350,
    "diffHunk" : "@@ -1,1 +348,352 @@  }\n\n  private[spark] def compressSparse(\n      indices: Array[Int],\n      values: Array[Double]): (Array[Int], Array[Double]) = {"
  },
  {
    "id" : "5898ec79-1b60-4901-932f-ac774d40f6a9",
    "prId" : 27679,
    "prUrl" : "https://github.com/apache/spark/pull/27679#pullrequestreview-367795292",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a44ef541-9662-45b3-81c5-bf5000d7f7d8",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "Nit: \"If the number of features is less than numTopFeatures, then this will select all features.\"\r\nI found that `ChiSqSelector` has similar logic, so I guess we can apply a small optimization in the future:\r\ncheck the params before `fit`, if the number of features is less than numTopFeatures (or similar logic based on other params like `fdr==0` ), then directly return model with all feature selected.\r\n\r\nFor now, I think we can just keep current logic.",
        "createdAt" : "2020-03-03T08:54:16Z",
        "updatedAt" : "2020-03-03T18:42:37Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "4584465a7681b5199f9cc31c755e7e96ee36bb1d",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +41,45 @@  with HasFeaturesCol with HasOutputCol with HasLabelCol {\n\n  /**\n   * Number of features that selector will select, ordered by ascending p-value. If the\n   * number of features is less than numTopFeatures, then this will select all features."
  }
]