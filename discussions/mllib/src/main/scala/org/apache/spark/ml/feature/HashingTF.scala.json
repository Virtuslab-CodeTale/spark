[
  {
    "id" : "b49747db-4647-4480-b32d-1689f148bd0c",
    "prId" : 29852,
    "prUrl" : "https://github.com/apache/spark/pull/29852#pullrequestreview-496072057",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "54cc273d-e087-4ae1-a1d4-458ea1bd71ab",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "This seems fine but is it faster than Scala's Map? the comment refers to the Java HashMap.",
        "createdAt" : "2020-09-24T14:59:54Z",
        "updatedAt" : "2020-09-24T14:59:54Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "80562fc0-dba4-4055-901d-ffd2278838b4",
        "parentId" : "54cc273d-e087-4ae1-a1d4-458ea1bd71ab",
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "yes, the comment in `util.collection.OpenHashMap` only refer to java hashmap, but to my knowledge, scala hashmap is slower than java hashmap.\r\n\r\nand there is was also a [performance test](https://gist.github.com/rxin/44657c3f40d4e4294857) between java hashmap and scala hashmap: scala hashmap < java hashmap < scala openhashmap\r\n",
        "createdAt" : "2020-09-25T02:36:42Z",
        "updatedAt" : "2020-09-25T02:36:42Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "000ca3537d49a32b30b4f4bead00a2bdff790a43",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +95,99 @@\n    val hashUDF = udf { terms: Seq[_] =>\n      val map = new OpenHashMap[Int, Double]()\n      terms.foreach { term => map.changeValue(indexOf(term), 1.0, updateFunc) }\n      Vectors.sparse(n, map.toSeq)"
  }
]