[
  {
    "id" : "aff4d4d0-7682-463e-bdcf-e5a2a4ffb470",
    "prId" : 32399,
    "prUrl" : "https://github.com/apache/spark/pull/32399#pullrequestreview-656213955",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "25d14c60-1f55-4aff-b475-4a75e65948fe",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Why we need sleep 1000?",
        "createdAt" : "2021-05-10T07:20:59Z",
        "updatedAt" : "2021-05-11T05:15:26Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "17c8d1d4-ee46-4d31-9e8e-0d1fab8267fe",
        "parentId" : "25d14c60-1f55-4aff-b475-4a75e65948fe",
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "https://github.com/apache/spark/pull/32399#discussion_r629087709",
        "createdAt" : "2021-05-11T01:38:58Z",
        "updatedAt" : "2021-05-11T05:15:26Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "ef9a43184986a90ffd20bd9d7ef9dfa34afe71a4",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +201,205 @@          subTaskFailed = true\n          try {\n            Thread.sleep(1000)\n            sparkContext.cancelJobGroup(cvJobGroup)\n          } catch {"
  },
  {
    "id" : "2de053ee-12c1-4093-9653-f2a1919e9c34",
    "prId" : 32399,
    "prUrl" : "https://github.com/apache/spark/pull/32399#pullrequestreview-660501689",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "89bc362b-a396-4b25-a4db-225f535e523f",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "The exception doesn't matter here? so RuntimeException is OK? otherwise that's probably overly broad. At least, IllegalStateException or something. But if it's just going to kill the Future, OK",
        "createdAt" : "2021-05-13T14:21:44Z",
        "updatedAt" : "2021-05-13T14:23:51Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "6bb754fc-d699-4b2e-8ef0-48b582e920a8",
        "parentId" : "89bc362b-a396-4b25-a4db-225f535e523f",
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "Yes just for kill the future thread.\r\nI already add message in the runtimeException. So I think it is fine.\r\n`IllegalStateException` means \"Signals that a method has been invoked at an illegal or inappropriate time\" so it may be not a proper exception class name.\r\n",
        "createdAt" : "2021-05-17T01:54:24Z",
        "updatedAt" : "2021-05-17T01:54:24Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "ef9a43184986a90ffd20bd9d7ef9dfa34afe71a4",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +179,183 @@        Future[Double] {\n          if (subTaskFailed) {\n            throw new RuntimeException(\n              \"Terminate this task because one of other task failed.\"\n            )"
  },
  {
    "id" : "4378b348-3356-489c-9859-03ec5eada9fb",
    "prId" : 32399,
    "prUrl" : "https://github.com/apache/spark/pull/32399#pullrequestreview-660863595",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d3423c7-2c8f-48f5-b572-70d8711d9451",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Hm, wouldn't this unset previous job group. If users want to cancel `oldJobGroup` group, looks like it's not going to work",
        "createdAt" : "2021-05-17T08:57:54Z",
        "updatedAt" : "2021-05-17T08:57:54Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "44690178-6978-423f-ac1a-30db9805f3fd",
        "parentId" : "3d3423c7-2c8f-48f5-b572-70d8711d9451",
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "Yes this is a corner case. I don't have good idea.\r\nCC @srowen Any thoughts ?",
        "createdAt" : "2021-05-17T11:37:50Z",
        "updatedAt" : "2021-05-17T11:38:46Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "ef9a43184986a90ffd20bd9d7ef9dfa34afe71a4",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +173,177 @@      val oldJobGroup = sparkContext.getLocalProperty(SparkContext.SPARK_JOB_GROUP_ID)\n      val cvJobGroup = s\"${this.uid}_job_group\"\n      sparkContext.setLocalProperty(SparkContext.SPARK_JOB_GROUP_ID, cvJobGroup)\n      @volatile var subTaskFailed = false\n      // Fit models in a Future for training in parallel"
  }
]