[
  {
    "id" : "b3bd4d87-a0ca-42b9-a102-da269daf4152",
    "prId" : 30455,
    "prUrl" : "https://github.com/apache/spark/pull/30455#pullrequestreview-543408843",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a5bfefd-b96c-4a40-bfcc-1bc18558dbd5",
        "parentId" : null,
        "authorId" : "44205d46-4619-49c7-a427-e3f32de32cda",
        "body" : "For future reference, a slightly cleaner way to express this in a warning free way is:\r\n\r\n```scala\r\n((label <~ \"~\") ~ expr ) ^^ {\r\n  case r ~ t => ParsedRFormula(r, t.asTerms.terms)\r\n}\r\n```\r\n\r\nIt also avoids duplicating the `\"~\"` token in the parser and the action.",
        "createdAt" : "2020-12-03T02:58:51Z",
        "updatedAt" : "2020-12-03T02:58:58Z",
        "lastEditedBy" : "44205d46-4619-49c7-a427-e3f32de32cda",
        "tags" : [
        ]
      },
      {
        "id" : "109254d8-932c-4ce8-87a9-bb788639daf4",
        "parentId" : "5a5bfefd-b96c-4a40-bfcc-1bc18558dbd5",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Feel free to make a PR, @retronym . :)",
        "createdAt" : "2020-12-03T03:09:23Z",
        "updatedAt" : "2020-12-03T03:09:23Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "721439826beee1b4c8e58108ab7091e44db4cf9f",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +301,305 @@  private val formula: Parser[ParsedRFormula] =\n    (label ~ \"~\" ~ expr) ^^ {\n      case r ~ \"~\" ~ t => ParsedRFormula(r, t.asTerms.terms)\n      case t => throw new IllegalArgumentException(s\"Invalid term: $t\")\n    }"
  },
  {
    "id" : "5a4bde52-cda9-4711-be58-d66b90b3c297",
    "prId" : 24939,
    "prUrl" : "https://github.com/apache/spark/pull/24939#pullrequestreview-286488595",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ebae45d3-bb51-4a20-a1fe-1c11fb36009d",
        "parentId" : null,
        "authorId" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "body" : "is there a reason this isn't doing skipSpace here?",
        "createdAt" : "2019-09-02T23:41:39Z",
        "updatedAt" : "2020-01-14T22:43:12Z",
        "lastEditedBy" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "tags" : [
        ]
      },
      {
        "id" : "ca489002-3cd3-4366-909f-27e577013ec1",
        "parentId" : "ebae45d3-bb51-4a20-a1fe-1c11fb36009d",
        "authorId" : "340aa00e-a2e7-422e-9a35-ef5a82672673",
        "body" : "This one is responsible for parsing the function identifier, parenthesis and everything inside the parenthesis. Whatever inside the parenthesis is parsed with whitespaces, so no need to skip there. Function identifiers don't have whitespaces as well. One thing to additionally skip might be the whitespace between the function identifier and the trailing parenthesis, such as;\r\n\r\n`y ~ I ( log(b) )`\r\nor\r\n`y ~ exp (b)`\r\n\r\nCurrently, the above formulas would fail to parse due to the space between the parenthesis and function identifier, e.g `I (` and `exp (`. Should these be allowed? It's not so hard to enable these, but I haven't really given a good thought on what might be unwanted side effects.\r\n",
        "createdAt" : "2019-09-04T14:31:59Z",
        "updatedAt" : "2020-01-14T22:43:12Z",
        "lastEditedBy" : "340aa00e-a2e7-422e-9a35-ef5a82672673",
        "tags" : [
        ]
      },
      {
        "id" : "a88e6b97-f698-4635-9109-6d17e01449f9",
        "parentId" : "ebae45d3-bb51-4a20-a1fe-1c11fb36009d",
        "authorId" : "340aa00e-a2e7-422e-9a35-ef5a82672673",
        "body" : "It looks like spark sql functions skip the whitespace between function identifier and parenthesis, so I enabled skipping the same whitespace.",
        "createdAt" : "2019-09-10T23:32:20Z",
        "updatedAt" : "2020-01-14T22:43:12Z",
        "lastEditedBy" : "340aa00e-a2e7-422e-9a35-ef5a82672673",
        "tags" : [
        ]
      }
    ],
    "commit" : "c3d97a351a04474a260ff6ae40909f366a8398cf",
    "line" : 195,
    "diffHunk" : "@@ -1,1 +355,359 @@ * such that if there are any parentheses ('(' or ')') they're all balanced.\n */\nprivate[ml] trait EvalExprParser extends RegexParsers {\n\n  /* Any char except `(` or `)`. */"
  }
]