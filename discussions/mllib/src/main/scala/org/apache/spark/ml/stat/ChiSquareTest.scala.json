[
  {
    "id" : "3b99671f-24be-4d33-aa3d-3d04417eeb1e",
    "prId" : 28176,
    "prUrl" : "https://github.com/apache/spark/pull/28176#pullrequestreview-391809878",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a21b0c40-4746-4f8a-ba5e-ecfb907d8630",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Is the behavior identical to the existing method if false?\r\nHm OK this is a little odd API-wise but I understand you're trying to keep compatibility while adding a better representation too. I'm neutral on it.\r\n\r\nThe existing method below seems like it had an OK purpose too, to return the results as objects rather than a DataFrame, but I also don't feel strongly about retaining it.",
        "createdAt" : "2020-04-10T14:10:15Z",
        "updatedAt" : "2020-04-12T05:42:45Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "8a1e1bbc-6d9d-48a5-9dc5-0ee0fca261cf",
        "parentId" : "a21b0c40-4746-4f8a-ba5e-ecfb907d8630",
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "> Is the behavior identical to the existing method if false?\r\n\r\nYes, since all methods share the same logic to compute test results, the differences lie in how to represent the results.\r\n\r\n> The existing method below seems like it had an OK purpose too, to return the results as objects rather than a DataFrame\r\n\r\nI am neutral on keeping it or not. How do you @huaxingao think about it? I can add it back it you want it.",
        "createdAt" : "2020-04-11T04:43:21Z",
        "updatedAt" : "2020-04-12T05:42:45Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      },
      {
        "id" : "68918f66-c536-4c2b-9c45-c203f0b7240d",
        "parentId" : "a21b0c40-4746-4f8a-ba5e-ecfb907d8630",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "I am OK with the change.",
        "createdAt" : "2020-04-12T00:15:23Z",
        "updatedAt" : "2020-04-12T05:42:45Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "6db77f292d0b47b4b8b2d282ec8547fa57d507fd",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +64,68 @@   * @param featuresCol  Name of features column in dataset, of type `Vector` (`VectorUDT`)\n   * @param labelCol  Name of label column in dataset, of any numerical type\n   * @param flatten  If false, the returned DataFrame contains only a single Row, otherwise, one\n   *                 row per feature.\n   */"
  },
  {
    "id" : "eefc2e2b-c4de-4ca2-9344-d258a62d902b",
    "prId" : 28176,
    "prUrl" : "https://github.com/apache/spark/pull/28176#pullrequestreview-391823654",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d866769a-ad33-4e21-96b3-514722be5b55",
        "parentId" : null,
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "nit: do we need the ```groupBy()``` here?",
        "createdAt" : "2020-04-12T00:27:30Z",
        "updatedAt" : "2020-04-12T05:42:45Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      },
      {
        "id" : "1e20317c-9d0b-473e-b8a5-f67486aaab22",
        "parentId" : "d866769a-ad33-4e21-96b3-514722be5b55",
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "yes, this `groupBy` is needed",
        "createdAt" : "2020-04-12T05:42:50Z",
        "updatedAt" : "2020-04-12T05:42:50Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      }
    ],
    "commit" : "6db77f292d0b47b4b8b2d282ec8547fa57d507fd",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +90,94 @@      resultDF\n    } else {\n      resultDF.groupBy()\n        .agg(collect_list(struct(\"*\")))\n        .as[Seq[(Int, Double, Int, Double)]]"
  },
  {
    "id" : "dcf0d98a-6003-4496-bb15-b19d62d91437",
    "prId" : 27841,
    "prUrl" : "https://github.com/apache/spark/pull/27841#pullrequestreview-371679228",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "08029263-5c39-4ad7-89d9-ccbeb865bd29",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "That difference between this method and above `def test(dataset: DataFrame, featuresCol: String, labelCol: String): DataFrame` is only that the result are parallelized to a dataframe?",
        "createdAt" : "2020-03-10T03:31:08Z",
        "updatedAt" : "2020-03-10T04:45:15Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      },
      {
        "id" : "30ea4ca8-c02d-449b-9339-2c793ca69785",
        "parentId" : "08029263-5c39-4ad7-89d9-ccbeb865bd29",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "Yes. \r\nI may need to refactor this method and move it out of this class in next subtask. ",
        "createdAt" : "2020-03-10T04:44:54Z",
        "updatedAt" : "2020-03-10T04:45:15Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "20629ad0ce43a4af9cf94e3993d778d6a8c63ebd",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +86,90 @@   * @return Array containing the SelectionTestResult for every feature against the label.\n   */\n  @Since(\"3.1.0\")\n  def testChiSquare(\n      dataset: Dataset[_],"
  },
  {
    "id" : "916f4844-1433-4977-83af-0080d418157a",
    "prId" : 27841,
    "prUrl" : "https://github.com/apache/spark/pull/27841#pullrequestreview-371679260",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b859b8d9-eeb1-48b9-ae9d-925bfb86dd02",
        "parentId" : null,
        "authorId" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "body" : "What about returning `Array[ChiSquareResult]`?",
        "createdAt" : "2020-03-10T03:36:05Z",
        "updatedAt" : "2020-03-10T04:45:15Z",
        "lastEditedBy" : "685f805b-e4fa-4f21-b066-58afcecf9ce6",
        "tags" : [
        ]
      },
      {
        "id" : "510ce87a-9e97-4c77-8ee2-3371c7911a6b",
        "parentId" : "b859b8d9-eeb1-48b9-ae9d-925bfb86dd02",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "I will need to have an abstract method in abstract class ```Selector``` in next subtask\r\n```\r\ndef getSelectionTestResult(dataset: Dataset[_]): Array[SelectionTestResult]\r\n```\r\nso I prefer to return ```Array[SelectionTestResult]``` here.",
        "createdAt" : "2020-03-10T04:45:03Z",
        "updatedAt" : "2020-03-10T04:45:15Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "20629ad0ce43a4af9cf94e3993d778d6a8c63ebd",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +90,94 @@      dataset: Dataset[_],\n      featuresCol: String,\n      labelCol: String): Array[SelectionTestResult] = {\n\n    val spark = dataset.sparkSession"
  }
]