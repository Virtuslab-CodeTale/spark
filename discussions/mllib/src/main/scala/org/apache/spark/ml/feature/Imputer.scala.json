[
  {
    "id" : "7120353d-c9ea-4d0b-b75b-e6891dfb3b41",
    "prId" : 30397,
    "prUrl" : "https://github.com/apache/spark/pull/30397#pullrequestreview-651566915",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a1c085b-3d8e-4f7c-9cf4-481e0d7cd000",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Long overdue question - this means this doesn't work on 'categorical' vars right? they have to be numbers. But then again, so does everything in a Spark feature vector - Strings are indexed to numbers, etc. Then it would work, it would compute the mode's index correctly as a number.\r\n\r\nJust trying to decide whether the docs that say categorical vars are unsupported are accurate or not then.",
        "createdAt" : "2021-05-04T18:58:46Z",
        "updatedAt" : "2021-05-04T18:58:58Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      }
    ],
    "commit" : "5875c65950c3db562f3d3b75c59e0f67595eb266",
    "line" : 86,
    "diffHunk" : "@@ -1,1 +183,187 @@          // Ignore null.\n          Iterator.range(0, numCols)\n            .flatMap(i => if (row.isNullAt(i)) None else Some((i, row.getDouble(i))))\n        }.toDF(\"index\", \"value\")\n         .groupBy(\"index\", \"value\").agg(negate(count(lit(0))).as(\"negative_count\"))"
  }
]