[
  {
    "id" : "68d4029c-6b8a-462a-b8f1-99668673f20e",
    "prId" : 29044,
    "prUrl" : "https://github.com/apache/spark/pull/29044#pullrequestreview-446502288",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5f756fa8-1a94-4479-b169-fdfd4bc216e9",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "This seems to be changed via SPARK-26132 (https://github.com/apache/spark/commit/8bc304f97ee693b57f33fa6708eb63e2d641c609).",
        "createdAt" : "2020-07-08T16:25:00Z",
        "updatedAt" : "2020-07-28T00:59:31Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "421ca63a-9d3c-4808-a91b-00871f4c8006",
        "parentId" : "5f756fa8-1a94-4479-b169-fdfd4bc216e9",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "As I understand, inside cmd, set env twice not working. So `set SPARK_ENV_CMD=%SPARK_CONF_DIR%\\%SPARK_ENV_CMD%` doesn't take effect, which caused regression.",
        "createdAt" : "2020-07-08T16:31:59Z",
        "updatedAt" : "2020-07-28T00:59:31Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      },
      {
        "id" : "0286510b-27af-414e-9b40-2d516d10af8f",
        "parentId" : "5f756fa8-1a94-4479-b169-fdfd4bc216e9",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Could you put that explanation into `PR description`? PR title and description will be a permanent commit log.",
        "createdAt" : "2020-07-08T16:33:45Z",
        "updatedAt" : "2020-07-28T00:59:31Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "36d49075-323f-481b-a924-92ce14b3cfa1",
        "parentId" : "5f756fa8-1a94-4479-b169-fdfd4bc216e9",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Also, please describe how did you do for `Manually tested`.",
        "createdAt" : "2020-07-08T16:34:29Z",
        "updatedAt" : "2020-07-28T00:59:31Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "11871b45-343b-462e-aca2-d9e4f61c8f33",
        "parentId" : "5f756fa8-1a94-4479-b169-fdfd4bc216e9",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "Updated.",
        "createdAt" : "2020-07-08T16:43:09Z",
        "updatedAt" : "2020-07-28T00:59:31Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      },
      {
        "id" : "c3d57fda-fe79-49a9-8b39-6d89abae9c7f",
        "parentId" : "5f756fa8-1a94-4479-b169-fdfd4bc216e9",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah .. I vaguely remember setting env twice isn't allowed ..",
        "createdAt" : "2020-07-09T07:06:48Z",
        "updatedAt" : "2020-07-28T00:59:31Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "3aae660b-3394-4c3a-bc0e-aac37b21fa64",
        "parentId" : "5f756fa8-1a94-4479-b169-fdfd4bc216e9",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "I have confirmed this issue is env set inside `IF` won't take effect until after whole block executed. Please refer https://superuser.com/questions/78496/variables-in-batch-file-not-being-set-when-inside-if",
        "createdAt" : "2020-07-10T15:38:17Z",
        "updatedAt" : "2020-07-28T00:59:31Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      }
    ],
    "commit" : "4589e1bd2a9779ce9029ab4ea49c5df5ed46be17",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +29,33 @@  )\n\n  call :LoadSparkEnv\n)\n"
  }
]