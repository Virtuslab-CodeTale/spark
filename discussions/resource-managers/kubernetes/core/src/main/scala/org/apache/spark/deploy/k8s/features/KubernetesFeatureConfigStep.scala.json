[
  {
    "id" : "1383230c-f439-4747-bbfb-48ce870bf86d",
    "prId" : 30206,
    "prUrl" : "https://github.com/apache/spark/pull/30206#pullrequestreview-528222039",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a14f8db8-de3c-4dd4-bde8-b48623b3aec5",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "FYI, we should [avoid using trait for Java APIs](https://github.com/databricks/scala-style-guide#java-traits). I would either mark it with `@Unstable` or make it abstract class.",
        "createdAt" : "2020-11-01T10:55:48Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "fc120f2e-6b7c-4e78-bae9-6691b99ca4bd",
        "parentId" : "a14f8db8-de3c-4dd4-bde8-b48623b3aec5",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Also we shouldn't rely on Scala collections for Java users, for example, at `getAdditionalPodSystemProperties` and `getAdditionalKubernetesResources`.\r\n\r\nThere was a bit of discussions (with @tgravescs) about retuning a Java map vs having another method to return Java (e.g. `getAdditionalPodSystemPropertiesJava`) . Both ways are already being used in the current codebase, and we should better have one way to do it. Which way do you prefer?",
        "createdAt" : "2020-11-01T10:59:47Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "8c8ce86d-4742-4420-9aad-586d2fda1216",
        "parentId" : "a14f8db8-de3c-4dd4-bde8-b48623b3aec5",
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "If we are making this a pluggable api it would be better to make this a java interface like the ExecutorPlugin, DrivePlugin, ResourceDiscoveryPlugin and LocalDiskShuffleDataIO.",
        "createdAt" : "2020-11-02T14:11:06Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      },
      {
        "id" : "b0e5b697-fa7d-455f-883d-40f1eba39538",
        "parentId" : "a14f8db8-de3c-4dd4-bde8-b48623b3aec5",
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "So given it's a developer API I think it might be OK for it to be a Scala trait.",
        "createdAt" : "2020-11-03T17:39:28Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      },
      {
        "id" : "006d773e-199f-4702-9777-5f403b7feb34",
        "parentId" : "a14f8db8-de3c-4dd4-bde8-b48623b3aec5",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Even for a developer API, we should make it Scala/Java friendly. That's why I suggested to make it `@Unstable` (and make it better next time), or properly consider Java interoperability. Also, using traits sometimes bring some surprises when it comes to binary compatibility. FYI, the APIs @tgravescs pointed out are also `@DeveloperApi`s.",
        "createdAt" : "2020-11-04T01:40:31Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "1b5cefb0-e3cf-4506-a4ac-2ecd9f3e30ce",
        "parentId" : "a14f8db8-de3c-4dd4-bde8-b48623b3aec5",
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "Unstable sounds good @HyukjinKwon :)",
        "createdAt" : "2020-11-11T05:22:23Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      },
      {
        "id" : "250b8037-b361-4b4a-8fb4-33a66dec4a8b",
        "parentId" : "a14f8db8-de3c-4dd4-bde8-b48623b3aec5",
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "that sounds fine, note by comment below about SparkPod still being private[spark] though, that is used by this api so should also be opened up.",
        "createdAt" : "2020-11-11T14:29:52Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      }
    ],
    "commit" : "cfe5bc1a9814a0551acf65a0ded532a07237cca1",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +30,34 @@@Unstable\n@DeveloperApi\ntrait KubernetesFeatureConfigStep {\n\n  /**"
  },
  {
    "id" : "7d7a5531-8153-44f1-9e03-c6df4e36f547",
    "prId" : 30206,
    "prUrl" : "https://github.com/apache/spark/pull/30206#pullrequestreview-549615761",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3cebdded-6528-455a-9430-0e5d50c50314",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I think we could mark here `Unstable` as discussed in https://github.com/apache/spark/pull/30206/files#r515606647.",
        "createdAt" : "2020-12-10T02:55:45Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "a4a92e1b-8d67-4c44-b777-316c53b1dbd2",
        "parentId" : "3cebdded-6528-455a-9430-0e5d50c50314",
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "My bad, I thought I had pushed that change. Fixed now.",
        "createdAt" : "2020-12-10T21:26:50Z",
        "updatedAt" : "2020-12-12T00:19:17Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      }
    ],
    "commit" : "cfe5bc1a9814a0551acf65a0ded532a07237cca1",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +29,33 @@ */\n@Unstable\n@DeveloperApi\ntrait KubernetesFeatureConfigStep {\n"
  }
]