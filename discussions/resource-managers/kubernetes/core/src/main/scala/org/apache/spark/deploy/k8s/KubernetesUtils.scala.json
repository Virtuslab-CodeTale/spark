[
  {
    "id" : "b5e47ef5-52f3-4897-8795-be8933a6815d",
    "prId" : 32406,
    "prUrl" : "https://github.com/apache/spark/pull/32406#pullrequestreview-649497103",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1d2a91d2-b874-45ef-a7b8-c2a14ed07034",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "This was introduced by https://issues.apache.org/jira/browse/SPARK-24434.\r\nWhich went into Spark 3.0.0.\r\n\r\nhttps://github.com/apache/spark/blob/branch-3.0/resource-managers/kubernetes/core/src/main/scala/org/apache/spark/deploy/k8s/KubernetesUtils.scala#L82\r\n\r\n",
        "createdAt" : "2021-04-30T16:35:41Z",
        "updatedAt" : "2021-04-30T16:57:24Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "7af80bd9-4163-443d-9876-c35de975102c",
        "parentId" : "1d2a91d2-b874-45ef-a7b8-c2a14ed07034",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "As I mentioned in the PR title, the signature is change recently (2fa792aa64), @attilapiros . \r\nI know that because I changed it. :)",
        "createdAt" : "2021-04-30T18:30:18Z",
        "updatedAt" : "2021-04-30T18:35:33Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "bbf01419-c62a-41ba-a5c7-d2f56a164ffb",
        "parentId" : "1d2a91d2-b874-45ef-a7b8-c2a14ed07034",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Please see the following PR description.\r\n> In this PR, Since annotations denote the last function signature changes because these are going to become public at Apache Spark 3.2.0.",
        "createdAt" : "2021-04-30T18:30:43Z",
        "updatedAt" : "2021-04-30T18:30:43Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "c405cab30e2cb7a729192b8a121a43a18324a5ca",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +94,98 @@\n  @Since(\"3.2.0\")\n  def loadPodFromTemplate(\n      kubernetesClient: KubernetesClient,\n      templateFileName: String,"
  },
  {
    "id" : "e3272ff9-6c96-40e9-be75-f37181303ac3",
    "prId" : 32406,
    "prUrl" : "https://github.com/apache/spark/pull/32406#pullrequestreview-649498157",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "978bd6e3-4d87-411f-8cb5-4671e5ec6c27",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "This was backported to 2.4.8:\r\nhttps://github.com/apache/spark/blob/branch-2.4/resource-managers/kubernetes/core/src/main/scala/org/apache/spark/deploy/k8s/KubernetesUtils.scala#L66",
        "createdAt" : "2021-04-30T16:48:05Z",
        "updatedAt" : "2021-04-30T16:57:24Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "4b2592e7-ad57-45f3-adf4-798261e29f29",
        "parentId" : "978bd6e3-4d87-411f-8cb5-4671e5ec6c27",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "It's not released yet, @attilapiros ! :)",
        "createdAt" : "2021-04-30T18:30:57Z",
        "updatedAt" : "2021-04-30T18:30:57Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "22a0c02e-c4cf-48ae-8d01-3c1eef88e768",
        "parentId" : "978bd6e3-4d87-411f-8cb5-4671e5ec6c27",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "2.4.8 RC3 will fail again. Please see this ancient bug fix.\r\n- https://github.com/apache/spark/pull/32404#issuecomment-829894069",
        "createdAt" : "2021-04-30T18:32:10Z",
        "updatedAt" : "2021-04-30T18:32:10Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "c405cab30e2cb7a729192b8a121a43a18324a5ca",
    "line" : 163,
    "diffHunk" : "@@ -1,1 +353,357 @@\n  @Since(\"3.0.0\")\n  def buildPodWithServiceAccount(serviceAccount: Option[String], pod: SparkPod): Option[Pod] = {\n    serviceAccount.map { account =>\n      new PodBuilder(pod.pod)"
  },
  {
    "id" : "1e6e967f-08d7-47ce-974b-0aed6f2ab17e",
    "prId" : 29846,
    "prUrl" : "https://github.com/apache/spark/pull/29846#pullrequestreview-494904767",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f2421dec-9e57-4943-a904-b0f68032d5af",
        "parentId" : null,
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "I like this :)\r\nInitially I was thinking about asking about re-using the PVCs because I know that in some systems PVC creating is slow (for dynamic scaling), but it's probably better to return the resources and not do some weird storage pool like I was thinking of.",
        "createdAt" : "2020-09-23T17:50:22Z",
        "updatedAt" : "2020-09-23T18:05:58Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      }
    ],
    "commit" : "97d80fc753cafdd7e02d2c2cefb20cb9e1ed86e6",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +327,331 @@  // Add a OwnerReference to the given resources making the pod an owner of them so when\n  // the pod is deleted, the resources are garbage collected.\n  def addOwnerReference(pod: Pod, resources: Seq[HasMetadata]): Unit = {\n    if (pod != null) {\n      val reference = new OwnerReferenceBuilder()"
  },
  {
    "id" : "fb957113-741e-4a2b-8cb5-7e332648e279",
    "prId" : 29844,
    "prUrl" : "https://github.com/apache/spark/pull/29844#pullrequestreview-495948822",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1334a61b-ec1f-43d8-b128-4e75e902328a",
        "parentId" : null,
        "authorId" : "4c995a1a-1668-4460-9df8-b8244472ae24",
        "body" : "nit: would call this operation \"add service account\"",
        "createdAt" : "2020-09-24T15:48:11Z",
        "updatedAt" : "2020-09-25T00:17:06Z",
        "lastEditedBy" : "4c995a1a-1668-4460-9df8-b8244472ae24",
        "tags" : [
        ]
      },
      {
        "id" : "eb579e90-8101-499a-ad22-f233456b38c5",
        "parentId" : "1334a61b-ec1f-43d8-b128-4e75e902328a",
        "authorId" : "4c995a1a-1668-4460-9df8-b8244472ae24",
        "body" : "Can the `pod` parameter here be null, or empty?",
        "createdAt" : "2020-09-24T15:53:45Z",
        "updatedAt" : "2020-09-25T00:17:06Z",
        "lastEditedBy" : "4c995a1a-1668-4460-9df8-b8244472ae24",
        "tags" : [
        ]
      },
      {
        "id" : "68b66d57-16b4-4076-a6e4-b951bff47827",
        "parentId" : "1334a61b-ec1f-43d8-b128-4e75e902328a",
        "authorId" : "39c20408-0a37-4dc5-a5a9-7dfb8ed875cb",
        "body" : "I changed this to addServiceAccount but this differs from the accepted patch in 3.0.0\r\nhttps://github.com/apache/spark/pull/24748/files ",
        "createdAt" : "2020-09-24T20:06:56Z",
        "updatedAt" : "2020-09-25T00:17:06Z",
        "lastEditedBy" : "39c20408-0a37-4dc5-a5a9-7dfb8ed875cb",
        "tags" : [
        ]
      },
      {
        "id" : "0fe2f6df-6c6e-4b50-afd3-c81d8121667c",
        "parentId" : "1334a61b-ec1f-43d8-b128-4e75e902328a",
        "authorId" : "4c995a1a-1668-4460-9df8-b8244472ae24",
        "body" : "sorry, I forgot that this was being pulled back to 2.4 as a bug-fix. Should probably keep it consistent w/ 3.0",
        "createdAt" : "2020-09-24T21:02:38Z",
        "updatedAt" : "2020-09-25T00:17:06Z",
        "lastEditedBy" : "4c995a1a-1668-4460-9df8-b8244472ae24",
        "tags" : [
        ]
      }
    ],
    "commit" : "81205a58cf53042017123c7b8d54778347ef608c",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +66,70 @@  def parseMasterUrl(url: String): String = url.substring(\"k8s://\".length)\n\n  def buildPodWithServiceAccount(serviceAccount: Option[String], pod: SparkPod): Option[Pod] = {\n    serviceAccount.map { account =>\n      new PodBuilder(pod.pod)"
  },
  {
    "id" : "dbe73d09-68bb-4236-8924-43e7512c96aa",
    "prId" : 29477,
    "prUrl" : "https://github.com/apache/spark/pull/29477#pullrequestreview-501144400",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "712f8b74-f07a-4167-aae9-401858806287",
        "parentId" : null,
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "we now have essentially the same code in both yarn and k8s, perhaps we can consolidate it into a utility function.",
        "createdAt" : "2020-10-02T13:40:26Z",
        "updatedAt" : "2020-10-02T13:42:31Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      }
    ],
    "commit" : "5600542d43bfd0221ba633b90226a15962ee92ce",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +329,333 @@   * Convert MEMORY_OFFHEAP_SIZE to MB Unit, return 0 if MEMORY_OFFHEAP_ENABLED is false.\n   */\n  def executorOffHeapMemorySizeAsMb(kubernetesConf: KubernetesConf): Int = {\n    if (kubernetesConf.get(MEMORY_OFFHEAP_ENABLED)) {\n      Utils.memoryStringToMb(kubernetesConf.get(MEMORY_OFFHEAP_SIZE).toString)"
  }
]