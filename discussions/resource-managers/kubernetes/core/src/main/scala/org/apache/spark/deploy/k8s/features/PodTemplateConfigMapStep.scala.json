[
  {
    "id" : "f3467bab-f904-4fef-aed7-5812e52e982c",
    "prId" : 29934,
    "prUrl" : "https://github.com/apache/spark/pull/29934#pullrequestreview-504083240",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dff95c82-f4f6-4fb9-906d-4435d654848d",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "This makes the following status.\r\n```\r\ntpcds-py-eebc4474fa60b6f7-driver-conf-map      1      5s\r\ntpcds-py-eebc4474fa60b6f7-podspec-configmap    1      5s\r\n```\r\n\r\nThis is inconsistent because Driver is using `driver-conf-map` postfix and executor is using `podspec-configmap`.\r\n```\r\nresource-managers/kubernetes/core/src/main/scala/org/apache/spark/deploy/k8s/submit/KubernetesClientApplication.scala:    val configMapName = s\"${conf.resourceNamePrefix}-driver-conf-map\"\r\n```\r\n\r\nLet's use `-exec-conf-map` as a postfix.",
        "createdAt" : "2020-10-05T20:13:55Z",
        "updatedAt" : "2020-10-06T04:44:18Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "d45981c8-4228-4e36-816f-96859731e6f1",
        "parentId" : "dff95c82-f4f6-4fb9-906d-4435d654848d",
        "authorId" : "3843c0f2-396c-4b0f-a79d-7e922d180da9",
        "body" : "Wel actually this configmap is not used by the executors but also by the driver. The driver needs this configmap to spawn executors with the right template. So I'll change the name to:`driver-podspec-conf-map`. Let me know if that is fine.",
        "createdAt" : "2020-10-06T04:41:40Z",
        "updatedAt" : "2020-10-06T04:44:18Z",
        "lastEditedBy" : "3843c0f2-396c-4b0f-a79d-7e922d180da9",
        "tags" : [
        ]
      },
      {
        "id" : "976e3d96-f8fd-4f55-a25e-2266a769c272",
        "parentId" : "dff95c82-f4f6-4fb9-906d-4435d654848d",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Could you share your result from `k get cm`? Does it looks reasonably consistent?",
        "createdAt" : "2020-10-06T19:50:17Z",
        "updatedAt" : "2020-10-06T19:50:18Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "11662758-e9c7-4e8d-a815-d7569ca037d2",
        "parentId" : "dff95c82-f4f6-4fb9-906d-4435d654848d",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Also, please update your PR description. I added **AFTER** paragraph at this PR description. You can fill in the final output there.",
        "createdAt" : "2020-10-06T19:52:01Z",
        "updatedAt" : "2020-10-06T19:52:01Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "4f05a4d6-433c-4691-856e-a3d40e911c56",
        "parentId" : "dff95c82-f4f6-4fb9-906d-4435d654848d",
        "authorId" : "3843c0f2-396c-4b0f-a79d-7e922d180da9",
        "body" : "During running the integration tests when watching the configmap it looks something like this:\r\n\r\n```\r\naaece65ef82e4a30b7b7800aad600d4f   spark-test-app-aac9f37502b2ca55-driver-conf-map   1      0s\r\naaece65ef82e4a30b7b7800aad600d4f   spark-test-app-aac9f37502b2ca55-driver-podspec-conf-map   1      0\r\n```\r\n\r\nFor me this looks nice because it's clear that the confimap is used by the driver. And when sorted alphabetically they are neatly together.",
        "createdAt" : "2020-10-07T10:58:23Z",
        "updatedAt" : "2020-10-07T10:58:23Z",
        "lastEditedBy" : "3843c0f2-396c-4b0f-a79d-7e922d180da9",
        "tags" : [
        ]
      },
      {
        "id" : "db49553b-9f63-4705-bd97-fd3745424fdc",
        "parentId" : "dff95c82-f4f6-4fb9-906d-4435d654848d",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Got it. Thank you, @stijndehaes .",
        "createdAt" : "2020-10-07T16:50:53Z",
        "updatedAt" : "2020-10-07T16:50:53Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "70b59ecc-d854-4b4f-8754-520ce0be675f",
        "parentId" : "dff95c82-f4f6-4fb9-906d-4435d654848d",
        "authorId" : "e7a5dd37-d209-4946-96be-6c5de9d3e910",
        "body" : "Nice!",
        "createdAt" : "2020-10-07T16:55:38Z",
        "updatedAt" : "2020-10-07T16:55:38Z",
        "lastEditedBy" : "e7a5dd37-d209-4946-96be-6c5de9d3e910",
        "tags" : [
        ]
      }
    ],
    "commit" : "948e15a48e68022ee39f715a883e62fbe2f15397",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +32,36 @@  private val hasTemplate = conf.contains(KUBERNETES_EXECUTOR_PODTEMPLATE_FILE)\n\n  private val configmapName = s\"${conf.resourceNamePrefix}-$POD_TEMPLATE_CONFIGMAP\"\n\n  def configurePod(pod: SparkPod): SparkPod = {"
  }
]