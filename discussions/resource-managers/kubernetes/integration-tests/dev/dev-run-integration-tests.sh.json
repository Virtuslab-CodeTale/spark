[
  {
    "id" : "2463bdc3-d3ce-4c5e-9bfe-2c9c8612afa4",
    "prId" : 31829,
    "prUrl" : "https://github.com/apache/spark/pull/31829#pullrequestreview-655052668",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6b33a8b-856b-418e-9d1c-083a78c872bb",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "The `install` phase is after `integration-test`, see default lifecycle at the [maven doc](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html):\r\n\r\n\r\nPhase | Description\r\n-- | --\r\n... | ...\r\npackage | take the compiled code and package it in its distributable format, such as a JAR.\r\npre-integration-test | perform actions required before integration tests are executed. This may involve things such as setting up the required environment.\r\n**integration-test** | process and deploy the package if necessary into an environment where integration tests can be run.\r\npost-integration-test | perform actions required after integration tests have been executed. This may including cleaning up the environment.\r\nverify | run any checks to verify the package is valid and meets quality criteria.\r\n**install** | install the package into the local repository, for use as a dependency in other projects locally.\r\n...|...\r\n\r\n\r\nWith `install` the local repo will be updated with the fresh jars and in case of `--skip-building-dependencies` the build will reuse those.",
        "createdAt" : "2021-04-08T10:00:20Z",
        "updatedAt" : "2021-04-17T07:57:12Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "cbc74d08-6bf3-45bd-b4f0-53544ef89c4a",
        "parentId" : "f6b33a8b-856b-418e-9d1c-083a78c872bb",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Well, I know that we need `install` sometimes, but for this one, I'm a little negative for converting `integration-test` to `install` because it pollutes the local repo while testing and reviewing someone-else's PR. It's really painful for committers to clean up the local repo everytime to avoid any side-effects for the other PRs. Is this really inevitable?",
        "createdAt" : "2021-05-09T05:13:25Z",
        "updatedAt" : "2021-05-09T05:13:26Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "588f964e-d13e-4750-9df2-a7594ebcf253",
        "parentId" : "f6b33a8b-856b-418e-9d1c-083a78c872bb",
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "I would say this is the orherway around, assuming in both PRs we stick to `install`.\r\nSo when we call `install` in the first PR we could be sure the fresh jars will be used (even when the artifact we build referencing something outside of the maven reactor) and when we move to the next PR because of `install` we have again the fresh jars.",
        "createdAt" : "2021-05-09T08:11:21Z",
        "updatedAt" : "2021-05-09T08:11:21Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      }
    ],
    "commit" : "855273a67e7e6a62130c707439d15ac25d4cb1f2",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +181,185 @@)\n\n$TEST_ROOT_DIR/build/mvn install -f $TEST_ROOT_DIR/pom.xml -pl resource-managers/kubernetes/integration-tests $BUILD_DEPENDENCIES_MVN_FLAG -Pscala-$SCALA_VERSION -P$HADOOP_PROFILE -Pkubernetes -Pkubernetes-integration-tests ${properties[@]}"
  },
  {
    "id" : "ca8678cd-1a37-4188-a17e-9172280cbd1f",
    "prId" : 31829,
    "prUrl" : "https://github.com/apache/spark/pull/31829#pullrequestreview-655041207",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "af6e3290-f2b6-44cf-8330-dfdf5e4ce154",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "In addition, this is inconsistent from README.md line 128.\r\n- https://github.com/apache/spark/pull/31829/files#diff-280a1f3f6bebe922254b2a1f2f952929f02e582c60169c659f1dff792f633caaR128",
        "createdAt" : "2021-05-09T05:19:05Z",
        "updatedAt" : "2021-05-09T05:19:05Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "855273a67e7e6a62130c707439d15ac25d4cb1f2",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +181,185 @@)\n\n$TEST_ROOT_DIR/build/mvn install -f $TEST_ROOT_DIR/pom.xml -pl resource-managers/kubernetes/integration-tests $BUILD_DEPENDENCIES_MVN_FLAG -Pscala-$SCALA_VERSION -P$HADOOP_PROFILE -Pkubernetes -Pkubernetes-integration-tests ${properties[@]}"
  }
]