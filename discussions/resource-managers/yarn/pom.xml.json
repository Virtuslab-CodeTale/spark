[
  {
    "id" : "3cb6856a-2ea9-4866-bcfc-3c7822d95ed7",
    "prId" : 29824,
    "prUrl" : "https://github.com/apache/spark/pull/29824#pullrequestreview-493349359",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "14870b06-18a0-4940-bb80-6c7e9dff0d47",
        "parentId" : null,
        "authorId" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "body" : "cc  @srowen I found that we add `org.glassfish.jersey.test-framework.providers` dependency after #25455 and brings the test dependence `jakarta.servlet-api` , It has different version from `javax.servlet-api`.\r\n\r\nBut I'm not sure should we use `jakarta.servlet-api` as a compile dependency  instead of `javax.servlet-api` directly",
        "createdAt" : "2020-09-21T15:55:24Z",
        "updatedAt" : "2020-09-21T15:58:10Z",
        "lastEditedBy" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "tags" : [
        ]
      },
      {
        "id" : "daa03dfe-f11f-4389-b586-dc4e4467e901",
        "parentId" : "14870b06-18a0-4940-bb80-6c7e9dff0d47",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "How about instead excluding the 4.0.x dependency from wherever it comes in? My guess is we want the 3.x version.",
        "createdAt" : "2020-09-21T15:56:52Z",
        "updatedAt" : "2020-09-21T15:56:52Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "fd3413e2-7e66-4e6f-950d-77d926734b3a",
        "parentId" : "14870b06-18a0-4940-bb80-6c7e9dff0d47",
        "authorId" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "body" : "And I'm not sure should we need add this test dependency, but it failed in my test environment without this dependency\r\n\r\n",
        "createdAt" : "2020-09-21T16:00:15Z",
        "updatedAt" : "2020-09-21T16:00:15Z",
        "lastEditedBy" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "tags" : [
        ]
      },
      {
        "id" : "9a4415af-8936-440a-809e-63fd9681782c",
        "parentId" : "14870b06-18a0-4940-bb80-6c7e9dff0d47",
        "authorId" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "body" : "I've tried it once, but failed. It looks like really need 4.0.x, but I'll re-check this.",
        "createdAt" : "2020-09-21T16:03:32Z",
        "updatedAt" : "2020-09-21T16:03:32Z",
        "lastEditedBy" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "tags" : [
        ]
      },
      {
        "id" : "86587754-64a9-4444-bcac-c4e94fa0106d",
        "parentId" : "14870b06-18a0-4940-bb80-6c7e9dff0d47",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "OK, then this approach seems OK. We are in jar hell but what else is new!",
        "createdAt" : "2020-09-21T16:09:53Z",
        "updatedAt" : "2020-09-21T16:09:53Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "d63061a7-a756-4fcf-b4e1-b3048ca80e00",
        "parentId" : "14870b06-18a0-4940-bb80-6c7e9dff0d47",
        "authorId" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "body" : "Try to excluding 4.0.x from parent pom.xml and `core/pom.xml` as follow:\r\n\r\n![image](https://user-images.githubusercontent.com/1475305/93795937-b580b500-fc6c-11ea-8bf0-2e5a9f7a4e48.png)\r\n\r\nthen and remove `jakarta.servlet-api` dependency from `resource-managers/yarn/pom.xml` and rebuild&rerun the test case but still failed :( ..., It seems that 4.0.x is needed in the test\r\n",
        "createdAt" : "2020-09-21T16:47:24Z",
        "updatedAt" : "2020-09-21T16:47:24Z",
        "lastEditedBy" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "tags" : [
        ]
      },
      {
        "id" : "f4982f4e-a714-4721-bb0c-06372602a067",
        "parentId" : "14870b06-18a0-4940-bb80-6c7e9dff0d47",
        "authorId" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "body" : "Fortunately, there are no real failed test cases of yarn module in Scala 2.13 :)\r\n",
        "createdAt" : "2020-09-22T11:07:30Z",
        "updatedAt" : "2020-09-22T11:07:31Z",
        "lastEditedBy" : "c7afbd1a-ab9f-4878-b837-32685ae783b0",
        "tags" : [
        ]
      }
    ],
    "commit" : "250e397e32ac6b55ea84d68cacd340c4cbc37870",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +95,99 @@      <scope>test</scope>\n    </dependency>\n\n    <!-- Explicit listing of transitive deps that are shaded. Otherwise, odd compiler crashes. -->\n    <dependency>"
  },
  {
    "id" : "fb17fabd-e2b0-423b-97a2-099607968712",
    "prId" : 28788,
    "prUrl" : "https://github.com/apache/spark/pull/28788#pullrequestreview-429382458",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1558fe49-cc91-4921-87cf-7322b397b1fd",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Do we need to mention this profile option in docs?",
        "createdAt" : "2020-06-11T23:19:34Z",
        "updatedAt" : "2020-06-18T06:03:21Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "fc952951-af9d-44a3-9510-3a166a7fe25f",
        "parentId" : "1558fe49-cc91-4921-87cf-7322b397b1fd",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Seems we already have https://github.com/apache/spark/blob/b11e42663be680a0357f2bf7bd8b16afe313eb5e/docs/building-spark.md#packaging-without-hadoop-dependencies-for-yarn",
        "createdAt" : "2020-06-11T23:23:30Z",
        "updatedAt" : "2020-06-18T06:03:21Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "fb46b738-b8a8-472f-99ac-2683d32c98a7",
        "parentId" : "1558fe49-cc91-4921-87cf-7322b397b1fd",
        "authorId" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "body" : "This profile is already in parent POM, so when we build it with `hadoop-provided` from the root project, this will only add the property to yarn scope as we don't need this property globally for the entire Spark project.",
        "createdAt" : "2020-06-11T23:30:58Z",
        "updatedAt" : "2020-06-18T06:03:21Z",
        "lastEditedBy" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "tags" : [
        ]
      },
      {
        "id" : "80b0729a-a692-490a-9e26-1e0da603886e",
        "parentId" : "1558fe49-cc91-4921-87cf-7322b397b1fd",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Yea, thanks. I see. I just wonder if we want to mention this profile in the docs you added (docs/running-on-yarn.md), or adding a link to the doc link I posted above, so users can know how to build a \"no-hadoop\" distribution, when reading this.",
        "createdAt" : "2020-06-11T23:35:06Z",
        "updatedAt" : "2020-06-18T06:03:21Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "19707146-c404-4960-a035-074cb468412e",
        "parentId" : "1558fe49-cc91-4921-87cf-7322b397b1fd",
        "authorId" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "body" : "The next line of added doc `To build Spark yourself, refer to [Building Spark](building-spark.html).` has the link to the doc you mentioned. I think they should be able to figure it out when they read building spark session.",
        "createdAt" : "2020-06-12T00:09:52Z",
        "updatedAt" : "2020-06-18T06:03:21Z",
        "lastEditedBy" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "tags" : [
        ]
      }
    ],
    "commit" : "c2241528374cb64638204b21fd20a8c15cf931da",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +42,46 @@    </profile>\n  </profiles>\n\n  <dependencies>\n    <dependency>"
  }
]