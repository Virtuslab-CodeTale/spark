[
  {
    "id" : "86371c9f-b135-414e-a69f-43b79677e365",
    "prId" : 28087,
    "prUrl" : "https://github.com/apache/spark/pull/28087#pullrequestreview-392446830",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "71c8a562-79ea-4a72-ac86-af160eaa9f2f",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "It should have been better probably if we added SQL example with UDAF too, e.g.)\r\n\r\n```sql\r\nval agg = Aggregator(...)\r\nspark.udf.register(\"udaf_func\", agg)\r\n```\r\n\r\nwhich was added in SPARK-27296.\r\n\r\nThe current example is only Scala/Java APIs there in `UserDefinedTypedAggregation.scala` and `JavaUserDefinedTypedAggregation.java`.",
        "createdAt" : "2020-04-13T09:22:26Z",
        "updatedAt" : "2020-04-13T09:22:27Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "1550c3f4-3640-485d-a98a-54f396c9eaae",
        "parentId" : "71c8a562-79ea-4a72-ac86-af160eaa9f2f",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "+1; @huaxingao Could you add it in follow-up? ~The initali commit in this PR includes the example (https://github.com/apache/spark/pull/28087/commits/b276e16df4c0543b30583cb2007b31cdc78a0848#diff-97b11639e031df253c371da5298980d9R32-R54), but it seems to disappear during the reviews....~",
        "createdAt" : "2020-04-13T09:39:11Z",
        "updatedAt" : "2020-04-13T23:59:38Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "2758b591-5446-4a64-8098-219d3a996ae6",
        "parentId" : "71c8a562-79ea-4a72-ac86-af160eaa9f2f",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "I just submitted a follow-up to add the SQL example. ",
        "createdAt" : "2020-04-13T21:18:05Z",
        "updatedAt" : "2020-04-13T21:18:05Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "8736f5cc8eb19f13b19d710571e3f203f0c7f292",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +68,72 @@    );\n    spark.udf().register(\"strLen\", strLen);\n    spark.sql(\"SELECT strLen('test', 1)\").show();\n    // +------------+\n    // |UDF(test, 1)|"
  }
]