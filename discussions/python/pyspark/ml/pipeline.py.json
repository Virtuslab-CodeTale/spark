[
  {
    "id" : "b225af22-3bd7-42eb-81b0-084ae8317ab7",
    "prId" : 29563,
    "prUrl" : "https://github.com/apache/spark/pull/29563#pullrequestreview-477048792",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "831db014-67ec-49e5-9cd4-19346ba653ae",
        "parentId" : null,
        "authorId" : "e29a7794-ac2e-4e6f-a690-737e83e1bace",
        "body" : "Missing import ",
        "createdAt" : "2020-08-27T20:18:50Z",
        "updatedAt" : "2020-08-29T18:33:37Z",
        "lastEditedBy" : "e29a7794-ac2e-4e6f-a690-737e83e1bace",
        "tags" : [
        ]
      }
    ],
    "commit" : "06480a7b4e8c5106ac7f7ea0fa9cecd6ea09e0bb",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +15,19 @@# limitations under the License.\n#\nimport os\n\nfrom pyspark import keyword_only, since, SparkContext"
  },
  {
    "id" : "83b18e59-e29e-45ad-ad79-42c1d81e9853",
    "prId" : 28279,
    "prUrl" : "https://github.com/apache/spark/pull/28279#pullrequestreview-397872555",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b04207a-4c61-45bf-bffc-81dd1d7184ab",
        "parentId" : null,
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "Similar with above, this is why nested pipeline and nested oneVsRest works.\r\n\r\nBtw, in future refactoring, we can create a new mix-in called JavaParamsOps, and move not only `_transfer_param_map_from_java`, `_transfer_param_map_to_java` but also `_from_java`(staticmethod), `_to_java` methods into it. Because class Pipeline & OneVsRest which do not inherit `JavaParams` also need them.",
        "createdAt" : "2020-04-22T06:16:59Z",
        "updatedAt" : "2020-04-22T06:18:57Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9b31c3adade31e5a93ce1bc6d35f4d3c3f3d27ca",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +218,222 @@                    # and Estimator/Transformer class which implements `_from_java` static method\n                    # (such as OneVsRest, Pipeline class).\n                    py_obj = JavaParams._from_java(java_obj)\n                else:\n                    py_obj = _java2py(sc, java_obj)"
  },
  {
    "id" : "ebdc571d-0c0f-45bc-9b42-6fc78b1c9837",
    "prId" : 28273,
    "prUrl" : "https://github.com/apache/spark/pull/28273#pullrequestreview-396552160",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c55ebc07-6039-4a3d-8380-56089f4a1acf",
        "parentId" : null,
        "authorId" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "body" : "@mengxr Discussion: Should we put these method into a base class ? So that we can eliminate some duplicated code in `JavaParams`, `OneVsRest`, `Pipeline` class. But where to put them need discussion.\r\n",
        "createdAt" : "2020-04-20T10:11:38Z",
        "updatedAt" : "2020-04-20T11:13:54Z",
        "lastEditedBy" : "7e665d8b-d739-4edf-88c8-7379ff8585c2",
        "tags" : [
        ]
      },
      {
        "id" : "c921b37f-b37e-444a-b3a7-4f414d7704b0",
        "parentId" : "c55ebc07-6039-4a3d-8380-56089f4a1acf",
        "authorId" : "0c812942-02cb-4975-9748-394d1387affa",
        "body" : "I don't have a strong preference because they are private methods. How about making a new mix-in called JavaParamsOps that contains those methods and then make JavaParams(JavaWrapper, JavaParamsOps, Params). We don't have to do it in this PR, which will unnecessarily increase the scope.",
        "createdAt" : "2020-04-20T15:16:10Z",
        "updatedAt" : "2020-04-20T15:16:10Z",
        "lastEditedBy" : "0c812942-02cb-4975-9748-394d1387affa",
        "tags" : [
        ]
      }
    ],
    "commit" : "2af493a016093d8499bf02bc37bc3e842ed74c62",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +217,221 @@                    py_obj = _java2py(sc, java_obj)\n                paramMap[self.getParam(param.name())] = py_obj\n        return paramMap\n\n"
  },
  {
    "id" : "4b8abda0-f9c3-4746-b240-2317912e2a0e",
    "prId" : 28110,
    "prUrl" : "https://github.com/apache/spark/pull/28110#pullrequestreview-388095791",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cea65a8e-7050-4786-bc2b-4b0a789d64cf",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I don't know a lot of ML stuff but I can tell the current PR is inconsistent with Scala side:\r\n\r\nhttps://github.com/apache/spark/blob/3ce1dff7ba4799295a2bf89e6df35e900afc587b/mllib/src/main/scala/org/apache/spark/ml/Pipeline.scala#L362\r\n\r\nIs `PipelineModel` supposed to be inherited?  If that's the case seems we should also inherit `PipelineModelReader` and `PipelineModelWriter` accordingly consistently with Scala and Java side.\r\n",
        "createdAt" : "2020-04-06T02:52:21Z",
        "updatedAt" : "2020-04-06T02:52:21Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "25e48a77-9e52-4683-a02a-62d89be59b56",
        "parentId" : "cea65a8e-7050-4786-bc2b-4b0a789d64cf",
        "authorId" : "478aed7e-21cf-4e66-b16b-3e885c30f07c",
        "body" : "Is that mandatory? It seems strange that the intention is to force developers to inherit all three together even when the Reader/Writer logic is the same for the custom implementation of the `PipelineModel`.",
        "createdAt" : "2020-04-06T07:04:41Z",
        "updatedAt" : "2020-04-06T07:04:41Z",
        "lastEditedBy" : "478aed7e-21cf-4e66-b16b-3e885c30f07c",
        "tags" : [
        ]
      },
      {
        "id" : "60cfd6da-4b3a-4cc1-9108-37bbfe7bbaee",
        "parentId" : "cea65a8e-7050-4786-bc2b-4b0a789d64cf",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "We should reduce such difference in other languages, for example, in order to reduce maintenance overhead. Unless there's a strong reason, I think we don't usually make difference between them.\r\n\r\nIt is by design - how/which scope the project wants to expose. If we should make it inheritable, ideally we should change Scala side too.\r\n\r\nFrom my reading of the codes, I don't think it was intended to expose and make it inheritable, though.",
        "createdAt" : "2020-04-06T08:50:04Z",
        "updatedAt" : "2020-04-06T08:50:04Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "261c51ea-0f7b-441a-9d6a-3238db71cb52",
        "parentId" : "cea65a8e-7050-4786-bc2b-4b0a789d64cf",
        "authorId" : "478aed7e-21cf-4e66-b16b-3e885c30f07c",
        "body" : "I see. OK so should I just go ahead and close the pull request?",
        "createdAt" : "2020-04-06T09:46:08Z",
        "updatedAt" : "2020-04-06T09:46:08Z",
        "lastEditedBy" : "478aed7e-21cf-4e66-b16b-3e885c30f07c",
        "tags" : [
        ]
      },
      {
        "id" : "da9a1707-dfaf-49bb-96be-e94e34a5dcc1",
        "parentId" : "cea65a8e-7050-4786-bc2b-4b0a789d64cf",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yes, I think we should just close but I'd wait for a couple of days in case other committers have different thoughts in particular given I only know limited context of ML.",
        "createdAt" : "2020-04-06T09:52:28Z",
        "updatedAt" : "2020-04-06T09:52:29Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "e75213cc6b0df85fa099c3d96a85736dfc1911ba",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +243,247 @@        else:\n            uid, stages = PipelineSharedReadWrite.load(metadata, self.sc, path)\n            return self.cls(stages=stages)._resetUid(uid)\n\n"
  },
  {
    "id" : "3a8ee8ad-44e6-4a21-b0ba-965406716cac",
    "prId" : 28110,
    "prUrl" : "https://github.com/apache/spark/pull/28110#pullrequestreview-387982025",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "12d776b4-20fb-4cee-85db-30a9545742da",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "My guess is that `self.cls` was just added as a corresponding private variable `className` in Scala side just to make it easier to match in the future. This variable seems supposed to be a `PipelineModel` class.",
        "createdAt" : "2020-04-06T02:58:54Z",
        "updatedAt" : "2020-04-06T02:58:55Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "42b6fcdf-aceb-4181-9910-a8070e8e768b",
        "parentId" : "12d776b4-20fb-4cee-85db-30a9545742da",
        "authorId" : "478aed7e-21cf-4e66-b16b-3e885c30f07c",
        "body" : "I do see it now in the Scala side. But does it not then make sense to adapt the Scala side as well. I'll be honest that I am not a Scala developer, so I wouldn't know how to change it correctly without breaking. However, I see no reason to NOT change it to use className/self.cls when those variables are expected to be a PipelineModel type anyways. By changing it, it just adds a bit more flexibility to the way it can be inherited.",
        "createdAt" : "2020-04-06T07:09:19Z",
        "updatedAt" : "2020-04-06T07:09:19Z",
        "lastEditedBy" : "478aed7e-21cf-4e66-b16b-3e885c30f07c",
        "tags" : [
        ]
      }
    ],
    "commit" : "e75213cc6b0df85fa099c3d96a85736dfc1911ba",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +243,247 @@        else:\n            uid, stages = PipelineSharedReadWrite.load(metadata, self.sc, path)\n            return self.cls(stages=stages)._resetUid(uid)\n\n"
  }
]