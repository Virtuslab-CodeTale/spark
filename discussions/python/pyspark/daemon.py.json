[
  {
    "id" : "2e4512cf-0508-4627-bc3b-24e78ae982cf",
    "prId" : 27903,
    "prUrl" : "https://github.com/apache/spark/pull/27903#pullrequestreview-377146574",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "002244ae-eb7a-4d0e-a96a-eb73f94941cf",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "`SIGHUP` is supposed to gracefully kill workers, and the we kill gracefully the daemon via proper `sys.exit`. Can you elabourate the process termination behaviours before and after this fix?",
        "createdAt" : "2020-03-15T03:21:55Z",
        "updatedAt" : "2020-03-15T03:21:55Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "d18d2572-3392-4da5-aec2-0ee130ac8ed2",
        "parentId" : "002244ae-eb7a-4d0e-a96a-eb73f94941cf",
        "authorId" : "aaaacd8a-c6cc-4deb-a7cc-adaa66fb364d",
        "body" : "Before the fix:\r\nps -ef|grep -i pyspark.daemon\r\n/apps/anaconda3-5.3.0/bin/python -m pyspark.daemon\r\n/apps/anaconda3-5.3.0/bin/python -m pyspark.daemon\r\n/apps/anaconda3-5.3.0/bin/python -m pyspark.daemon\r\n\r\nAfter the fix:\r\nps -ef|grep -i pyspark.daemon",
        "createdAt" : "2020-03-18T18:51:23Z",
        "updatedAt" : "2020-03-18T18:51:23Z",
        "lastEditedBy" : "aaaacd8a-c6cc-4deb-a7cc-adaa66fb364d",
        "tags" : [
        ]
      }
    ],
    "commit" : "86ca496f89e4ea2dc3fc281b83cd88b63c0e02cf",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +102,106 @@        # Send SIGHUP to notify workers of shutdown\n        os.kill(0, SIGTERM)\n        sys.exit(code)\n\n    def handle_sigterm(*args):"
  }
]