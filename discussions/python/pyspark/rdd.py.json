[
  {
    "id" : "5b8d944b-ea71-41c9-be20-722228a8c089",
    "prId" : 32667,
    "prUrl" : "https://github.com/apache/spark/pull/32667#pullrequestreview-668731587",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f7880c4-bc54-4821-bb22-f3559c3cf4ef",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "should we use `sys.float_info.max` instead, @nolanliou? Hm, btw just realised that it's funny that it can reach to the maximum of float ...",
        "createdAt" : "2021-05-26T05:20:02Z",
        "updatedAt" : "2021-05-26T05:20:02Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "c4b53dbe-faaf-47b6-b500-158a1dbd05a5",
        "parentId" : "4f7880c4-bc54-4821-bb22-f3559c3cf4ef",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Anyway avoiding failure on the batch size makes sense.",
        "createdAt" : "2021-05-26T05:23:57Z",
        "updatedAt" : "2021-05-26T05:23:57Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "1365fe55-addd-46ba-9378-dd3a8f2e66aa",
        "parentId" : "4f7880c4-bc54-4821-bb22-f3559c3cf4ef",
        "authorId" : "4b0337ac-9e2b-41b3-be5a-60c61b374bc6",
        "body" : "I think `sys.maxsize`  is ok. \r\n\r\nItâ€™s not easy to encounter this problem, but I ran into it...",
        "createdAt" : "2021-05-26T06:10:36Z",
        "updatedAt" : "2021-05-26T06:10:36Z",
        "lastEditedBy" : "4b0337ac-9e2b-41b3-be5a-60c61b374bc6",
        "tags" : [
        ]
      },
      {
        "id" : "349c46e6-30f0-46e4-842f-8e733baff1ef",
        "parentId" : "4f7880c4-bc54-4821-bb22-f3559c3cf4ef",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "okay, `sys.maxsize` batch size already doesn't make much sense anyway. ",
        "createdAt" : "2021-05-26T08:22:16Z",
        "updatedAt" : "2021-05-26T08:22:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "67e6d719db88b480be527bcd15af7e021bcff141",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +2068,2072 @@                    # let 1M < avg < 10M\n                    if avg < 1:\n                        batch = min(sys.maxsize, batch * 1.5)\n                    elif avg > 10:\n                        batch = max(int(batch / 1.5), 1)"
  }
]