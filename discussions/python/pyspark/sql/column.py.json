[
  {
    "id" : "8e52261c-4a51-4311-b695-a7a3abe0b457",
    "prId" : 30322,
    "prUrl" : "https://github.com/apache/spark/pull/30322#pullrequestreview-528187697",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "python3 uses utf8 for strings by default, so this change seems fine. cc: @HyukjinKwon @viirya @srowen ",
        "createdAt" : "2020-11-10T23:28:36Z",
        "updatedAt" : "2020-11-10T23:56:58Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "7d34bfe6-1770-4c4d-8941-4c7f3e36757d",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Do we have any more instances of decode()?",
        "createdAt" : "2020-11-11T01:02:19Z",
        "updatedAt" : "2020-11-11T01:02:20Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "dc175030-1c1c-4ee5-9f2a-c3a5aeb30c92",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, the change looks good, and yeah, are there more instances like this?",
        "createdAt" : "2020-11-11T01:53:49Z",
        "updatedAt" : "2020-11-11T01:53:49Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "6f05f68c-9807-45c2-86dd-c3404cfb6dcc",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Seems fine. Is it originally for non printable characters in unicode? ",
        "createdAt" : "2020-11-11T02:46:25Z",
        "updatedAt" : "2020-11-11T02:46:25Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "9c7740ad-2f2b-4c09-93dc-f1ebe4901f12",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "> Do we have any more instances of decode()?\r\n\r\nWe do a bit of encoding / decoding when we communicate with JVM, but purpose there is clear.\r\n\r\nThe only other place when we encode strings intended for user consumption is `RDD.toDebugString`. It  also something that could be fixed, as it messing with the output a bit (as print won't respect line breaks).\r\n\r\n> Seems fine. Is it originally for non printable characters in unicode?\r\n\r\nI believe the point was to have `str` object as the output, instead of `unicode`. If I recall correctly, `unicode` (py4j returns JVM `Strings` as `unicode` in Python 2 and as a result the whole expression would evaluate to `unicode`)  in `__repr__`, wasn't handled correctly.",
        "createdAt" : "2020-11-11T13:24:16Z",
        "updatedAt" : "2020-11-11T13:24:17Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "5a06d9b7-2c7a-4433-b739-36305166550d",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "For example in IPython\r\n\r\n```\r\n>>> import sys\r\n>>> sys.version_info\r\nsys.version_info(major=2, minor=7, micro=15, releaselevel='final', serial=0)\r\n>>> class Foo:\r\n...     def __repr__(self):\r\n...         return u\"Å“\"\r\n...     \r\n...     \r\n>>> Foo().__repr__()\r\nu'\\u0153'\r\n>>> Foo()\r\nTraceback (most recent call last):\r\n  File \"/path/to/lib/python2.7/site-packages/IPython/core/formatters.py\", line 686, in __call__\r\n    return repr(obj)\r\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u0153' in position 0: ordinal not in range(128)\r\n```",
        "createdAt" : "2020-11-11T13:50:31Z",
        "updatedAt" : "2020-11-11T13:50:32Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec728057059a54ffbcdf86640304f60f1be2f083",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +907,911 @@\n    def __repr__(self):\n        return \"Column<'%s'>\" % self._jc.toString()\n\n"
  }
]