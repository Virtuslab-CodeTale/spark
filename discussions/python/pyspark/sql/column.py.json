[
  {
    "id" : "8e52261c-4a51-4311-b695-a7a3abe0b457",
    "prId" : 30322,
    "prUrl" : "https://github.com/apache/spark/pull/30322#pullrequestreview-528187697",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "python3 uses utf8 for strings by default, so this change seems fine. cc: @HyukjinKwon @viirya @srowen ",
        "createdAt" : "2020-11-10T23:28:36Z",
        "updatedAt" : "2020-11-10T23:56:58Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "7d34bfe6-1770-4c4d-8941-4c7f3e36757d",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Do we have any more instances of decode()?",
        "createdAt" : "2020-11-11T01:02:19Z",
        "updatedAt" : "2020-11-11T01:02:20Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "dc175030-1c1c-4ee5-9f2a-c3a5aeb30c92",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, the change looks good, and yeah, are there more instances like this?",
        "createdAt" : "2020-11-11T01:53:49Z",
        "updatedAt" : "2020-11-11T01:53:49Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "6f05f68c-9807-45c2-86dd-c3404cfb6dcc",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Seems fine. Is it originally for non printable characters in unicode? ",
        "createdAt" : "2020-11-11T02:46:25Z",
        "updatedAt" : "2020-11-11T02:46:25Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "9c7740ad-2f2b-4c09-93dc-f1ebe4901f12",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "> Do we have any more instances of decode()?\r\n\r\nWe do a bit of encoding / decoding when we communicate with JVM, but purpose there is clear.\r\n\r\nThe only other place when we encode strings intended for user consumption is `RDD.toDebugString`. It  also something that could be fixed, as it messing with the output a bit (as print won't respect line breaks).\r\n\r\n> Seems fine. Is it originally for non printable characters in unicode?\r\n\r\nI believe the point was to have `str` object as the output, instead of `unicode`. If I recall correctly, `unicode` (py4j returns JVM `Strings` as `unicode` in Python 2 and as a result the whole expression would evaluate to `unicode`)  in `__repr__`, wasn't handled correctly.",
        "createdAt" : "2020-11-11T13:24:16Z",
        "updatedAt" : "2020-11-11T13:24:17Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "5a06d9b7-2c7a-4433-b739-36305166550d",
        "parentId" : "4019cb03-83b2-4e4c-8804-180c581352dd",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "For example in IPython\r\n\r\n```\r\n>>> import sys\r\n>>> sys.version_info\r\nsys.version_info(major=2, minor=7, micro=15, releaselevel='final', serial=0)\r\n>>> class Foo:\r\n...     def __repr__(self):\r\n...         return u\"Å“\"\r\n...     \r\n...     \r\n>>> Foo().__repr__()\r\nu'\\u0153'\r\n>>> Foo()\r\nTraceback (most recent call last):\r\n  File \"/path/to/lib/python2.7/site-packages/IPython/core/formatters.py\", line 686, in __call__\r\n    return repr(obj)\r\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u0153' in position 0: ordinal not in range(128)\r\n```",
        "createdAt" : "2020-11-11T13:50:31Z",
        "updatedAt" : "2020-11-11T13:50:32Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec728057059a54ffbcdf86640304f60f1be2f083",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +907,911 @@\n    def __repr__(self):\n        return \"Column<'%s'>\" % self._jc.toString()\n\n"
  },
  {
    "id" : "eb0f63de-7a87-4fdf-b120-15be4e93f7af",
    "prId" : 30181,
    "prUrl" : "https://github.com/apache/spark/pull/30181#pullrequestreview-519603037",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9df35f62-f2b4-4a11-b950-b04b7c30d53a",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "This seems the way to document the parameters passed via `kwargs`, see https://numpydoc.readthedocs.io/en/latest/format.html",
        "createdAt" : "2020-10-29T12:16:58Z",
        "updatedAt" : "2020-11-03T00:49:21Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "40bc04996ab651411656c08849b5ec0495cd8468",
    "line" : 406,
    "diffHunk" : "@@ -1,1 +719,723 @@            desired column names (collects all positional arguments passed)\n\n        Other Parameters\n        ----------------\n        metadata: dict"
  },
  {
    "id" : "843236c5-f96e-4dce-bec2-0da945fc4771",
    "prId" : 30181,
    "prUrl" : "https://github.com/apache/spark/pull/30181#pullrequestreview-519650177",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d3416fa6-8cb6-4906-9ad9-6effb444c76b",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I simply made it un-typed for simplicity where it takes a column + any value that a literal supports.",
        "createdAt" : "2020-10-29T13:15:13Z",
        "updatedAt" : "2020-11-03T00:49:21Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "40bc04996ab651411656c08849b5ec0495cd8468",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +180,184 @@    Parameters\n    ----------\n    other\n        a value or :class:`Column`\n"
  },
  {
    "id" : "e0a5124e-9edc-49c8-ab71-252f908d3bbc",
    "prId" : 29699,
    "prUrl" : "https://github.com/apache/spark/pull/29699#pullrequestreview-487828812",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f82ad793-66eb-4505-9b35-c47e98342a4c",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Can you check if `fieldName` is a string as well?",
        "createdAt" : "2020-09-14T08:38:11Z",
        "updatedAt" : "2020-09-14T14:51:51Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "cdebe8d1-64f4-4b1d-b4b2-7bd0412394db",
        "parentId" : "f82ad793-66eb-4505-9b35-c47e98342a4c",
        "authorId" : "92aa9573-b64a-4a86-aebf-54c827df3ed0",
        "body" : "Done",
        "createdAt" : "2020-09-14T14:28:30Z",
        "updatedAt" : "2020-09-14T14:51:51Z",
        "lastEditedBy" : "92aa9573-b64a-4a86-aebf-54c827df3ed0",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a8b542c68cb7126b50d4027f934dc181dd5b84d",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +356,360 @@        if not isinstance(col, Column):\n            raise TypeError(\"col should be a Column\")\n\n        return Column(self._jc.withField(fieldName, col._jc))\n"
  },
  {
    "id" : "361afc5c-d794-47f4-9797-a84aa0ce286b",
    "prId" : 29699,
    "prUrl" : "https://github.com/apache/spark/pull/29699#pullrequestreview-487701635",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "559344eb-bcb3-4425-89c2-eca4048dfee5",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "You should add it into https://github.com/apache/spark/blob/master/python/docs/source/reference/pyspark.sql.rst#dataframe-apis",
        "createdAt" : "2020-09-14T08:42:44Z",
        "updatedAt" : "2020-09-14T14:51:51Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "2286180e-6bfc-4a8e-b038-1c6c6e9a6c64",
        "parentId" : "559344eb-bcb3-4425-89c2-eca4048dfee5",
        "authorId" : "92aa9573-b64a-4a86-aebf-54c827df3ed0",
        "body" : "This is part of the Column class not DataFrame class, and I don't see a section for Column yet. Should I add one?",
        "createdAt" : "2020-09-14T12:22:44Z",
        "updatedAt" : "2020-09-14T14:51:51Z",
        "lastEditedBy" : "92aa9573-b64a-4a86-aebf-54c827df3ed0",
        "tags" : [
        ]
      },
      {
        "id" : "e5b90c32-ac6d-40ab-9fa2-eba47c0d62e9",
        "parentId" : "559344eb-bcb3-4425-89c2-eca4048dfee5",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Ohhh, okay no need to add in this PR. Let's add it in a separate PR.",
        "createdAt" : "2020-09-14T12:28:48Z",
        "updatedAt" : "2020-09-14T14:51:51Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "7a8b542c68cb7126b50d4027f934dc181dd5b84d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +331,335 @@\n    @since(3.1)\n    def withField(self, fieldName, col):\n        \"\"\"\n        An expression that adds/replaces a field in :class:`StructType` by name."
  }
]