[
  {
    "id" : "1b2e306e-9fc5-43d4-becf-82be182923cc",
    "prId" : 29122,
    "prUrl" : "https://github.com/apache/spark/pull/29122#pullrequestreview-513174790",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea38d8d7-9aba-4299-b99d-9dce04dc1806",
        "parentId" : null,
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "We should change annotations from\r\n\r\n```python\r\ndef from_avro(\r\n    data: ColumnOrName, jsonFormatSchema: str, options: Dict[str, str] = ...\r\n) -> Column: ..\r\n```\r\n\r\nto\r\n\r\n```python\r\ndef from_avro(\r\n    data: ColumnOrName, jsonFormatSchema: str, options: Optional[Dict[str, str]] = ...\r\n) -> Column: ..\r\n```\r\n\r\n",
        "createdAt" : "2020-10-20T20:36:59Z",
        "updatedAt" : "2020-12-04T10:23:56Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "092af63c-c829-442a-be76-7bd06b35d584",
        "parentId" : "ea38d8d7-9aba-4299-b99d-9dce04dc1806",
        "authorId" : "e29a7794-ac2e-4e6f-a690-737e83e1bace",
        "body" : "Thanks. Just curious, how can we check this? Mypy has been added, and I would expect that this would be caught.",
        "createdAt" : "2020-10-20T21:39:19Z",
        "updatedAt" : "2020-12-04T10:23:56Z",
        "lastEditedBy" : "e29a7794-ac2e-4e6f-a690-737e83e1bace",
        "tags" : [
        ]
      },
      {
        "id" : "46ece265-362a-4ba7-a641-7d11663a25c3",
        "parentId" : "ea38d8d7-9aba-4299-b99d-9dce04dc1806",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "\r\nAs far as I recall this behavior depends on the MyPy flags. In particular see [Disabling strict optional checking](https://mypy.readthedocs.io/en/stable/kinds_of_types.html#no-strict-optional).\r\n\r\nSo adding `no_implicit_optional` to `mypy.ini` should catch this.",
        "createdAt" : "2020-10-20T22:05:33Z",
        "updatedAt" : "2020-12-04T10:23:56Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "15d4452b-e021-4863-be6c-4a9effecad44",
        "parentId" : "ea38d8d7-9aba-4299-b99d-9dce04dc1806",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "FYI I am trying to establish optimal set of flags for mypy config, but it is a bit slowish work ‚Äí unlike standalone stubs, we have to correct for internal modules, tests and such, and I'd prefer to avoid atomic options (ignoring all errors there).",
        "createdAt" : "2020-10-20T22:09:20Z",
        "updatedAt" : "2020-12-04T10:23:56Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "df7516e4-ac8d-49f5-8a49-5bd2a53f2041",
        "parentId" : "ea38d8d7-9aba-4299-b99d-9dce04dc1806",
        "authorId" : "e29a7794-ac2e-4e6f-a690-737e83e1bace",
        "body" : "Thanks! üëç  Yes, definitely a process that we have to go through. Let's break this up into smaller pieces.",
        "createdAt" : "2020-10-20T22:15:17Z",
        "updatedAt" : "2020-12-04T10:23:56Z",
        "lastEditedBy" : "e29a7794-ac2e-4e6f-a690-737e83e1bace",
        "tags" : [
        ]
      }
    ],
    "commit" : "11f3790ac3ccc15efd7944e0fc1a3a2e3e8e3247",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +26,30 @@\n\ndef from_avro(data, jsonFormatSchema, options=None):\n    \"\"\"\n    Converts a binary column of Avro format into its corresponding catalyst value."
  }
]