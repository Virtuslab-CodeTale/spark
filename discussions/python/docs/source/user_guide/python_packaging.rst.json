[
  {
    "id" : "92db3a4e-be43-41aa-8af1-b9ee4f061f2f",
    "prId" : 29806,
    "prUrl" : "https://github.com/apache/spark/pull/29806#pullrequestreview-496333970",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b845a46c-6eb7-4d1e-9a01-1dff362a9903",
        "parentId" : null,
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "Could we emphasize here, that these solutions work only on YARN? ",
        "createdAt" : "2020-09-24T05:52:13Z",
        "updatedAt" : "2020-09-28T03:28:02Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "d210ab86-3cf3-4e65-a841-7aace7116094",
        "parentId" : "b845a46c-6eb7-4d1e-9a01-1dff362a9903",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Actually I did above `*only for YARN*` .. :-). If that sounds not enough, I am fine with emphasizing more.",
        "createdAt" : "2020-09-24T05:56:00Z",
        "updatedAt" : "2020-09-28T03:28:02Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "71b6a3d6-87fa-4ded-b609-0e98c85836ff",
        "parentId" : "b845a46c-6eb7-4d1e-9a01-1dff362a9903",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "Sorry, I am thinking more about putting this note in the header or something equivalent :)",
        "createdAt" : "2020-09-24T17:04:42Z",
        "updatedAt" : "2020-09-28T03:28:02Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "eb47a859-9ee5-4daf-abf9-31570e1d3fd5",
        "parentId" : "b845a46c-6eb7-4d1e-9a01-1dff362a9903",
        "authorId" : "ff0ff49e-03aa-49f2-b847-183a40aa4f0a",
        "body" : "Putting besides Kubernetes which is all docker based I don't see a restriction on why this couldn't work with other deployment modes. \r\nI know Mesos pretty well as we also have a mesos cluster (even though I have never tried to deploy Spark on it) and I think it will work the same. For Standalone mode I can confirm it works.\r\n\r\nSo spark-submit I'm pretty sure it works. The restriction to me is only for running SparkSession.Builder from inside Python where there we can't inject archives via the config (except for yarn, for the others there is 'spark.files' but not 'spark.archives') . But it is a minor fix imo. I could even do it. \r\nI would prefer not saying restricted to YARN and do the real fix instead to be able to inject archives via a config parameter. ",
        "createdAt" : "2020-09-24T17:25:34Z",
        "updatedAt" : "2020-09-28T03:28:02Z",
        "lastEditedBy" : "ff0ff49e-03aa-49f2-b847-183a40aa4f0a",
        "tags" : [
        ]
      },
      {
        "id" : "28b9c62f-2dd3-4fde-a413-583cbc9f97c0",
        "parentId" : "b845a46c-6eb7-4d1e-9a01-1dff362a9903",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "In such case could we add (and validate) non-YARN example? That would be useful, especially when both `conda-pack` and   `venv-pack` already provide YARN ones.",
        "createdAt" : "2020-09-24T18:06:26Z",
        "updatedAt" : "2020-09-28T03:28:02Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      },
      {
        "id" : "42ccfb2e-734e-4606-a212-04d6c8912d26",
        "parentId" : "b845a46c-6eb7-4d1e-9a01-1dff362a9903",
        "authorId" : "ff0ff49e-03aa-49f2-b847-183a40aa4f0a",
        "body" : "Sorry for the confusion. I had a look again and the feature that zip files are extracted on the executor really seems specific to YARN (https://github.com/apache/spark/blob/3edab6cc1d70c102093e973a2cf97208db19be8c/core/src/main/scala/org/apache/spark/deploy/SparkSubmitArguments.scala#L563. I also tried and  '--archives' actually does nothing in Standalone mode.\r\nSo the current state is good. Zippable env only supported for YARN. PEX should work everywhere as it is shipped as a file.",
        "createdAt" : "2020-09-25T11:24:22Z",
        "updatedAt" : "2020-09-28T03:28:02Z",
        "lastEditedBy" : "ff0ff49e-03aa-49f2-b847-183a40aa4f0a",
        "tags" : [
        ]
      }
    ],
    "commit" : "928592dca2cf2588c499fd2cfbd05cd7f5dd3cc5",
    "line" : 83,
    "diffHunk" : "@@ -1,1 +81,85 @@is currently supported *only for YARN*.\n\nZip Virtual Environment\n~~~~~~~~~~~~~~~~~~~~~~~\n"
  }
]