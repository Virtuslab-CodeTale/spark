[
  {
    "id" : "ea56c64e-d003-459d-b902-64a177403efa",
    "prId" : 29286,
    "prUrl" : "https://github.com/apache/spark/pull/29286#pullrequestreview-629405369",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2b819471-64bb-410b-9703-714ac122d1c0",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "@gemelen sorry for the very late comment but do you remember why we added this? The default memory has set in ` build/sbt-launch-lib.bash` (e.g., see https://github.com/apache/spark/commit/35bab339848cba7e518478cb87591bff6a95ff07). Were you using plain `sbt` instead of `build/sbt` in your local?\r\n\r\nThis file disables the memory option from the `build/sbt` script:\r\n\r\n```bash\r\n./build/sbt -mem 6144\r\n```\r\n```\r\n.../jdk-11.0.3.jdk/Contents/Home as default JAVA_HOME.\r\nNote, this will be overridden by -java-home if it is set.\r\nError occurred during initialization of VM\r\nInitial heap size set to a larger value than the maximum heap size\r\n```\r\n\r\nbecause it adds these memory options at the last:\r\n\r\n```bash\r\n/.../bin/java -Xms6144m -Xmx6144m -XX:ReservedCodeCacheSize=256m -Xmx4G -Xss4m -jar build/sbt-launch-1.5.0.jar 1\r\n```\r\n\r\nand Java respects the rightmost memory configurations.",
        "createdAt" : "2021-04-06T11:08:25Z",
        "updatedAt" : "2021-04-06T11:08:26Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "c2d3059a-3695-4a54-997c-adb2cd8b7d43",
        "parentId" : "2b819471-64bb-410b-9703-714ac122d1c0",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Ohh, okay it sets the stack size here. I misread it. Okay but I will still move this to the script.",
        "createdAt" : "2021-04-06T12:37:56Z",
        "updatedAt" : "2021-04-06T12:37:56Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "8ee789ff-3e11-40ec-97b2-9180551b8e2e",
        "parentId" : "2b819471-64bb-410b-9703-714ac122d1c0",
        "authorId" : "d02d7d9a-9ce1-45c7-84c3-9973a93b30ba",
        "body" : "@HyukjinKwon AFAIR stack size increase was introduced to overcome failures on some tasks (tests probably). Yep, definitely could be set anywhere it is more suitable",
        "createdAt" : "2021-04-06T14:39:53Z",
        "updatedAt" : "2021-04-06T14:39:53Z",
        "lastEditedBy" : "d02d7d9a-9ce1-45c7-84c3-9973a93b30ba",
        "tags" : [
        ]
      },
      {
        "id" : "a850e74f-e823-40cf-a99e-d077350715d2",
        "parentId" : "2b819471-64bb-410b-9703-714ac122d1c0",
        "authorId" : "d02d7d9a-9ce1-45c7-84c3-9973a93b30ba",
        "body" : "Commit message says it was for Github Actions env in fact",
        "createdAt" : "2021-04-06T14:41:33Z",
        "updatedAt" : "2021-04-06T14:41:33Z",
        "lastEditedBy" : "d02d7d9a-9ce1-45c7-84c3-9973a93b30ba",
        "tags" : [
        ]
      },
      {
        "id" : "ea08254e-da8f-4b0d-8abc-2549897bcb3c",
        "parentId" : "2b819471-64bb-410b-9703-714ac122d1c0",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Thanks for explanation!",
        "createdAt" : "2021-04-06T21:01:03Z",
        "updatedAt" : "2021-04-06T21:01:03Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "106492c62248717244e5c04e5122f44b3495143b",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +15,19 @@\n-J-Xmx4G\n-J-Xss4m"
  }
]