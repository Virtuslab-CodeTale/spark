[
  {
    "id" : "e07d641a-5e51-430b-bb73-a390d62138c9",
    "prId" : 27311,
    "prUrl" : "https://github.com/apache/spark/pull/27311#pullrequestreview-348298212",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8fe27250-4ed8-4993-a3d1-a41d834abc02",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Ur, do we need this change? Usually, we try to avoid changing other test coverage.",
        "createdAt" : "2020-01-24T20:28:21Z",
        "updatedAt" : "2020-01-24T20:52:04Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "5927f0c3-71d5-4b3a-a12a-1555e17f3122",
        "parentId" : "8fe27250-4ed8-4993-a3d1-a41d834abc02",
        "authorId" : "64e828dc-d4b7-477a-a545-f38108ff4f53",
        "body" : "getRequestURI() was incorrectly mocked here. getRequestURI() does not return protocol or host name, only part of the path after and until the query parameters.",
        "createdAt" : "2020-01-24T20:43:55Z",
        "updatedAt" : "2020-01-24T20:52:04Z",
        "lastEditedBy" : "64e828dc-d4b7-477a-a545-f38108ff4f53",
        "tags" : [
        ]
      },
      {
        "id" : "6d54b353-4fc7-4c06-a0bd-82ca515e9a12",
        "parentId" : "8fe27250-4ed8-4993-a3d1-a41d834abc02",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Oh, was it? Thanks!",
        "createdAt" : "2020-01-25T01:09:44Z",
        "updatedAt" : "2020-01-25T01:09:44Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "d0727980968ee7a0bd3807298273bc4f94b8ddfd",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +371,375 @@    val request = mock[HttpServletRequest]\n    when(request.getMethod()).thenReturn(\"GET\")\n    when(request.getRequestURI()).thenReturn(\"/history/local-123/jobs/job/\")\n    when(request.getRequestURL())\n      .thenReturn(new StringBuffer(\"http://localhost:18080/history/local-123/jobs/job/\"))"
  },
  {
    "id" : "0ec1fc46-793d-4f34-88bd-ed2008e4c0cf",
    "prId" : 27311,
    "prUrl" : "https://github.com/apache/spark/pull/27311#pullrequestreview-348298123",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f1ea2381-5fe3-4a6f-aea1-aae9d0c606cf",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I'm wondering if we need `new StringBuffer` here.",
        "createdAt" : "2020-01-24T20:28:57Z",
        "updatedAt" : "2020-01-24T20:52:04Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "ec93c062-647e-4e7a-ae4d-84ea9cc8344e",
        "parentId" : "f1ea2381-5fe3-4a6f-aea1-aae9d0c606cf",
        "authorId" : "64e828dc-d4b7-477a-a545-f38108ff4f53",
        "body" : "getRequestURL() returns a StringBuffer unlike getRequestURI() that returns a plain String, so, yes, we need to provide StringBuffer type to thenReturn.",
        "createdAt" : "2020-01-24T20:49:30Z",
        "updatedAt" : "2020-01-24T20:52:04Z",
        "lastEditedBy" : "64e828dc-d4b7-477a-a545-f38108ff4f53",
        "tags" : [
        ]
      },
      {
        "id" : "1f44c9f4-b146-472f-ae44-0df1d3cc1128",
        "parentId" : "f1ea2381-5fe3-4a6f-aea1-aae9d0c606cf",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Got it.",
        "createdAt" : "2020-01-25T01:09:00Z",
        "updatedAt" : "2020-01-25T01:09:00Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "d0727980968ee7a0bd3807298273bc4f94b8ddfd",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +373,377 @@    when(request.getRequestURI()).thenReturn(\"/history/local-123/jobs/job/\")\n    when(request.getRequestURL())\n      .thenReturn(new StringBuffer(\"http://localhost:18080/history/local-123/jobs/job/\"))\n    when(request.getQueryString()).thenReturn(\"id=2\")\n    val resp = mock[HttpServletResponse]"
  }
]