[
  {
    "id" : "dd9addf5-8d7b-4aa3-93fa-4d4ddfc05560",
    "prId" : 31166,
    "prUrl" : "https://github.com/apache/spark/pull/31166#pullrequestreview-566950166",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "167c8bfb-487a-4e4c-adf6-0c72ba76ad9e",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Oops..I wondered why it's flaky at this place and thought it was already 60s....",
        "createdAt" : "2021-01-13T07:24:23Z",
        "updatedAt" : "2021-01-13T07:25:17Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "1fa211aa-5b15-4d4b-9210-2c10e4161faf",
        "parentId" : "167c8bfb-487a-4e4c-adf6-0c72ba76ad9e",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "ah, I guess it's a typo : )",
        "createdAt" : "2021-01-13T07:27:46Z",
        "updatedAt" : "2021-01-13T07:27:47Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4d9bb9d74e7af58d3fe0726a8c2abf7827be17f",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +50,54 @@        .set(config.STORAGE_DECOMMISSION_ENABLED, isEnabled)\n      sc = new SparkContext(conf)\n      TestUtils.waitUntilExecutorsUp(sc, 2, 60000)\n      val executors = sc.getExecutorIds().toArray\n      val decommissionListener = new SparkListener {"
  },
  {
    "id" : "200e1edd-881c-43ca-a959-7968e8aeab70",
    "prId" : 29817,
    "prUrl" : "https://github.com/apache/spark/pull/29817#pullrequestreview-565574304",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "54ec13f2-e664-4ee1-b3d7-06269f17017c",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I got test failure in my PR #31131 (the PR is not related to the test I believe):\r\n```\r\n[info] BlockManagerDecommissionIntegrationSuite:\r\n[info] - SPARK-32850: BlockManager decommission should respect the configuration (enabled=false) *** FAILED *** (6 seconds, 165 milliseconds)\r\n[info]   java.util.concurrent.TimeoutException: Can't find 2 executors before 6000 milliseconds elapsed\r\n[info]   at org.apache.spark.TestUtils$.waitUntilExecutorsUp(TestUtils.scala:374)\r\n[info]   at org.apache.spark.storage.BlockManagerDecommissionIntegrationSuite.$anonfun$new$2(BlockManagerDecommissionIntegrationSuite.scala:52)\r\n[info]   at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n```",
        "createdAt" : "2021-01-11T17:19:40Z",
        "updatedAt" : "2021-01-11T17:19:51Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "3c1e033089e392066425139d7ccb52cd501dcc31",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +50,54 @@        .set(config.STORAGE_DECOMMISSION_ENABLED, isEnabled)\n      sc = new SparkContext(conf)\n      TestUtils.waitUntilExecutorsUp(sc, 2, 6000)\n      val executors = sc.getExecutorIds().toArray\n      val decommissionListener = new SparkListener {"
  },
  {
    "id" : "adbf0b01-b744-4767-ab77-c15c440765a0",
    "prId" : 29367,
    "prUrl" : "https://github.com/apache/spark/pull/29367#pullrequestreview-462895798",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d8440fbf-9012-4bcf-9d68-fc7f54c3a2b1",
        "parentId" : null,
        "authorId" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "body" : "This definitely is coming from the other PR",
        "createdAt" : "2020-08-06T05:55:18Z",
        "updatedAt" : "2020-08-12T19:09:04Z",
        "lastEditedBy" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "tags" : [
        ]
      },
      {
        "id" : "f45d280e-2e6e-4df3-8d68-57799c47e5fa",
        "parentId" : "d8440fbf-9012-4bcf-9d68-fc7f54c3a2b1",
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "I left a comment in the other PR that said I'd address this in the follow up.",
        "createdAt" : "2020-08-06T19:31:57Z",
        "updatedAt" : "2020-08-12T19:09:04Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      },
      {
        "id" : "7910d2d9-bacb-4914-b955-47ddff73694f",
        "parentId" : "d8440fbf-9012-4bcf-9d68-fc7f54c3a2b1",
        "authorId" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "body" : "Ah !. Okay. ",
        "createdAt" : "2020-08-06T21:40:58Z",
        "updatedAt" : "2020-08-12T19:09:04Z",
        "lastEditedBy" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "tags" : [
        ]
      }
    ],
    "commit" : "e970cb10147fb64533f5088edc3a448b5ef198cf",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +280,284 @@\n    // Wait for the executor to be removed automatically after migration.\n    // This is set to a high value since github actions is sometimes high latency\n    // but I've never seen this go for more than a minute.\n    assert(executorRemovedSem.tryAcquire(1, 5L, TimeUnit.MINUTES))"
  },
  {
    "id" : "bc778492-e9c1-48c6-8d71-4392a55322bb",
    "prId" : 29367,
    "prUrl" : "https://github.com/apache/spark/pull/29367#pullrequestreview-464633397",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "58e72430-c84c-40e1-bc8f-fc29f0f0ec33",
        "parentId" : null,
        "authorId" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "body" : "Why is this true and not false ? We explicitly want to kill and discard the executor here without replacing it. Although the test does not truly care, but still why the change ?",
        "createdAt" : "2020-08-08T17:27:51Z",
        "updatedAt" : "2020-08-12T19:09:04Z",
        "lastEditedBy" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "tags" : [
        ]
      },
      {
        "id" : "649ee70f-dc1a-4e86-b109-0809905f29af",
        "parentId" : "58e72430-c84c-40e1-bc8f-fc29f0f0ec33",
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "Same please reread the code",
        "createdAt" : "2020-08-08T18:32:11Z",
        "updatedAt" : "2020-08-12T19:09:04Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      },
      {
        "id" : "a4c6f805-62f5-4b80-9d03-eb60e833c2e8",
        "parentId" : "58e72430-c84c-40e1-bc8f-fc29f0f0ec33",
        "authorId" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "body" : "Copy pasting the response from the similar comment in `WorkerDecommissionSuite.scala`:\r\n\r\n> I did reread the code and now I am sure I understand it: I think adjustTargetNumExecutors flag should continue to remain false here, so that it matches the old semantics:\r\n>\r\n> Before this PR: decommissioning wouldn't change the requested executors. They remain whatever the test application requested previously. This should continue to hold: This test does not use dynamic allocation and I don't see a need to change this test behavior.\r\n",
        "createdAt" : "2020-08-08T22:16:03Z",
        "updatedAt" : "2020-08-12T19:09:05Z",
        "lastEditedBy" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "tags" : [
        ]
      },
      {
        "id" : "f8be0fc0-d240-47aa-bfe0-f91eb541c263",
        "parentId" : "58e72430-c84c-40e1-bc8f-fc29f0f0ec33",
        "authorId" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "body" : "^^^ @holdenk ... any thoughts/followup on this ?",
        "createdAt" : "2020-08-10T19:45:04Z",
        "updatedAt" : "2020-08-12T19:09:05Z",
        "lastEditedBy" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "tags" : [
        ]
      },
      {
        "id" : "5ba2b770-fef3-4f4b-9d38-1e6e6c76b718",
        "parentId" : "58e72430-c84c-40e1-bc8f-fc29f0f0ec33",
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "Same.",
        "createdAt" : "2020-08-10T21:54:02Z",
        "updatedAt" : "2020-08-12T19:09:05Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      },
      {
        "id" : "486a6f95-d4fb-4eb9-8ec3-129bba4967a8",
        "parentId" : "58e72430-c84c-40e1-bc8f-fc29f0f0ec33",
        "authorId" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "body" : "This is also resolved. Reasoning sounds good -- although do you want to add the same comment as above: \r\n\r\n// Decommission executor and ensure it is not relaunched by setting adjustTargetNumExecutors",
        "createdAt" : "2020-08-10T22:36:13Z",
        "updatedAt" : "2020-08-12T19:09:05Z",
        "lastEditedBy" : "711a9ca0-8b90-435a-bf87-eb621aa1db13",
        "tags" : [
        ]
      }
    ],
    "commit" : "e970cb10147fb64533f5088edc3a448b5ef198cf",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +194,198 @@      execToDecommission,\n      ExecutorDecommissionInfo(\"\", isHostDecommissioned = false),\n      adjustTargetNumExecutors = true)\n    val decomTime = new SystemClock().getTimeMillis()\n"
  }
]