[
  {
    "id" : "26244687-4271-49d9-b92c-f33987673fa0",
    "prId" : 29235,
    "prUrl" : "https://github.com/apache/spark/pull/29235#pullrequestreview-455299288",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3e4e8960-bfc3-44f7-896a-f610c1979a0a",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "`withDefaultValue` returns a inner class extending `mutable.Map`. So, we should use `Map` for `aggregate`.",
        "createdAt" : "2020-07-25T17:37:38Z",
        "updatedAt" : "2020-07-25T17:37:38Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "c8dc0568-5b21-48c4-b6b0-5806c5914b5e",
        "parentId" : "3e4e8960-bfc3-44f7-896a-f610c1979a0a",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I think you can import mutable, and use `mutable.Map[String,Int]` instead of this type def, but, it's fine either way.\r\nLooks like the only instance of this, so go ahead.",
        "createdAt" : "2020-07-25T17:44:01Z",
        "updatedAt" : "2020-07-25T17:44:02Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      }
    ],
    "commit" : "5c8a1cfed0748516b0936cd985f68da9a52bf259",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +238,242 @@  test(\"aggregate\") {\n    val pairs = sc.makeRDD(Seq((\"a\", 1), (\"b\", 2), (\"a\", 2), (\"c\", 5), (\"a\", 3)))\n    type StringMap = scala.collection.mutable.Map[String, Int]\n    val emptyMap = HashMap[String, Int]().withDefaultValue(0).asInstanceOf[StringMap]\n    val mergeElement: (StringMap, (String, Int)) => StringMap = (map, pair) => {"
  },
  {
    "id" : "4966f91f-5917-4317-8974-020d32f1c2f4",
    "prId" : 28971,
    "prUrl" : "https://github.com/apache/spark/pull/28971#pullrequestreview-446820771",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "508d3d2a-ecc8-488b-b2f8-7d02d0d322cb",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Side comment: generally speaking Seq types have less weird generic type problems than Arrays. This is a good example",
        "createdAt" : "2020-07-11T18:34:45Z",
        "updatedAt" : "2020-07-11T21:29:35Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      }
    ],
    "commit" : "8f5af5f20db18ce0ea1fa02bc854f710a9a71dff",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +657,661 @@\n  test(\"top with predefined ordering\") {\n    val nums = Seq.range(1, 100000)\n    val ints = sc.makeRDD(scala.util.Random.shuffle(nums), 2)\n    val topK = ints.top(5)"
  },
  {
    "id" : "a3de12d9-5189-4434-8aab-2a6b616fec44",
    "prId" : 27988,
    "prUrl" : "https://github.com/apache/spark/pull/27988#pullrequestreview-446751130",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "789acf5c-2ca0-43f1-ad03-1db531b99282",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Instead of the following,\r\n```scala\r\nif (currentGroup.partitions.isEmpty) {\r\n  addPartition(partition, splitSize)\r\n} else {\r\n  updateGroups()\r\n  addPartition(partition, splitSize)\r\n}\r\n```\r\n\r\nThe following will be better.\r\n```scala\r\nif (currentGroup.partitions.nonEmpty) {\r\n  updateGroups()\r\n}\r\naddPartition(partition, splitSize)\r\n```",
        "createdAt" : "2020-07-10T23:35:47Z",
        "updatedAt" : "2020-07-10T23:38:22Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "606df603-768c-41ed-999d-c446b64df97d",
        "parentId" : "789acf5c-2ca0-43f1-ad03-1db531b99282",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "Updated, thanks",
        "createdAt" : "2020-07-10T23:38:28Z",
        "updatedAt" : "2020-07-10T23:38:28Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "20b11836f60a6fe0af2cca0af40b9c28a1900612",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +1302,1306 @@        if (currentGroup.partitions.nonEmpty) {\n          updateGroups()\n        }\n        addPartition(partition, splitSize)\n      }"
  },
  {
    "id" : "b61fd4b5-ade3-4a8f-96ad-fd1098e5a8ed",
    "prId" : 24699,
    "prUrl" : "https://github.com/apache/spark/pull/24699#pullrequestreview-250466948",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9e2f47ca-f7cd-4313-ba3c-f0586f55bc2a",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Can we use `eventually` with `timeout` instead of a while loop?\r\n\r\n```scala\r\neventually(timeout(10.seconds))  {\r\n  val t = tmx.getThreadInfo(tid.value)\r\n  assert(t == null || t.getThreadState == Thread.State.TERMINATED)\r\n}\r\n```",
        "createdAt" : "2019-06-17T12:02:27Z",
        "updatedAt" : "2019-06-17T13:02:04Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "4816d357-61ed-4fb3-8307-e1432d68e99c",
        "parentId" : "9e2f47ca-f7cd-4313-ba3c-f0586f55bc2a",
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "good idea!",
        "createdAt" : "2019-06-17T12:36:59Z",
        "updatedAt" : "2019-06-17T13:02:04Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "7f0f360dfb734c44ed2773c60d340d47b17f33fb",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +1203,1207 @@      assert(t == null || t.getThreadState == Thread.State.TERMINATED)\n    }\n  }\n\n  test(\"SPARK-23496: order of input partitions can result in severe skew in coalesce\") {"
  }
]