[
  {
    "id" : "351b6490-1427-4393-8bc3-8796de48605c",
    "prId" : 31742,
    "prUrl" : "https://github.com/apache/spark/pull/31742#pullrequestreview-609113214",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7d7ac764-f48c-4671-a152-d7d4a4f56bd3",
        "parentId" : null,
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "I am not sure what would be an appropriate test to add here. I can directly call the `cleanupOnShutdown()` method, but that doesn't prove that Spark will do the right thing when it shuts down.\r\n\r\nIdeally, I would write some sort of acceptance test that launches a tiny Spark application and checks the checkpoint directory afterwards. But that seems very bulky and I don't know if there is an existing pattern in the codebase that I can follow.",
        "createdAt" : "2021-03-04T19:03:48Z",
        "updatedAt" : "2021-03-04T19:03:49Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      },
      {
        "id" : "4c59a74b-59bd-4550-a473-a7cc15db92ba",
        "parentId" : "7d7ac764-f48c-4671-a152-d7d4a4f56bd3",
        "authorId" : "80d631a6-73e8-46a6-a01b-a80d1f1cc6cc",
        "body" : "We have a couple of thrift tests that do something like that. I have to admit it is not pretty.",
        "createdAt" : "2021-03-10T19:58:18Z",
        "updatedAt" : "2021-03-10T19:58:18Z",
        "lastEditedBy" : "80d631a6-73e8-46a6-a01b-a80d1f1cc6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "ee6782bd376c0ea7ec720dabc436b9bb69a69651",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +355,359 @@  test(\"SPARK-33000: shutdown cleans up checkpointed data when configured to do so\") {\n    // TODO: How do I write a test for this?\n  }\n}\n"
  }
]