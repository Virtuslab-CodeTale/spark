[
  {
    "id" : "4bb14166-0907-4a95-8f88-e18bdfe7f277",
    "prId" : 28859,
    "prUrl" : "https://github.com/apache/spark/pull/28859#pullrequestreview-436574970",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9e05badf-e4b0-412d-b512-5155a1334706",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Better to explicitly mention it leads eviction on cached entities, hence free() goes to 1.",
        "createdAt" : "2020-06-24T10:55:02Z",
        "updatedAt" : "2020-07-03T02:45:22Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "e7b5f416-46ea-4f0e-ad5c-fc9db804f654",
        "parentId" : "9e05badf-e4b0-412d-b512-5155a1334706",
        "authorId" : "66cb4de0-61c4-47ae-a2ec-457797cc2f8c",
        "body" : "Thanks, updated",
        "createdAt" : "2020-06-24T11:55:13Z",
        "updatedAt" : "2020-07-03T02:45:22Z",
        "lastEditedBy" : "66cb4de0-61c4-47ae-a2ec-457797cc2f8c",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed05872a5b6fd8ceb38b93636b1c3c93cc70288e",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +196,200 @@    assert(store.read(classOf[ApplicationStoreInfo], dstB.getAbsolutePath).size === 3)\n    assert(manager2.free() === 0)\n    val leaseC = manager2.lease(2)\n    doReturn(2L).when(manager2).sizeOf(meq(leaseC.tmpPath))\n    val dstC = leaseC.commit(\"app3\", None)"
  },
  {
    "id" : "99da566e-4d27-4acb-a0d5-2616016213cb",
    "prId" : 28859,
    "prUrl" : "https://github.com/apache/spark/pull/28859#pullrequestreview-436574648",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "73935580-ee39-4a15-a1f5-7352a83f41e6",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Let's add some empty lines in overall to bring readability.",
        "createdAt" : "2020-06-24T10:56:04Z",
        "updatedAt" : "2020-07-03T02:45:22Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "640bd3e7-0ba1-4c47-b991-a207253d3c3c",
        "parentId" : "73935580-ee39-4a15-a1f5-7352a83f41e6",
        "authorId" : "66cb4de0-61c4-47ae-a2ec-457797cc2f8c",
        "body" : "Thanks, updated",
        "createdAt" : "2020-06-24T11:54:45Z",
        "updatedAt" : "2020-07-03T02:45:22Z",
        "lastEditedBy" : "66cb4de0-61c4-47ae-a2ec-457797cc2f8c",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed05872a5b6fd8ceb38b93636b1c3c93cc70288e",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +188,192 @@    assert(store.read(classOf[ApplicationStoreInfo], dstB.getAbsolutePath).size === 2)\n\n    val manager2 = mockManager()\n    // Simulate: cache entities are written after replaying, directory size increases.\n    doReturn(3L).when(manager2).sizeOf(meq(dstB))"
  },
  {
    "id" : "ed9c6b65-96b5-4a3b-b9eb-fc4af17a18b4",
    "prId" : 28859,
    "prUrl" : "https://github.com/apache/spark/pull/28859#pullrequestreview-436574910",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b9fa95b9-10cb-4040-bf35-bef9bc73e0c5",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Could we track and verify ApplicationStoreInfo in store as well? I see the test represents how HistoryServerDiskManager fails without the patch, but it would be pretty much intuitive if we also verify what we've changed directly.",
        "createdAt" : "2020-06-24T11:04:00Z",
        "updatedAt" : "2020-07-03T02:45:22Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "56c8b0f9-f1cf-4bf6-b45f-e3661e2717f3",
        "parentId" : "b9fa95b9-10cb-4040-bf35-bef9bc73e0c5",
        "authorId" : "66cb4de0-61c4-47ae-a2ec-457797cc2f8c",
        "body" : "Good idea, updated.",
        "createdAt" : "2020-06-24T11:55:08Z",
        "updatedAt" : "2020-07-03T02:45:22Z",
        "lastEditedBy" : "66cb4de0-61c4-47ae-a2ec-457797cc2f8c",
        "tags" : [
        ]
      }
    ],
    "commit" : "ed05872a5b6fd8ceb38b93636b1c3c93cc70288e",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +165,169 @@    val dstA = leaseA.commit(\"app1\", None)\n    assert(manager.free() === 0)\n    assert(manager.committed() === 3)\n    // Listing store tracks dstA now.\n    assert(store.read(classOf[ApplicationStoreInfo], dstA.getAbsolutePath).size === 3)"
  }
]