[
  {
    "id" : "ef70b7cb-5998-4fa5-be17-7e3f2482af0b",
    "prId" : 26320,
    "prUrl" : "https://github.com/apache/spark/pull/26320#pullrequestreview-314412959",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0aac386-0761-409a-94f9-a5271c8971c8",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Thank you for adding this. Could you update like the following?\r\n```scala\r\nimport org.apache.spark.internal.config.METRICS_STATIC_SOURCES_ENABLED\r\n```\r\n```scala\r\n  test(\"Test configuration for static sources registration\") {\r\n    val conf = new SparkConf()\r\n    conf.set(METRICS_STATIC_SOURCES_ENABLED, true)\r\n    val sc = new SparkContext(\"local\", \"test\", conf)\r\n    try {\r\n      val metricsSystem = sc.env.metricsSystem\r\n\r\n      // Static sources should be registered\r\n      assert (metricsSystem.getSourcesByName(\"CodeGenerator\").nonEmpty)\r\n      assert (metricsSystem.getSourcesByName(\"HiveExternalCatalog\").nonEmpty)\r\n    } finally {\r\n      sc.stop()\r\n    }\r\n  }\r\n```",
        "createdAt" : "2019-11-08T19:28:45Z",
        "updatedAt" : "2019-11-08T20:52:27Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "564ec07907a4135aa4a2e9e68d3e825e9ad37c60",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +36,40 @@      sc.stop()\n    }\n  }\n\n  test(\"Test configuration for skipping static sources registration\") {"
  }
]