[
  {
    "id" : "fc6bcfde-6e77-4cbf-aae0-1388930cade4",
    "prId" : 28187,
    "prUrl" : "https://github.com/apache/spark/pull/28187#pullrequestreview-391747783",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b95cb7fa-90de-4555-a39d-cae7c54c057e",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Add tests to `BlockManagerSuite` should be enough?",
        "createdAt" : "2020-04-11T08:05:13Z",
        "updatedAt" : "2020-04-11T08:11:29Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "bb3bf0d6-e2da-48c6-b234-6497c912a40b",
        "parentId" : "b95cb7fa-90de-4555-a39d-cae7c54c057e",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I considered that, but BlockManagerSuite looks misleading to me because this is `BlockManagerManger`. If there is a more broader suite, it could be a candidate.",
        "createdAt" : "2020-04-11T08:09:11Z",
        "updatedAt" : "2020-04-11T08:12:03Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "e451c168-a26c-47b7-845f-29054564e80a",
        "parentId" : "b95cb7fa-90de-4555-a39d-cae7c54c057e",
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "I actually think it should be ok because we always test `BlockManagerMaster` together with `BlockManager`. And there're already some tests which test `BlockManagerMaster` only, e.g.\r\n\r\n- `query locations of blockIds`\r\n\r\n- `SPARK-30594: Do not post SparkListenerBlockUpdated when updateBlockInfo returns false`\r\n\r\n",
        "createdAt" : "2020-04-11T08:22:05Z",
        "updatedAt" : "2020-04-11T08:22:05Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "f4c94e5b-66f3-437b-802d-58c81dc9a749",
        "parentId" : "b95cb7fa-90de-4555-a39d-cae7c54c057e",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Sorry, but I don't think so. In your example, `query locations of blockIds` is just do mocking instead of testing.\r\n```\r\ntest(\"query locations of blockIds\") {\r\n    val mockBlockManagerMaster = mock(classOf[BlockManagerMaster])\r\n```",
        "createdAt" : "2020-04-11T08:26:22Z",
        "updatedAt" : "2020-04-11T08:26:23Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "5caba921-20b5-4071-b624-e5f8df0f9ae4",
        "parentId" : "b95cb7fa-90de-4555-a39d-cae7c54c057e",
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Ok, fine.",
        "createdAt" : "2020-04-11T08:28:53Z",
        "updatedAt" : "2020-04-11T08:28:53Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "dcff5628-d55a-461c-af5d-ca5c416f8363",
        "parentId" : "b95cb7fa-90de-4555-a39d-cae7c54c057e",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Also, `BlockManagerSuite` is already large with 1805 lines. In general, we had better have a proper UT case.",
        "createdAt" : "2020-04-11T08:29:38Z",
        "updatedAt" : "2020-04-11T08:29:39Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "82e46a868fabb00a0e2f6cb140d22d4dd35c33e5",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +22,26 @@import org.apache.spark.{SparkConf, SparkFunSuite}\n\nclass BlockManagerMasterSuite extends SparkFunSuite {\n\n  test(\"SPARK-31422: getMemoryStatus should not fail after BlockManagerMaster stops\") {"
  }
]