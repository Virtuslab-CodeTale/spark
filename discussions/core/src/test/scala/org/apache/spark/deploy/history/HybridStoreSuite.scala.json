[
  {
    "id" : "21934bf0-2bc2-42d1-b183-f687baee0dfb",
    "prId" : 29509,
    "prUrl" : "https://github.com/apache/spark/pull/29509#pullrequestreview-473101369",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9cbd5a61-f950-4742-ad1b-d1138e1909b0",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Would we need to wait more after waiting listener? Or just to make sure?",
        "createdAt" : "2020-08-22T09:39:53Z",
        "updatedAt" : "2020-08-24T15:43:51Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "510a7c9a-0fa1-4bd3-aa1d-4e3ea7ba1ecb",
        "parentId" : "9cbd5a61-f950-4742-ad1b-d1138e1909b0",
        "authorId" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "body" : "There is a potential race in https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/deploy/history/HybridStore.scala#L154. So we need this while loop to ensure the shouldUseInMemoryStore is set to false.",
        "createdAt" : "2020-08-24T03:42:40Z",
        "updatedAt" : "2020-08-24T15:43:51Z",
        "lastEditedBy" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "tags" : [
        ]
      }
    ],
    "commit" : "f83d2dfced494471f1fb5bdb1268260bb3a5e275",
    "line" : 172,
    "diffHunk" : "@@ -1,1 +170,174 @@      assert(listener.waitUntilDone())\n    }\n    while (!store.getStore().isInstanceOf[LevelDB]) {\n      Thread.sleep(10)\n    }"
  }
]