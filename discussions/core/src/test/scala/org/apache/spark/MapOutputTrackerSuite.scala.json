[
  {
    "id" : "81cfbb56-af77-4bca-95aa-94b8743c8080",
    "prId" : 30004,
    "prUrl" : "https://github.com/apache/spark/pull/30004#pullrequestreview-605734036",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a10dc17-9095-461f-a44c-2ef4a5810a08",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "With the `toSet` you lose the ordering meanwhile ordering can be important (that is the mapIndex) so it should be tested.",
        "createdAt" : "2021-03-06T04:48:46Z",
        "updatedAt" : "2021-03-06T04:48:46Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "6fb00f0f-0ac0-4ab2-8a79-cad29395c3a7",
        "parentId" : "5a10dc17-9095-461f-a44c-2ef4a5810a08",
        "authorId" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "body" : "good suggestion, will use Array to check the sequence as well",
        "createdAt" : "2021-03-06T06:52:51Z",
        "updatedAt" : "2021-03-06T07:07:28Z",
        "lastEditedBy" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe693eb2d7c22d2be1344214e3d3f073be643eb4",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +75,79 @@            ArrayBuffer((ShuffleBlockId(10, 6, 0), size10000, 1)))).toSet)\n    val allStatuses = tracker.getAllMapOutputStatuses(10)\n    assert(allStatuses.toSet === Set(mapStatus1, mapStatus2))\n    assert(0 == tracker.getNumCachedSerializedBroadcast)\n    tracker.stop()"
  },
  {
    "id" : "159729c8-76d4-403e-8455-2ac59a65067f",
    "prId" : 30004,
    "prUrl" : "https://github.com/apache/spark/pull/30004#pullrequestreview-605727981",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "77341866-fc7f-427e-bdc2-6ab49b83119a",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "ditto",
        "createdAt" : "2021-03-06T04:50:47Z",
        "updatedAt" : "2021-03-06T04:51:49Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe693eb2d7c22d2be1344214e3d3f073be643eb4",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +94,98 @@    tracker.registerMapOutput(10, 1, mapStatus2)\n    val allStatuses = tracker.getAllMapOutputStatuses(10)\n    assert(allStatuses.toSet === Set(mapStatus1, mapStatus2))\n    assert(0 == tracker.getNumCachedSerializedBroadcast)\n    tracker.stop()"
  },
  {
    "id" : "680b9713-05ef-490f-9f89-0ebbbdc7ac17",
    "prId" : 30004,
    "prUrl" : "https://github.com/apache/spark/pull/30004#pullrequestreview-605734036",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a0237295-ec33-4c15-9b00-50da88f30dbc",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "I would prefer to have an `equals` method on  `MapStatus` and use the equals here.\r\nBecause in that case when `MapStatus` is extended with a new field this test will validate the serialization / deserialization of this new field too.",
        "createdAt" : "2021-03-06T05:05:50Z",
        "updatedAt" : "2021-03-06T05:05:50Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "8f22f1d9-f6d6-4bfd-b38c-b31e673c1482",
        "parentId" : "a0237295-ec33-4c15-9b00-50da88f30dbc",
        "authorId" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "body" : "In responding of one of previous comments, I am suggesting returning only metadata instead of the whole map statue object. Will revisit here after that discussion.",
        "createdAt" : "2021-03-06T06:56:04Z",
        "updatedAt" : "2021-03-06T07:07:28Z",
        "lastEditedBy" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe693eb2d7c22d2be1344214e3d3f073be643eb4",
    "line" : 78,
    "diffHunk" : "@@ -1,1 +180,184 @@    val allMapOutputStatuses = mapWorkerTracker.getAllMapOutputStatuses(10)\n    assert(allMapOutputStatuses.length === 1)\n    assert(allMapOutputStatuses(0).location === mapStatus.location)\n    assert(allMapOutputStatuses(0).getSizeForBlock(0) === mapStatus.getSizeForBlock(0))\n    assert(allMapOutputStatuses(0).mapId === mapStatus.mapId)"
  },
  {
    "id" : "a9fd79ca-f647-48aa-9743-931342f260a4",
    "prId" : 30004,
    "prUrl" : "https://github.com/apache/spark/pull/30004#pullrequestreview-605734036",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "82276fb3-f444-4672-a41b-cfa2b1664ae4",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "order check",
        "createdAt" : "2021-03-06T05:06:21Z",
        "updatedAt" : "2021-03-06T05:06:21Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "b3d055d1-fc65-420f-8e84-a3cf00184078",
        "parentId" : "82276fb3-f444-4672-a41b-cfa2b1664ae4",
        "authorId" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "body" : "good catch!",
        "createdAt" : "2021-03-06T07:06:35Z",
        "updatedAt" : "2021-03-06T07:07:28Z",
        "lastEditedBy" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe693eb2d7c22d2be1344214e3d3f073be643eb4",
    "line" : 143,
    "diffHunk" : "@@ -1,1 +389,393 @@        )\n    )\n    assert(tracker.getAllMapOutputStatuses(10).toSet === Set(mapStatus1, mapStatus2))\n\n    tracker.unregisterShuffle(10)"
  },
  {
    "id" : "44b11100-c89e-42b4-8272-2372bd57198f",
    "prId" : 30004,
    "prUrl" : "https://github.com/apache/spark/pull/30004#pullrequestreview-605746931",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3e99bcd7-f6ef-4c53-b6ca-f5a5ffa4fd80",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "I am thinking about extending the `remote fetch` test (the one before this) with an extra registered map output where metadata is given and then this test could be deleted.\r\n \r\nThat way you will test the case when one of map status is given with and one is without a metadata.\r\n\r\nWDYT?",
        "createdAt" : "2021-03-06T05:18:28Z",
        "updatedAt" : "2021-03-06T05:18:28Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "5a7ae865-b255-4d19-99d9-f8528e0b61b9",
        "parentId" : "3e99bcd7-f6ef-4c53-b6ca-f5a5ffa4fd80",
        "authorId" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "body" : "The previous test has `masterTracker.unregisterMapOutput` and some test verification for that, thus want to avoid adding too much for that test. Also this test is specifically testing non-null metadata object, kind of following \"separation of concerns\" to make it as a separate test.",
        "createdAt" : "2021-03-06T07:05:57Z",
        "updatedAt" : "2021-03-06T07:07:28Z",
        "lastEditedBy" : "c52c39ef-2b7f-4855-a2f1-2a2e50a719ae",
        "tags" : [
        ]
      },
      {
        "id" : "11a25adf-92a9-4721-9a2c-7bd831f3f441",
        "parentId" : "3e99bcd7-f6ef-4c53-b6ca-f5a5ffa4fd80",
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "fine for me\r\n ",
        "createdAt" : "2021-03-06T10:30:29Z",
        "updatedAt" : "2021-03-06T10:30:29Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      }
    ],
    "commit" : "fe693eb2d7c22d2be1344214e3d3f073be643eb4",
    "line" : 89,
    "diffHunk" : "@@ -1,1 +201,205 @@  }\n\n  test(\"remote get all map output statuses with metadata\") {\n    val hostname = \"localhost\"\n    val rpcEnv = createRpcEnv(\"spark\", hostname, 0, new SecurityManager(conf))"
  }
]