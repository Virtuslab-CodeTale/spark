[
  {
    "id" : "51bb3f1c-0bf7-48e7-bcc9-ebc794b4a3f4",
    "prId" : 24730,
    "prUrl" : "https://github.com/apache/spark/pull/24730#pullrequestreview-243626882",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "685adb9f-e5b5-4181-9169-9efbc2b34754",
        "parentId" : null,
        "authorId" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "body" : "could `Seq[JsonResourceInformation]` contain duplicated name? might be (very marginally) better to do \r\n`resource.toMap.map(...)`",
        "createdAt" : "2019-05-29T04:29:49Z",
        "updatedAt" : "2019-05-29T04:35:32Z",
        "lastEditedBy" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "tags" : [
        ]
      },
      {
        "id" : "8f79b198-4303-488c-bf3e-8a2c323bdcda",
        "parentId" : "685adb9f-e5b5-4181-9169-9efbc2b34754",
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "Sorry, I'm missing what you are saying here with the toMap.map?  I can't do the toMap until I do the first map to (name, ResourceInformation), otherwise you just have a Seq[JsonResourceInformation] and toMap doesn't know how to make that a map. If there are 2 resource with the same name when the current code runs the toMap will choose the last one.\r\n\r\nI had actually tested this and found the json4s parse and extract actually are handling duplicates as well, looks like it chooses the last one, I couldn't find docs on that behavior though either. The resourcesfile is built by the standalone master/worker so it shouldn't really have duplicates.  I'm happy to update though to be explicit so just let me know.",
        "createdAt" : "2019-05-29T13:47:46Z",
        "updatedAt" : "2019-05-29T13:47:46Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      },
      {
        "id" : "c216adf3-f370-41b1-9ef4-e64b51d319d4",
        "parentId" : "685adb9f-e5b5-4181-9169-9efbc2b34754",
        "authorId" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "body" : "ah yes ;) I just mean it walking through a `Seq` when the goal is a `Map`",
        "createdAt" : "2019-05-30T05:03:12Z",
        "updatedAt" : "2019-05-30T05:03:12Z",
        "lastEditedBy" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "tags" : [
        ]
      }
    ],
    "commit" : "c046f07f2fb4850a75b954ec423e27c231b36aff",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +147,151 @@      resourceInput.close()\n    }\n    resources.map(r => (r.name, new ResourceInformation(r.name, r.addresses))).toMap\n  }\n}"
  },
  {
    "id" : "b4a96f7b-ab82-4233-b740-d0908b2b0d1f",
    "prId" : 24615,
    "prUrl" : "https://github.com/apache/spark/pull/24615#pullrequestreview-240225034",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1ffbf556-a7b0-47e8-b036-cd09cdbbb10d",
        "parentId" : null,
        "authorId" : "0c812942-02cb-4975-9748-394d1387affa",
        "body" : "not in this PR, it would be nice if we use a class to capsulate the resource request",
        "createdAt" : "2019-05-21T18:34:48Z",
        "updatedAt" : "2019-05-23T14:59:29Z",
        "lastEditedBy" : "0c812942-02cb-4975-9748-394d1387affa",
        "tags" : [
        ]
      }
    ],
    "commit" : "768392ca83c29a2ef6b3ecb2d175cccd20ffa0ab",
    "line" : 113,
    "diffHunk" : "@@ -1,1 +120,124 @@   */\n  def checkActualResourcesMeetRequirements(\n      requiredResources: Map[String, String],\n      actualResources: Map[String, ResourceInformation]): Unit = {\n    requiredResources.foreach { case (rName, reqCount) =>"
  },
  {
    "id" : "52fcb8b8-0886-48f5-9bb9-4d131aad9b6d",
    "prId" : 24406,
    "prUrl" : "https://github.com/apache/spark/pull/24406#pullrequestreview-236831446",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "75baae83-44f5-4b19-8381-24f9c3859f71",
        "parentId" : null,
        "authorId" : "0c812942-02cb-4975-9748-394d1387affa",
        "body" : "any access control concern here?",
        "createdAt" : "2019-05-07T23:09:08Z",
        "updatedAt" : "2019-05-14T02:27:16Z",
        "lastEditedBy" : "0c812942-02cb-4975-9748-394d1387affa",
        "tags" : [
        ]
      },
      {
        "id" : "ca74ef4b-d9da-4d6c-a1f8-18db4dd45d44",
        "parentId" : "75baae83-44f5-4b19-8381-24f9c3859f71",
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "Just the normal ones that I think we need to document ( I just added an item to the documentation jira specifically about this.) Normally the script should be sent with the job and needs to have the correct permissions on it, if they point at a script on the system that has been compromised then there are.  ",
        "createdAt" : "2019-05-09T14:28:25Z",
        "updatedAt" : "2019-05-14T02:27:16Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      },
      {
        "id" : "81b631d6-9aea-4f0a-8635-4e17642bc65c",
        "parentId" : "75baae83-44f5-4b19-8381-24f9c3859f71",
        "authorId" : "0c812942-02cb-4975-9748-394d1387affa",
        "body" : "In standalone mode, worker needs to run the script provided by users. Could you leave a TODO inline?",
        "createdAt" : "2019-05-10T16:28:50Z",
        "updatedAt" : "2019-05-14T02:27:16Z",
        "lastEditedBy" : "0c812942-02cb-4975-9748-394d1387affa",
        "tags" : [
        ]
      },
      {
        "id" : "7d3e2a4d-a0ef-4821-afee-d5f4d6ec33d6",
        "parentId" : "75baae83-44f5-4b19-8381-24f9c3859f71",
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "I'm not sure what TODO you want me to leave here, standalone mode has its own jira, which I don't know how its going to be designed so don't see why I would leave a TODO in this jira. I would expect that scrip tto not be provided by the users, but by the cluster administrator when they start the workers.",
        "createdAt" : "2019-05-10T17:44:16Z",
        "updatedAt" : "2019-05-14T02:27:16Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      },
      {
        "id" : "646a4e16-bc0f-4d10-8096-95e3182a42b2",
        "parentId" : "75baae83-44f5-4b19-8381-24f9c3859f71",
        "authorId" : "0c812942-02cb-4975-9748-394d1387affa",
        "body" : "nvm, I was thinking about users might be able to let manager/executor run arbitrary scripts.",
        "createdAt" : "2019-05-13T18:01:48Z",
        "updatedAt" : "2019-05-14T02:27:16Z",
        "lastEditedBy" : "0c812942-02cb-4975-9748-394d1387affa",
        "tags" : [
        ]
      }
    ],
    "commit" : "b9dacef1d7d47d19df300628d3841b3a13c03547",
    "line" : 73,
    "diffHunk" : "@@ -1,1 +71,75 @@      if (scriptFile.exists()) {\n        try {\n          val output = executeAndGetOutput(Seq(script.get), new File(\".\"))\n          val parsedJson = parse(output)\n          val name = (parsedJson \\ \"name\").extract[String]"
  }
]