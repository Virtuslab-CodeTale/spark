[
  {
    "id" : "3e06dd4e-9288-47fb-bb0f-e5d597eba49f",
    "prId" : 29090,
    "prUrl" : "https://github.com/apache/spark/pull/29090#pullrequestreview-522335096",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b0b93e9d-dc25-4dad-b97d-394f19d65a95",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Since this change `executorMemory`, do we need to update line 248 for `driverMemory` together maybe?",
        "createdAt" : "2020-07-14T23:17:04Z",
        "updatedAt" : "2020-08-03T13:06:05Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "3ebc3882-bfe7-4e21-bbaf-f79247672b0b",
        "parentId" : "b0b93e9d-dc25-4dad-b97d-394f19d65a95",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "BTW, do we need to change this line? This seems to ensure that the value is non-negative. Just for my understanding, could you give me some example which gives different result before and after this PR?",
        "createdAt" : "2020-07-14T23:20:21Z",
        "updatedAt" : "2020-08-03T13:06:05Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "44493f04-b214-45d0-b284-eb551fe27fcc",
        "parentId" : "b0b93e9d-dc25-4dad-b97d-394f19d65a95",
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "You are right, there is no difference regarding the behaviour but reading the code and seeing `byteStringAsBytes` called with these configs gives the false impression they are in bytes. I think it is worth to change them to `byteStringAsMb`. ",
        "createdAt" : "2020-07-15T08:56:31Z",
        "updatedAt" : "2020-08-03T13:06:05Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "253e58e8-3c6c-441e-bc19-43af80a5ac35",
        "parentId" : "b0b93e9d-dc25-4dad-b97d-394f19d65a95",
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "In theory, the only difference would be if user set the memory to < 1 mb.\r\nThis is ridiculous enough to ignore as a valid usecase :-)",
        "createdAt" : "2020-11-03T09:54:57Z",
        "updatedAt" : "2020-11-03T10:02:18Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      }
    ],
    "commit" : "8dfe64373fdf5020f635c1ccac003c97d9a64df4",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +250,254 @@    }\n    if (executorMemory != null\n        && Try(JavaUtils.byteStringAsMb(executorMemory)).getOrElse(-1L) <= 0) {\n      error(\"Executor memory must be a positive number\")\n    }"
  }
]