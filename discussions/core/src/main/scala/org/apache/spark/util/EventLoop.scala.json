[
  {
    "id" : "cf3fa9b3-850f-4245-bff0-af8fe776598b",
    "prId" : 24400,
    "prUrl" : "https://github.com/apache/spark/pull/24400#pullrequestreview-228937805",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "864252c4-c4bc-431c-acae-a12866d5c8f0",
        "parentId" : null,
        "authorId" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "body" : "here we only need to report thread stopped. There is no exception messages, but it is fine because thread will throw exception when exit.",
        "createdAt" : "2019-04-18T08:32:47Z",
        "updatedAt" : "2019-04-22T01:54:05Z",
        "lastEditedBy" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "tags" : [
        ]
      },
      {
        "id" : "8c307952-e0b3-4674-bbec-af34fcee294b",
        "parentId" : "864252c4-c4bc-431c-acae-a12866d5c8f0",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "What about just ignoring the post? does it need to throw an error here?",
        "createdAt" : "2019-04-18T13:40:23Z",
        "updatedAt" : "2019-04-22T01:54:05Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "7c66909e-48f7-4ddb-a2cb-ef5b94a2debe",
        "parentId" : "864252c4-c4bc-431c-acae-a12866d5c8f0",
        "authorId" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "body" : "@srowen As these threads are not alive, reporting an error is to do some cleaning work gracefully. For example, when `JobGenerator` and `JobScheduler` meet any non fatal error, we will report it to stop streaming context. Similarly, if they are not alive, we also need to stop streaming context. Otherwise, the driver will keep running, but won't work properly again.",
        "createdAt" : "2019-04-19T01:56:48Z",
        "updatedAt" : "2019-04-22T01:54:05Z",
        "lastEditedBy" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "tags" : [
        ]
      },
      {
        "id" : "641c87d5-5cef-421b-b257-7e6db2e16a1d",
        "parentId" : "864252c4-c4bc-431c-acae-a12866d5c8f0",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Can this be \r\n```\r\nif (!stopped.get) {\r\n  if (eventThread.isAlive) {\r\n    ...\r\n  } else {\r\n    ...\r\n  }\r\n}\r\n```\r\nOK I see that it won't fail if you post() when stopped. But it will throw an exception if it's not stopped but the event thread is dead.",
        "createdAt" : "2019-04-19T14:42:16Z",
        "updatedAt" : "2019-04-22T01:54:05Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "0830eef7-7309-4fbf-b4f2-0442b46d909a",
        "parentId" : "864252c4-c4bc-431c-acae-a12866d5c8f0",
        "authorId" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "body" : "sure",
        "createdAt" : "2019-04-22T01:55:03Z",
        "updatedAt" : "2019-04-22T06:07:08Z",
        "lastEditedBy" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "tags" : [
        ]
      }
    ],
    "commit" : "1c0fe49043dff92dc091a14d77a525a7c79ba4d2",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +107,111 @@        onError(new IllegalStateException(s\"$name has already been stopped accidentally.\"))\n      }\n    }\n  }\n"
  }
]