[
  {
    "id" : "8303a922-90dd-41de-8dc2-76c68626519f",
    "prId" : 28488,
    "prUrl" : "https://github.com/apache/spark/pull/28488#pullrequestreview-411377298",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8ddd6bdc-21f6-4886-b1d7-b21f1739bef0",
        "parentId" : null,
        "authorId" : "0c293c45-22a6-4358-8a40-adbf7c470575",
        "body" : "Could you explain the need for a lock here?",
        "createdAt" : "2020-05-13T21:32:50Z",
        "updatedAt" : "2020-05-14T00:03:53Z",
        "lastEditedBy" : "0c293c45-22a6-4358-8a40-adbf7c470575",
        "tags" : [
        ]
      },
      {
        "id" : "b60a86d7-a46a-4c7b-874f-82c2eee2aa01",
        "parentId" : "8ddd6bdc-21f6-4886-b1d7-b21f1739bef0",
        "authorId" : "f287448f-34cc-4b9a-886c-ee793c2946c3",
        "body" : "since job is executed in other thread, the need of it is to thread-safely pass the job result back to iterator",
        "createdAt" : "2020-05-13T23:57:24Z",
        "updatedAt" : "2020-05-14T00:03:53Z",
        "lastEditedBy" : "f287448f-34cc-4b9a-886c-ee793c2946c3",
        "tags" : [
        ]
      }
    ],
    "commit" : "6c3856d5d82de3f98cd0dd93e951b8355e93fe7f",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +38,42 @@  private val partitionIterator = rdd.partitions.indices.iterator\n\n  private val lock = new ReentrantLock()\n  private val ready = lock.newCondition()\n"
  }
]