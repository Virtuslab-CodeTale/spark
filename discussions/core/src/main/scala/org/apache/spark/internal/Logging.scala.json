[
  {
    "id" : "0948a190-5b1b-4603-a92e-bb2a076983f9",
    "prId" : 26798,
    "prUrl" : "https://github.com/apache/spark/pull/26798#pullrequestreview-332147055",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "78a98e35-4bcc-4848-b868-b1ea6d1cf1ae",
        "parentId" : null,
        "authorId" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "body" : "So I tested your code and it seems to work... but I can't figure out why. This is basically the only change I'm seeing in the code that would affect the outcome (previous code didn't check the appenders).\r\n\r\nCould you use the PR description to explain the fix itself? All you've done is explain the problem. That's already explained in the bug you filed.",
        "createdAt" : "2019-12-09T19:05:33Z",
        "updatedAt" : "2019-12-13T06:45:06Z",
        "lastEditedBy" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "tags" : [
        ]
      },
      {
        "id" : "9b7ed558-756c-4fc5-b734-6f8ffdecf4d9",
        "parentId" : "78a98e35-4bcc-4848-b868-b1ea6d1cf1ae",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "I'll update the description.\r\nNot checking the appenders is one of the defect of the current implementation but not the most important point.\r\nThe most important point is that whether a message is logged and output to the REPL's console is based on the log level between a message, root logger and REPL's logger.",
        "createdAt" : "2019-12-13T08:03:59Z",
        "updatedAt" : "2019-12-13T08:03:59Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "55758c88-5ad4-4c1c-900e-0e10048c0758",
        "parentId" : "78a98e35-4bcc-4848-b868-b1ea6d1cf1ae",
        "authorId" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "body" : "Ok, i tested again and the culprit is the line that does `if (!loggingEvent.getLevel().eq(rootLevel))`. which is what your updated description says. So all's good.",
        "createdAt" : "2019-12-13T22:20:53Z",
        "updatedAt" : "2019-12-13T22:20:53Z",
        "lastEditedBy" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "tags" : [
        ]
      }
    ],
    "commit" : "df78a354a8b0cbce4650685ec2f098a81cb0626d",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +242,246 @@      var logger = loggingEvent.getLogger()\n      while (logger.getParent() != null) {\n        if (logger.getLevel != null || logger.getAllAppenders.hasMoreElements) {\n          return Filter.NEUTRAL\n        }"
  }
]