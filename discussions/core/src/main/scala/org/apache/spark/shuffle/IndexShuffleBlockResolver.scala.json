[
  {
    "id" : "57a6219f-1f34-4df8-b3a4-07fcba2bd0eb",
    "prId" : 32401,
    "prUrl" : "https://github.com/apache/spark/pull/32401#pullrequestreview-704888368",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8767d8a7-2561-4b71-8730-eb28f5202d41",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "I did a bit more refactor here. Please take another look, thanks @mridulm ",
        "createdAt" : "2021-07-13T08:22:13Z",
        "updatedAt" : "2021-07-13T08:22:13Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "4bdde58a3791691f275968b117eeff260ef3016f",
    "line" : 106,
    "diffHunk" : "@@ -1,1 +362,366 @@              // this case, the current task attempt could write the missing checksum\n              // file by itself.\n              writeMetadataFile(checksums, checksumTmpOpt.get, checksumFileOpt.get, false)\n            }\n          }"
  },
  {
    "id" : "7d194ac4-3a9d-43a5-8124-3ace013aa078",
    "prId" : 32401,
    "prUrl" : "https://github.com/apache/spark/pull/32401#pullrequestreview-707022071",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "953644a1-ee61-4095-8619-72807e9022a9",
        "parentId" : null,
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "nit: Use `tryWithResource` instead ?",
        "createdAt" : "2021-07-14T07:04:39Z",
        "updatedAt" : "2021-07-14T07:04:39Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      },
      {
        "id" : "e57e95b2-8037-424b-a606-a48160ce85c8",
        "parentId" : "953644a1-ee61-4095-8619-72807e9022a9",
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "It could have different behavior with `tryWithSafeFinally`? (Note `tryWithSafeFinally` comes from the original code.)",
        "createdAt" : "2021-07-15T03:10:19Z",
        "updatedAt" : "2021-07-15T03:11:46Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "2b75b67d-c067-4c88-9ccf-8a013c864f64",
        "parentId" : "953644a1-ee61-4095-8619-72807e9022a9",
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "`tryWithResource` is more idiomatic - since this is a resource we are acquiring and then closing after its use :-)",
        "createdAt" : "2021-07-15T07:35:54Z",
        "updatedAt" : "2021-07-15T07:35:54Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      },
      {
        "id" : "f9903318-ab09-4eb3-b23d-a9f3d9115ad0",
        "parentId" : "953644a1-ee61-4095-8619-72807e9022a9",
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "Having said that, I am fine with leaving it as is ... just mentioned since I saw it !",
        "createdAt" : "2021-07-15T07:36:25Z",
        "updatedAt" : "2021-07-15T07:36:25Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      }
    ],
    "commit" : "4bdde58a3791691f275968b117eeff260ef3016f",
    "line" : 208,
    "diffHunk" : "@@ -1,1 +446,450 @@      out.close()\n    }\n\n    if (targetFile.exists()) {\n      targetFile.delete()"
  }
]