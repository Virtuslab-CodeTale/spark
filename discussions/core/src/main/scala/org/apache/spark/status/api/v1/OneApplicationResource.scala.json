[
  {
    "id" : "ceeb9eed-c351-4f6c-855d-0f53b721fd37",
    "prId" : 29247,
    "prUrl" : "https://github.com/apache/spark/pull/29247#pullrequestreview-561259181",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41d3a398-67f7-49f8-8d7a-7f8e3696900d",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "nit: indent",
        "createdAt" : "2021-01-04T11:41:54Z",
        "updatedAt" : "2021-01-04T11:41:54Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "0786c29b-b305-473f-9555-cb1b94f53cc0",
        "parentId" : "41d3a398-67f7-49f8-8d7a-7f8e3696900d",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "What should be correct style? I follow same style as https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/status/api/v1/StagesResource.scala#L77",
        "createdAt" : "2021-01-04T18:51:37Z",
        "updatedAt" : "2021-01-04T18:51:37Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      }
    ],
    "commit" : "4443f1f09e7e0a6a6c8cae9689089bb08124d9cc",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +59,63 @@      @QueryParam(\"activeOnly\") @DefaultValue(\"true\") activeOnly: Boolean,\n      @DefaultValue(\"0.05,0.25,0.5,0.75,0.95\") @QueryParam(\"quantiles\") quantileString: String)\n  : ExecutorMetricsDistributions = withUI { ui =>\n    val quantiles = quantileString.split(\",\").map { s =>\n      try {"
  },
  {
    "id" : "7c072115-a9c9-4748-85b7-1b01fc215bf7",
    "prId" : 29247,
    "prUrl" : "https://github.com/apache/spark/pull/29247#pullrequestreview-560967206",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "153af533-c5a9-4be3-b033-160461ffb1fe",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "nit: indent",
        "createdAt" : "2021-01-04T11:42:00Z",
        "updatedAt" : "2021-01-04T11:42:00Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      }
    ],
    "commit" : "4443f1f09e7e0a6a6c8cae9689089bb08124d9cc",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +59,63 @@      @QueryParam(\"activeOnly\") @DefaultValue(\"true\") activeOnly: Boolean,\n      @DefaultValue(\"0.05,0.25,0.5,0.75,0.95\") @QueryParam(\"quantiles\") quantileString: String)\n  : ExecutorMetricsDistributions = withUI { ui =>\n    val quantiles = quantileString.split(\",\").map { s =>\n      try {"
  },
  {
    "id" : "f96e99d0-c210-4a49-b9be-806e92c95269",
    "prId" : 29247,
    "prUrl" : "https://github.com/apache/spark/pull/29247#pullrequestreview-561394947",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "28e60761-4a99-463d-93b8-9d0ae4f65e01",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Why `0.05,0.25,0.5,0.75,0.95`? In stage page, Spark shows the quantiles of Min/Max",
        "createdAt" : "2021-01-04T11:42:36Z",
        "updatedAt" : "2021-01-04T11:42:37Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "73d0b835-e49f-4917-b64b-fd9ccfefcd9c",
        "parentId" : "28e60761-4a99-463d-93b8-9d0ae4f65e01",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "To keep consistency with `/taskSummary` api in https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/status/api/v1/StagesResource.scala#L77, I used this default quantiles. \r\n\r\nAnd it seems stage page provided its own percentiles as below in https://github.com/apache/spark/blob/master/core/src/main/resources/org/apache/spark/ui/static/stagepage.js#L617",
        "createdAt" : "2021-01-04T18:39:10Z",
        "updatedAt" : "2021-01-04T18:39:10Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      },
      {
        "id" : "7a3d99f5-2bfc-46fc-9e14-38f46d4dcbe6",
        "parentId" : "28e60761-4a99-463d-93b8-9d0ae4f65e01",
        "authorId" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "body" : "FYI.  In the corresponding web UI, the quantiles of Min/Max are displayed in the table \"Summary Metrics for Completed Tasks\" for a given stage page.  In a parallel system, the duration of a stage is often determined by the slowest task/executor. To monitor/debug a skew issue, the maximal value (or 100% percentile value) is more useful than the 95% percentile value.  On the other hand, 95% percentile value has been used in the past.  One wise man once told me: Consistency means to repeat yesterday's mistake. ",
        "createdAt" : "2021-01-04T22:32:53Z",
        "updatedAt" : "2021-01-04T22:32:54Z",
        "lastEditedBy" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "tags" : [
        ]
      }
    ],
    "commit" : "4443f1f09e7e0a6a6c8cae9689089bb08124d9cc",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +58,62 @@  def executorSummary(\n      @QueryParam(\"activeOnly\") @DefaultValue(\"true\") activeOnly: Boolean,\n      @DefaultValue(\"0.05,0.25,0.5,0.75,0.95\") @QueryParam(\"quantiles\") quantileString: String)\n  : ExecutorMetricsDistributions = withUI { ui =>\n    val quantiles = quantileString.split(\",\").map { s =>"
  },
  {
    "id" : "274f8f1e-f6ed-48d3-b14f-d7d8f16239d7",
    "prId" : 29247,
    "prUrl" : "https://github.com/apache/spark/pull/29247#pullrequestreview-606161314",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fe2a8aa7-abbb-4b99-a8ae-70cac3d02dc0",
        "parentId" : null,
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "executorPeakMemoryMetricsDistribution?",
        "createdAt" : "2021-03-08T10:39:13Z",
        "updatedAt" : "2021-03-08T10:39:17Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4443f1f09e7e0a6a6c8cae9689089bb08124d9cc",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +55,59 @@\n  @GET\n  @Path(\"executorMetricsDistribution\")\n  def executorSummary(\n      @QueryParam(\"activeOnly\") @DefaultValue(\"true\") activeOnly: Boolean,"
  }
]