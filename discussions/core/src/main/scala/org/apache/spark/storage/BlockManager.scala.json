[
  {
    "id" : "15c8a658-dea0-4955-a3f3-6a4d3fb4b62e",
    "prId" : 33251,
    "prUrl" : "https://github.com/apache/spark/pull/33251#pullrequestreview-703342839",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "594199f1-aafa-4ada-9731-d93569c82cd0",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I wasn't clear why this had to change?",
        "createdAt" : "2021-07-09T18:13:49Z",
        "updatedAt" : "2021-07-09T18:15:27Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "81bd8e32-04f0-4161-9167-aa3de0aa7532",
        "parentId" : "594199f1-aafa-4ada-9731-d93569c82cd0",
        "authorId" : "3f417633-f870-4fee-b580-ac9ce146075f",
        "body" : "The test was failing with `NullPointerException` cause the `SparkEnv.get` wasn't initialized.\r\nConsidering that the `RemoteBlockDownloadFileManager` accepts an instance of `BlockManager` which already has `SecurityManager` it seemed logical to just pass the `encryptionKey` too so it didn't rely on the static env in the lazy val.\r\n\r\nAs I understand the alternative would be to construct a mock environment and call the static `SparkEnv.set` and I see that this approach is taken in other places, but I do not understand how it works reliably without removing it after use - it's just left there. Hence I decided to remove the reliance on the static env so it's easier to test.",
        "createdAt" : "2021-07-09T19:38:11Z",
        "updatedAt" : "2021-07-09T19:55:52Z",
        "lastEditedBy" : "3f417633-f870-4fee-b580-ac9ce146075f",
        "tags" : [
        ]
      }
    ],
    "commit" : "74c374fc45279f378d965d421298864b2ca6794d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +256,260 @@  // Exposed for test\n  private[storage] val remoteBlockTempFileManager =\n    new BlockManager.RemoteBlockDownloadFileManager(\n      this,\n      securityManager.getIOEncryptionKey())"
  },
  {
    "id" : "e3249ebb-b1ad-4188-ab8d-4803cc86ceb6",
    "prId" : 33078,
    "prUrl" : "https://github.com/apache/spark/pull/33078#pullrequestreview-698737470",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c99b7b3-c764-4558-a287-28bcae65bfb4",
        "parentId" : null,
        "authorId" : "9953a478-bdd8-4f15-be59-f6f654ff85ae",
        "body" : "Is there a UT that verifies the message when pushbased shuffle is enabled?",
        "createdAt" : "2021-06-29T06:58:04Z",
        "updatedAt" : "2021-06-29T06:58:51Z",
        "lastEditedBy" : "9953a478-bdd8-4f15-be59-f6f654ff85ae",
        "tags" : [
        ]
      },
      {
        "id" : "cd182bc3-c1a1-4f97-b9b9-5da1ffc30f2c",
        "parentId" : "7c99b7b3-c764-4558-a287-28bcae65bfb4",
        "authorId" : "e942fa3e-a5b9-4a9f-b9a5-a1afd3c29b2c",
        "body" : "Added UT.",
        "createdAt" : "2021-07-05T01:32:43Z",
        "updatedAt" : "2021-07-05T01:32:43Z",
        "lastEditedBy" : "e942fa3e-a5b9-4a9f-b9a5-a1afd3c29b2c",
        "tags" : [
        ]
      }
    ],
    "commit" : "53109918cbdbdba2fe79f38a991c171efec7e85f",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +544,548 @@      } else {\n        shuffleManager.getClass.getName\n      }\n    val shuffleConfig = new ExecutorShuffleInfo(\n      diskBlockManager.localDirsString,"
  }
]