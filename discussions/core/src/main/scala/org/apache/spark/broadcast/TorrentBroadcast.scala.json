[
  {
    "id" : "d67170d7-cea1-403b-9d73-391185fe09ab",
    "prId" : 29558,
    "prUrl" : "https://github.com/apache/spark/pull/29558#pullrequestreview-486057597",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8979a3d0-ba3f-40ff-afdb-e437d1abeae3",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Is this correct? What happens if this is thrown at line 135, @LantaoJin ?",
        "createdAt" : "2020-09-01T02:58:31Z",
        "updatedAt" : "2020-09-14T12:23:08Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "a19d911c-8ace-4767-b3e9-f4fe703a42f1",
        "parentId" : "8979a3d0-ba3f-40ff-afdb-e437d1abeae3",
        "authorId" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "body" : "We can begin to Try..Catch from L137 if the L134 is atomic. But I think `L157: blockManager.removeBroadcast(id, tellMaster = true)` is no harmful even exception throws from L135. Please correct me if I understand incorrectly.",
        "createdAt" : "2020-09-01T03:08:22Z",
        "updatedAt" : "2020-09-14T12:23:08Z",
        "lastEditedBy" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "tags" : [
        ]
      },
      {
        "id" : "bafc9d00-75e8-488e-96e6-8377fd69c149",
        "parentId" : "8979a3d0-ba3f-40ff-afdb-e437d1abeae3",
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Would it has the thread-safe issue since `blockManager` is an `IsolatedRpcEndpoint`?",
        "createdAt" : "2020-09-03T11:45:43Z",
        "updatedAt" : "2020-09-14T12:23:08Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "8811c736-3ed8-4f15-bcff-21553ed0d99a",
        "parentId" : "8979a3d0-ba3f-40ff-afdb-e437d1abeae3",
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "I agree with @dongjoon-hyun - `blockManager.putSingle` for broadcastid should be outside try/catch. Rest look fine.",
        "createdAt" : "2020-09-10T15:29:43Z",
        "updatedAt" : "2020-09-14T12:23:08Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      }
    ],
    "commit" : "b565c338390b9c54404bf55572b13e6a9c656e7d",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +155,159 @@      case t: Throwable =>\n        logError(s\"Store broadcast $broadcastId fail, remove all pieces of the broadcast\")\n        blockManager.removeBroadcast(id, tellMaster = true)\n        throw t\n    }"
  }
]