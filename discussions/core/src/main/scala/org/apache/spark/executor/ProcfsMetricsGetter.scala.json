[
  {
    "id" : "92a0a98d-d17b-442d-8a11-233d4ba019d0",
    "prId" : 31945,
    "prUrl" : "https://github.com/apache/spark/pull/31945#pullrequestreview-621779696",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c01d515a-a2c4-4ccb-bea1-6cf33e3b02b5",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "According to the proposal, we want to fail at the first `Exception`? Did I understand correctly?",
        "createdAt" : "2021-03-24T04:12:26Z",
        "updatedAt" : "2021-03-24T05:55:31Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "25e5f194-d711-415e-b7a9-47390f5d0d7f",
        "parentId" : "c01d515a-a2c4-4ccb-bea1-6cf33e3b02b5",
        "authorId" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "body" : "What do you mean by the first Exception? I think we will return `ProcfsMetrics(0, 0, 0, 0, 0, 0)` when the first exception occurs.",
        "createdAt" : "2021-03-24T05:53:04Z",
        "updatedAt" : "2021-03-24T05:55:31Z",
        "lastEditedBy" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "tags" : [
        ]
      },
      {
        "id" : "507a9362-ae4e-4b65-a862-3697568eaf8c",
        "parentId" : "c01d515a-a2c4-4ccb-bea1-6cf33e3b02b5",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I meant that we escape from `for (p <- pids) {}` statement at the first exception.",
        "createdAt" : "2021-03-26T04:36:47Z",
        "updatedAt" : "2021-03-26T04:36:47Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "2f821ff6-4f5d-458c-be9a-565357e44223",
        "parentId" : "c01d515a-a2c4-4ccb-bea1-6cf33e3b02b5",
        "authorId" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "body" : "Yes, that is correct.",
        "createdAt" : "2021-03-26T04:40:46Z",
        "updatedAt" : "2021-03-26T04:40:46Z",
        "lastEditedBy" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "tags" : [
        ]
      }
    ],
    "commit" : "688d57e9c9629a67de4a016346279823aff75486",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +202,206 @@        logWarning(\"There was a problem with reading\" +\n          \" the stat file of the process. \", f)\n        throw f\n    }\n  }"
  },
  {
    "id" : "9fef5181-1563-4280-9331-18d59f35614b",
    "prId" : 31945,
    "prUrl" : "https://github.com/apache/spark/pull/31945#pullrequestreview-621645762",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7f76c281-0f06-4c8d-bc5f-b7b9a60c2db9",
        "parentId" : null,
        "authorId" : "ad79e8d4-cf06-458d-a4bf-c8cc54588fc6",
        "body" : "We could avoid this race by figuring out the pid/child pids and immediately do a stat. Turning the pids or computeProcessTree in an iterator should help solve this issue.",
        "createdAt" : "2021-03-25T21:54:38Z",
        "updatedAt" : "2021-03-25T21:54:38Z",
        "lastEditedBy" : "ad79e8d4-cf06-458d-a4bf-c8cc54588fc6",
        "tags" : [
        ]
      },
      {
        "id" : "4fae78f7-6ccf-4b2e-b90f-1f54c2e553da",
        "parentId" : "7f76c281-0f06-4c8d-bc5f-b7b9a60c2db9",
        "authorId" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "body" : "Yeah, we can do that.",
        "createdAt" : "2021-03-25T23:02:57Z",
        "updatedAt" : "2021-03-25T23:02:57Z",
        "lastEditedBy" : "788d6907-ae49-42f5-95b7-ef69c1460937",
        "tags" : [
        ]
      }
    ],
    "commit" : "688d57e9c9629a67de4a016346279823aff75486",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +212,216 @@    val pids = computeProcessTree\n    var allMetrics = ProcfsMetrics(0, 0, 0, 0, 0, 0)\n    for (p <- pids) {\n      try {\n        allMetrics = addProcfsMetricsFromOneProcess(allMetrics, p)"
  }
]