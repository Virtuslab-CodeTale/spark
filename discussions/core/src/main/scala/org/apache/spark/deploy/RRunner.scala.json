[
  {
    "id" : "88246c07-53a9-407c-b859-ccfa89cc076c",
    "prId" : 24811,
    "prUrl" : "https://github.com/apache/spark/pull/24811#pullrequestreview-248984080",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4a965522-4d57-4397-a4f3-ddef5f24f8d8",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "or do you mean it's an issue because the error message is not included in the exception message?",
        "createdAt" : "2019-06-07T02:48:40Z",
        "updatedAt" : "2019-06-13T23:30:03Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "4a11ee83-1240-41ce-b5d8-c63ae85e9a65",
        "parentId" : "4a965522-4d57-4397-a4f3-ddef5f24f8d8",
        "authorId" : "39d5ec3c-591c-4418-9f94-9886ff2fc6ea",
        "body" : "Yes, ideally the error message would be included in the exception message.",
        "createdAt" : "2019-06-12T19:56:03Z",
        "updatedAt" : "2019-06-13T23:30:03Z",
        "lastEditedBy" : "39d5ec3c-591c-4418-9f94-9886ff2fc6ea",
        "tags" : [
        ]
      }
    ],
    "commit" : "cf39f839e84c5012f865d0598e6c0c939c9d2c6d",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +107,111 @@        val returnCode = process.waitFor()\n        if (returnCode != 0) {\n          throw SparkUserAppException(returnCode, Option(stdoutBuffer.toString))\n        }\n      } finally {"
  },
  {
    "id" : "6a360863-2d95-4c30-9296-106fadc5f7f9",
    "prId" : 24811,
    "prUrl" : "https://github.com/apache/spark/pull/24811#pullrequestreview-248984080",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6c1b80dc-d23c-454d-b893-370eafe36e26",
        "parentId" : null,
        "authorId" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "body" : "how large is each flush? can it be bigger than 1024 and causing some content to be lost (overwritten)?",
        "createdAt" : "2019-06-09T03:54:51Z",
        "updatedAt" : "2019-06-13T23:30:03Z",
        "lastEditedBy" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "tags" : [
        ]
      },
      {
        "id" : "a16bb174-d60f-48a2-b7c4-698dedfc0f49",
        "parentId" : "6c1b80dc-d23c-454d-b893-370eafe36e26",
        "authorId" : "39d5ec3c-591c-4418-9f94-9886ff2fc6ea",
        "body" : "I matched this to the size of the buffer within the RedirectThread, so at this patch no I don't think that could happen. But, you're right in that this could easily get out of sync in the future - perhaps pulling the buffer size to a static variable in Utils.scala (or wherever is most appropriate) would prevent that?",
        "createdAt" : "2019-06-12T20:01:59Z",
        "updatedAt" : "2019-06-13T23:30:03Z",
        "lastEditedBy" : "39d5ec3c-591c-4418-9f94-9886ff2fc6ea",
        "tags" : [
        ]
      }
    ],
    "commit" : "cf39f839e84c5012f865d0598e6c0c939c9d2c6d",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +101,105 @@        val process = builder.start()\n\n        val stdoutBuffer = new CircularBuffer(1024)\n        val output = new TeeOutputStream(System.out, stdoutBuffer)\n        new RedirectThread(process.getInputStream, output, \"redirect R output\").start()"
  }
]