[
  {
    "id" : "1ae6acdf-0eae-4ef8-9412-918e74570fcc",
    "prId" : 26059,
    "prUrl" : "https://github.com/apache/spark/pull/26059#pullrequestreview-303359233",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7257a711-1541-455a-b408-0b12d131f728",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "I'm afraid that some threads resources could be wasted if user keeps the original config here and upgrades Spark without realizing this PR change.  As they may considered for driver, block manager endpoints, etc, previously.",
        "createdAt" : "2019-10-17T13:21:24Z",
        "updatedAt" : "2019-10-17T13:23:43Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "a3b9845b-57e3-4156-a4f5-7b2fe5db2c08",
        "parentId" : "7257a711-1541-455a-b408-0b12d131f728",
        "authorId" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "body" : "You'll be \"wasting\" at most 2 threads, which is not a big deal. If they weren't really needed, they'll just sit there doing nothing. Spark creates many other threads that don't do much, this will just be noise.",
        "createdAt" : "2019-10-17T15:44:00Z",
        "updatedAt" : "2019-10-17T15:44:00Z",
        "lastEditedBy" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "tags" : [
        ]
      }
    ],
    "commit" : "b674b4c251ecc897e50504bf999257dc0e6d8354",
    "line" : 119,
    "diffHunk" : "@@ -1,1 +117,121 @@    conf.get(EXECUTOR_ID).map { id =>\n      val role = if (id == SparkContext.DRIVER_IDENTIFIER) \"driver\" else \"executor\"\n      conf.getInt(s\"spark.$role.rpc.netty.dispatcher.numThreads\", modNumThreads)\n    }.getOrElse(modNumThreads)\n  }"
  },
  {
    "id" : "abbdb64d-4c0b-4f41-acc8-35f7e57e320a",
    "prId" : 26059,
    "prUrl" : "https://github.com/apache/spark/pull/26059#pullrequestreview-303360389",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "319241c6-46f1-4d4c-9262-97fc669fa52e",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "should this be an idempotent method ?",
        "createdAt" : "2019-10-17T13:23:25Z",
        "updatedAt" : "2019-10-17T13:23:43Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "40cbc037-40c7-470d-b4fc-1f65cc1185d5",
        "parentId" : "319241c6-46f1-4d4c-9262-97fc669fa52e",
        "authorId" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "body" : "`Dispatcher` makes sure only to call this once.",
        "createdAt" : "2019-10-17T15:45:37Z",
        "updatedAt" : "2019-10-17T15:45:37Z",
        "lastEditedBy" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "tags" : [
        ]
      }
    ],
    "commit" : "b674b4c251ecc897e50504bf999257dc0e6d8354",
    "line" : 186,
    "diffHunk" : "@@ -1,1 +184,188 @@  }\n\n  override def unregister(endpointName: String): Unit = synchronized {\n    require(endpointName == name)\n    inbox.stop()"
  }
]