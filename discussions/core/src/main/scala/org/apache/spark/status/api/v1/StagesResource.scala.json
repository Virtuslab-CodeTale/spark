[
  {
    "id" : "23d0d8d8-bb39-480b-ac30-57bf1dc28e7a",
    "prId" : 31204,
    "prUrl" : "https://github.com/apache/spark/pull/31204#pullrequestreview-624404998",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "733863ee-a883-4de7-a5a4-5c3b635c91a7",
        "parentId" : null,
        "authorId" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "body" : "We need a unit test case to validate the logic here in listing multiple taskStatus values.  For example, a REST API call to show all the FAILED tasks and KILLED tasks :\r\n/application/{app-id}/stages?details=true&taskStatus=FAILED&taskStatus=KILLED ",
        "createdAt" : "2021-02-19T04:21:54Z",
        "updatedAt" : "2021-03-31T02:16:53Z",
        "lastEditedBy" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "tags" : [
        ]
      },
      {
        "id" : "000b5699-e66f-417f-ae85-5cc97c4b0dbc",
        "parentId" : "733863ee-a883-4de7-a5a4-5c3b635c91a7",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Do we still need a simple test here?",
        "createdAt" : "2021-03-30T15:27:45Z",
        "updatedAt" : "2021-03-31T02:16:53Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      }
    ],
    "commit" : "13e36921cf9898ab83da8b8bc802b8a3edb36a29",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +58,62 @@      }\n    }\n  }\n\n  @GET"
  },
  {
    "id" : "52ed8949-e1bc-49a5-9bd5-f17eb38c3610",
    "prId" : 31001,
    "prUrl" : "https://github.com/apache/spark/pull/31001#pullrequestreview-562269409",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cd1dfd49-a221-425c-a3b1-377c9ad9f96d",
        "parentId" : null,
        "authorId" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "body" : "change the default value to 0.0,0.25,0.5,0.75,1.0.  In a parallel system, the duration of a stage is often determined by the slowest task/executor.  To monitor/debug a skew issue, the maximal value (or 100% percentile value) is more useful than the 95% percentile value.",
        "createdAt" : "2021-01-04T19:46:53Z",
        "updatedAt" : "2021-01-04T19:48:34Z",
        "lastEditedBy" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "tags" : [
        ]
      },
      {
        "id" : "0ec1d759-4013-41b5-a454-53df805d572c",
        "parentId" : "cd1dfd49-a221-425c-a3b1-377c9ad9f96d",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> change the default value to 0.0,0.25,0.5,0.75,1.0. In a parallel system, the duration of a stage is often determined by the slowest task/executor. To monitor/debug a skew issue, the maximal value (or 100% percentile value) is more useful than the 95% percentile value.\r\n\r\nAdd this value since \r\nhttps://github.com/apache/spark/blob/f54d430c536bfb4731401868960d6e35ddd089ea/core/src/main/scala/org/apache/spark/status/api/v1/StagesResource.scala#L72-L78\r\n\r\nSimilar API need keep consistent too....",
        "createdAt" : "2021-01-04T19:52:10Z",
        "updatedAt" : "2021-01-04T19:52:11Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      },
      {
        "id" : "814ea5cf-9dfb-42bc-97b1-ae04a15b4381",
        "parentId" : "cd1dfd49-a221-425c-a3b1-377c9ad9f96d",
        "authorId" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "body" : "I see.  You want to keep it consistent.",
        "createdAt" : "2021-01-06T00:50:34Z",
        "updatedAt" : "2021-01-06T00:50:34Z",
        "lastEditedBy" : "050916e0-b79b-4b4c-a6a1-4df5cf6c0da3",
        "tags" : [
        ]
      },
      {
        "id" : "6a90e92a-4291-4704-966e-443961ebeb24",
        "parentId" : "cd1dfd49-a221-425c-a3b1-377c9ad9f96d",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> I see. You want to keep it consistent.\r\n\r\nEmmmm, I found that in ui and restful API the quantiles is not same....",
        "createdAt" : "2021-01-06T01:38:28Z",
        "updatedAt" : "2021-01-06T01:38:28Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "f54d430c536bfb4731401868960d6e35ddd089ea",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +160,164 @@      @PathParam(\"stageId\") stageId: Int,\n      @PathParam(\"stageAttemptId\") stageAttemptId: Int,\n      @DefaultValue(\"0.05,0.25,0.5,0.75,0.95\")\n      @QueryParam(\"quantiles\") quantileString: String): ExecutorMetricsDistributions = {\n    withUI { ui =>"
  },
  {
    "id" : "292f69c7-3846-47b0-9a5e-df7d4ab47a5c",
    "prId" : 28942,
    "prUrl" : "https://github.com/apache/spark/pull/28942#pullrequestreview-441275198",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8076b8f8-72d5-4f82-8f8a-d35cae3f2e2d",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Why do we need to make it as JList here? How about just `TaskStatus`?",
        "createdAt" : "2020-07-01T13:15:11Z",
        "updatedAt" : "2020-07-02T00:44:52Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "b39f2600-aaf2-4021-88d7-9615cbd7d78e",
        "parentId" : "8076b8f8-72d5-4f82-8f8a-d35cae3f2e2d",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "Ok, I'm also considering using `TaskStatus`. The reason I use JList is to make it consistent with stageList as below:\r\n\r\n```\r\n  @GET\r\n  def stageList(@QueryParam(\"status\") statuses: JList[StageStatus]): Seq[StageData] = {\r\n    withUI(_.store.stageList(statuses))\r\n  }\r\n```",
        "createdAt" : "2020-07-01T16:37:44Z",
        "updatedAt" : "2020-07-02T00:44:52Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      },
      {
        "id" : "015532dd-9143-4b70-a32d-52e34056f147",
        "parentId" : "8076b8f8-72d5-4f82-8f8a-d35cae3f2e2d",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Oh, sorry I was not aware of this. Please change it back to `JList` to make it consistent.",
        "createdAt" : "2020-07-02T00:29:09Z",
        "updatedAt" : "2020-07-02T00:44:52Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      }
    ],
    "commit" : "e8e5d6a0aad80e0e43e1c31709cbe888e8fe1450",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +98,102 @@      @DefaultValue(\"20\") @QueryParam(\"length\") length: Int,\n      @DefaultValue(\"ID\") @QueryParam(\"sortBy\") sortBy: TaskSorting,\n      @QueryParam(\"status\") statuses: JList[TaskStatus]): Seq[TaskData] = {\n    withUI(_.store.taskList(stageId, stageAttemptId, offset, length, sortBy, statuses))\n  }"
  },
  {
    "id" : "03dbf735-9ddf-4f04-a79b-28d726ce098d",
    "prId" : 24419,
    "prUrl" : "https://github.com/apache/spark/pull/24419#pullrequestreview-234705770",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bf441917-4a2e-42be-ac36-539155207d3c",
        "parentId" : null,
        "authorId" : "0f2e4443-2e01-4589-9e1c-17979892188b",
        "body" : "I think that should be `1000`. Unless `shuffleWriteMetrics` are in kiloseconds :) \r\n\r\n`formatDuration` is expecting milliseconds.",
        "createdAt" : "2019-04-19T20:53:25Z",
        "updatedAt" : "2019-05-10T14:17:22Z",
        "lastEditedBy" : "0f2e4443-2e01-4589-9e1c-17979892188b",
        "tags" : [
        ]
      },
      {
        "id" : "4adf2aec-12cc-49e4-bdc0-20c39f972a2e",
        "parentId" : "bf441917-4a2e-42be-ac36-539155207d3c",
        "authorId" : "896060dc-3c09-4c4c-9e91-0bc5e3187d3a",
        "body" : "So basically, `shuffleWriteMetrics.writeTime` is recorded in nanoseconds. That is why, I am dividing the number by `1000000`. Have attached screenshot for reference.\r\n\r\n<img width=\"369\" alt=\"Screen Shot 2019-04-22 at 2 12 36 PM\" src=\"https://user-images.githubusercontent.com/22228190/56519923-c6be1300-6508-11e9-8171-57a747cb68ad.png\">\r\n",
        "createdAt" : "2019-04-22T19:13:21Z",
        "updatedAt" : "2019-05-10T14:17:22Z",
        "lastEditedBy" : "896060dc-3c09-4c4c-9e91-0bc5e3187d3a",
        "tags" : [
        ]
      },
      {
        "id" : "7320b834-63e5-462f-9f2e-9a123a2acb00",
        "parentId" : "bf441917-4a2e-42be-ac36-539155207d3c",
        "authorId" : "896060dc-3c09-4c4c-9e91-0bc5e3187d3a",
        "body" : "You can find that a similar operation has also been performed in `stagepage.js` on `writeTime`.",
        "createdAt" : "2019-04-22T19:14:51Z",
        "updatedAt" : "2019-05-10T14:17:22Z",
        "lastEditedBy" : "896060dc-3c09-4c4c-9e91-0bc5e3187d3a",
        "tags" : [
        ]
      },
      {
        "id" : "246474fd-18d9-4e95-9ee7-b8bb5f700f88",
        "parentId" : "bf441917-4a2e-42be-ac36-539155207d3c",
        "authorId" : "0f2e4443-2e01-4589-9e1c-17979892188b",
        "body" : "I stand corrected, thanks @pgandhi999 ",
        "createdAt" : "2019-05-07T19:04:39Z",
        "updatedAt" : "2019-05-10T14:17:22Z",
        "lastEditedBy" : "0f2e4443-2e01-4589-9e1c-17979892188b",
        "tags" : [
        ]
      }
    ],
    "commit" : "35f78c25681ebcf965c02abefe311617cc9c709d",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +215,219 @@        || containsValue(task.taskMetrics.get.shuffleWriteMetrics.recordsWritten)\n        || containsValue(UIUtils.formatDuration(\n          task.taskMetrics.get.shuffleWriteMetrics.writeTime / 1000000)))\n    }\n    val filteredTaskDataSequence: Seq[TaskData] = taskDataList.filter(f =>"
  }
]