[
  {
    "id" : "7e1724ed-6e88-49bf-848d-df9665ec2743",
    "prId" : 27246,
    "prUrl" : "https://github.com/apache/spark/pull/27246#pullrequestreview-426779098",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f9ede2db-810c-4a40-b7e2-3674fcc0601b",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "If this number is performance-senstive, could we parameterize it?",
        "createdAt" : "2020-06-04T00:26:24Z",
        "updatedAt" : "2020-08-01T17:33:48Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "c8496ac4-4742-4462-8e43-3c3b444e0ee1",
        "parentId" : "f9ede2db-810c-4a40-b7e2-3674fcc0601b",
        "authorId" : "39b78cdc-063e-4571-aeca-1b5a0e92b697",
        "body" : "Yes. I am looking into this. Thank you",
        "createdAt" : "2020-06-06T01:44:57Z",
        "updatedAt" : "2020-08-01T17:33:48Z",
        "lastEditedBy" : "39b78cdc-063e-4571-aeca-1b5a0e92b697",
        "tags" : [
        ]
      },
      {
        "id" : "a078fefa-babb-4c86-9c6e-ef7567b3ab58",
        "parentId" : "f9ede2db-810c-4a40-b7e2-3674fcc0601b",
        "authorId" : "39b78cdc-063e-4571-aeca-1b5a0e92b697",
        "body" : "Does this look good? Perhaps you have some suggestion.\r\n\r\nprivate[spark] val UNSAFE_SORTER_SPILL_READER_BUFFER_SIZE_RATIO =\r\n    ConfigBuilder(\"spark.unsafe.sorter.spill.reader.buffer.size.ratio\")\r\n      .doc(\"The multiplication ratio is the parameter that controls the initial read buffer \" +\r\n        \"size. The multiplication ratio value range is from 1 to 1024. This parameter increases \"  +\r\n        \"the initial read buffer size in 1KB increments. It will result in the initial buffer \" +\r\n        \"size in the range from 1KB to 1MB. The read buffer size is dynamically adjusted \" +\r\n        \"afterward based on data length read from the spilled file.\")\r\n      .intConf\r\n      .checkValue(v => 1 <= v && v <= DEFAULT_BUFFER_SIZE_RATIO,\r\n        s\"The value must be in allowed range [1, ${DEFAULT_BUFFER_SIZE_RATIO}].\")\r\n      .createWithDefault(DEFAULT_BUFFER_SIZE_RATIO)\r\n",
        "createdAt" : "2020-06-07T17:45:27Z",
        "updatedAt" : "2020-08-01T17:33:48Z",
        "lastEditedBy" : "39b78cdc-063e-4571-aeca-1b5a0e92b697",
        "tags" : [
        ]
      },
      {
        "id" : "48aae209-4f82-4d2c-bb3a-1b376b87c353",
        "parentId" : "f9ede2db-810c-4a40-b7e2-3674fcc0601b",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you apply the change into this PR, first? Otherwise, its hard to leave comments line-by-line...",
        "createdAt" : "2020-06-09T00:13:55Z",
        "updatedAt" : "2020-08-01T17:33:48Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "b739ed8a-0861-4139-9b3d-7be7c1dd1d71",
        "parentId" : "f9ede2db-810c-4a40-b7e2-3674fcc0601b",
        "authorId" : "39b78cdc-063e-4571-aeca-1b5a0e92b697",
        "body" : "NP. I will push update soon. I am testing changes with 10TB benchmarks.",
        "createdAt" : "2020-06-09T04:24:30Z",
        "updatedAt" : "2020-08-01T17:33:48Z",
        "lastEditedBy" : "39b78cdc-063e-4571-aeca-1b5a0e92b697",
        "tags" : [
        ]
      }
    ],
    "commit" : "9d5bd99e317d5d0f73b645f8e29276c5d99ed39a",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +48,52 @@  private int numRecordsRemaining;\n\n  private byte[] arr = new byte[1024];\n  private Object baseObject = arr;\n  private final TaskContext taskContext = TaskContext.get();"
  }
]