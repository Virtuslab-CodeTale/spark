[
  {
    "id" : "c86743c9-5591-4358-9a87-0505837cf069",
    "prId" : 31191,
    "prUrl" : "https://github.com/apache/spark/pull/31191#pullrequestreview-569948732",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "609bf568-6a03-47aa-bc74-9db4bf449656",
        "parentId" : null,
        "authorId" : "b8f0c7e0-9fdf-43b7-809e-ff7cc6fbbc8b",
        "body" : "@srowen \r\nThis part is the logic, not in the template anymore.\r\n\r\nHere what I am trying to do is to change the style of first 3 columns only if hasMultipleAttempts will be set to white background.\r\n\r\nOther that this will not have style, hence same logic applied.",
        "createdAt" : "2021-01-16T15:47:04Z",
        "updatedAt" : "2021-01-16T15:48:15Z",
        "lastEditedBy" : "b8f0c7e0-9fdf-43b7-809e-ff7cc6fbbc8b",
        "tags" : [
        ]
      },
      {
        "id" : "175c105e-4ac8-4f5c-9925-3859506e9733",
        "parentId" : "609bf568-6a03-47aa-bc74-9db4bf449656",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "OK I see. Does the table look the exact same before and after - there's no visual change? if so I don't think we need screenshots.",
        "createdAt" : "2021-01-16T15:48:36Z",
        "updatedAt" : "2021-01-16T15:48:36Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "c12ec2b0-424b-401e-b069-0c80c0747e7a",
        "parentId" : "609bf568-6a03-47aa-bc74-9db4bf449656",
        "authorId" : "b8f0c7e0-9fdf-43b7-809e-ff7cc6fbbc8b",
        "body" : "Yeah it looks similar, but I will post some photos from prod/dev history servers from my side.\r\n",
        "createdAt" : "2021-01-16T15:53:12Z",
        "updatedAt" : "2021-01-16T15:53:12Z",
        "lastEditedBy" : "b8f0c7e0-9fdf-43b7-809e-ff7cc6fbbc8b",
        "tags" : [
        ]
      },
      {
        "id" : "31da0e06-17a4-4295-9fa9-562d05c223eb",
        "parentId" : "609bf568-6a03-47aa-bc74-9db4bf449656",
        "authorId" : "b8f0c7e0-9fdf-43b7-809e-ff7cc6fbbc8b",
        "body" : "Before\r\n<img width=\"1771\" alt=\"dev\" src=\"https://user-images.githubusercontent.com/14618484/104816576-1739e000-5857-11eb-8f39-a2bb9d5a4085.png\">\r\n\r\nAfter\r\n<img width=\"1763\" alt=\"prod\" src=\"https://user-images.githubusercontent.com/14618484/104816581-1acd6700-5857-11eb-8062-d35551d609f4.png\">\r\n",
        "createdAt" : "2021-01-16T16:02:34Z",
        "updatedAt" : "2021-01-16T16:02:34Z",
        "lastEditedBy" : "b8f0c7e0-9fdf-43b7-809e-ff7cc6fbbc8b",
        "tags" : [
        ]
      }
    ],
    "commit" : "33a3f8747ee514791a2f1477f240632f1aeece89",
    "line" : 57,
    "diffHunk" : "@@ -1,1 +196,200 @@            },\n          ],\n          \"aoColumnDefs\": [\n            {\n              aTargets: [0, 1, 2],"
  },
  {
    "id" : "b77ba1ea-2da4-4ab2-8566-193ea039ef5c",
    "prId" : 27257,
    "prUrl" : "https://github.com/apache/spark/pull/27257#pullrequestreview-347096809",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7665a90b-64f0-4ef4-9562-a6c4096ae63e",
        "parentId" : null,
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "Here the existence of the `attemptId` is checked but a few line below you are using it without checking its existence. When it is missing then the new link won't be valid too.",
        "createdAt" : "2020-01-17T12:15:15Z",
        "updatedAt" : "2020-01-23T07:34:33Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "40e531b4-f4e7-4e06-a5ad-7c0764143bad",
        "parentId" : "7665a90b-64f0-4ef4-9562-a6c4096ae63e",
        "authorId" : "2966f80d-b765-414c-9598-c5868003d412",
        "body" : "The `attemptId` is not checked with line of `<td><a href=\"{{uiroot}}/history/{{id}}/{{attemptId}}/jobs/\">{{attemptId}}</a></td>` in `historypage-template.html`. \r\n\r\nNeed to ignore this link when `attempId` is empty or null? Do you have some ideas?",
        "createdAt" : "2020-01-20T08:33:42Z",
        "updatedAt" : "2020-01-23T07:34:33Z",
        "lastEditedBy" : "2966f80d-b765-414c-9598-c5868003d412",
        "tags" : [
        ]
      },
      {
        "id" : "9c6b479e-895f-49f6-993b-5834f97f14f0",
        "parentId" : "7665a90b-64f0-4ef4-9562-a6c4096ae63e",
        "authorId" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "body" : "The `{{uiroot}}/history/{{id}}/{{attemptId}}/jobs/\">{{attemptId}}</a></td>` is protected by the check `{{#hasMultipleAttempts}} ... {{/hasMultipleAttempts}}`.\r\n\r\nI think if there is only one attempt then the `attemptId` might be missing and the value 1 was used for that before your change not null and empty (because of the line `var num = app[\"attempts\"].length;`).   \r\n\r\nSo please test with that case too. \r\nAnd I would like to ask you to attach some data to the PR: during testing you can put a breakpoint (ie by placing `debugger;` into the code) before the Mustache renders the page (it is about line 161) please copy-paste the `data` content to a code block of the PR comment.\r\n \r\nCould you please do that for both having multiple attempts and having only one?",
        "createdAt" : "2020-01-20T14:24:33Z",
        "updatedAt" : "2020-01-23T07:34:33Z",
        "lastEditedBy" : "123cc67f-f678-49be-8742-95bc35d8c5c4",
        "tags" : [
        ]
      },
      {
        "id" : "a02bd7ca-4be3-4006-80b2-d2bfe6007aff",
        "parentId" : "7665a90b-64f0-4ef4-9562-a6c4096ae63e",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "+1 for @attilapiros 's comments.",
        "createdAt" : "2020-01-22T05:30:28Z",
        "updatedAt" : "2020-01-23T07:34:33Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "bdc7abc4-3ed2-4b5a-b175-470877c41357",
        "parentId" : "7665a90b-64f0-4ef4-9562-a6c4096ae63e",
        "authorId" : "2966f80d-b765-414c-9598-c5868003d412",
        "body" : "> The `{{uiroot}}/history/{{id}}/{{attemptId}}/jobs/\">{{attemptId}}</a></td>` is protected by the check `{{#hasMultipleAttempts}} ... {{/hasMultipleAttempts}}`.\r\n> \r\n> I think if there is only one attempt then the `attemptId` might be missing and the value 1 was used for that before your change not null and empty (because of the line `var num = app[\"attempts\"].length;`).\r\n> \r\n> So please test with that case too.\r\n> And I would like to ask you to attach some data to the PR: during testing you can put a breakpoint (ie by placing `debugger;` into the code) before the Mustache renders the page (it is about line 161) please copy-paste the `data` content to a code block of the PR comment.\r\n> \r\n> Could you please do that for both having multiple attempts and having only one?\r\n\r\nI think this change is ok. The debugger data as follows:\r\n\r\nThis pic is when `hasMultipleAttempts` is true and `showCompletedColumns` is false.\r\n![reliao_img_1579763662512](https://user-images.githubusercontent.com/8609142/72964152-0a291300-3df4-11ea-8eae-713849341e23.png)\r\n\r\n\r\nNext pic is when `hasMultipleAttempts` is false and `showCompletedColumns` is true. There is only one attempt then the attemptId also exist. But to prevent attemptID missing, I will set attemptID to 1 before it.\r\n![reliao_img_1579764031165](https://user-images.githubusercontent.com/8609142/72964171-1dd47980-3df4-11ea-9fcd-99d39234e2e3.png)\r\n\r\n ",
        "createdAt" : "2020-01-23T07:23:31Z",
        "updatedAt" : "2020-01-23T07:34:33Z",
        "lastEditedBy" : "2966f80d-b765-414c-9598-c5868003d412",
        "tags" : [
        ]
      }
    ],
    "commit" : "4ea704231acae8d99aa5d3005271c51a93d083b5",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +138,142 @@          attempt[\"lastUpdated\"] = formatTimeMillis(attempt[\"lastUpdatedEpoch\"]);\n          attempt[\"log\"] = uiRoot + \"/api/v1/applications/\" + id + \"/\" +\n            (attempt.hasOwnProperty(\"attemptId\") ? attempt[\"attemptId\"] + \"/\" : \"\") + \"logs\";\n          attempt[\"durationMillisec\"] = attempt[\"duration\"];\n          attempt[\"duration\"] = formatDuration(attempt[\"duration\"]);"
  },
  {
    "id" : "5b523c9c-0a65-4074-a56d-e93d7390d348",
    "prId" : 24843,
    "prUrl" : "https://github.com/apache/spark/pull/24843#pullrequestreview-250179006",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "973149da-6332-4a15-ad75-290955cad1f1",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I also verified that this works in the same way.",
        "createdAt" : "2019-06-15T05:05:22Z",
        "updatedAt" : "2019-06-15T05:05:22Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "f1e02e469c2f98f71da3c1fabdbfddc0e89857b0",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +105,109 @@\n    var historySummary = $(\"#history-summary\");\n    var searchString = window.location.search;\n    var requestedIncomplete = getParameterByName(\"showIncomplete\", searchString);\n    requestedIncomplete = (requestedIncomplete == \"true\" ? true : false);"
  },
  {
    "id" : "d6fdd2f8-ed23-4562-91df-f4bb462f0ab4",
    "prId" : 24694,
    "prUrl" : "https://github.com/apache/spark/pull/24694#pullrequestreview-242011219",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eaa9c696-9155-477a-86e5-bc587b4c7a38",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "I think we can simply use\r\n```\r\n\"version\": attempt[\"appSparkVersion\"]\r\n```\r\nhere.\r\n\r\nAny reason we always set the version as the first attempt?",
        "createdAt" : "2019-05-25T18:08:19Z",
        "updatedAt" : "2019-05-25T18:08:19Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      }
    ],
    "commit" : "8a544ff0f9129b96bc0766cf192c4f035f35ea9d",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +141,145 @@          attempt[\"durationMillisec\"] = attempt[\"duration\"];\n          attempt[\"duration\"] = formatDuration(attempt[\"duration\"]);\n          var app_clone = {\"id\" : id, \"name\" : name, \"version\": version, \"num\" : num, \"attempts\" : [attempt]};\n          array.push(app_clone);\n        }"
  }
]