[
  {
    "id" : "4b3a35fe-594e-4bad-a999-b16727a7461e",
    "prId" : 33658,
    "prUrl" : "https://github.com/apache/spark/pull/33658#pullrequestreview-723851868",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1adfa9d2-fba1-4c8e-9693-531d320b0c48",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Well, this is a global setting instead of GHA-only. Anyway, no problem with this.",
        "createdAt" : "2021-08-05T22:36:10Z",
        "updatedAt" : "2021-08-05T22:37:05Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "d1e83ad8-3983-4b65-bb1d-38e20e5dc427",
        "parentId" : "1adfa9d2-fba1-4c8e-9693-531d320b0c48",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Yea, just set it back to previous level if GHA now allows.",
        "createdAt" : "2021-08-05T22:42:21Z",
        "updatedAt" : "2021-08-05T22:42:21Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "6e5a80e93333f820b7b58c7a88446d4c9722cecd",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1126,1130 @@    (Test / javaOptions) ++= {\n      val metaspaceSize = sys.env.get(\"METASPACE_SIZE\").getOrElse(\"1300m\")\n      s\"-Xmx4g -Xss4m -XX:MaxMetaspaceSize=$metaspaceSize -XX:+UseParallelGC -XX:-UseDynamicNumberOfGCThreads -XX:ReservedCodeCacheSize=128m\"\n        .split(\" \").toSeq\n    },"
  },
  {
    "id" : "ee6a62da-6afa-47c5-b553-359ce0534c7e",
    "prId" : 32253,
    "prUrl" : "https://github.com/apache/spark/pull/32253#pullrequestreview-640785436",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "232b0c9c-71f7-4f66-bfad-efdc0bc0fa14",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I assume the same, that these flags are required to use the vectorized code, but, that's on someone who's experimenting with Java 16 at this point.",
        "createdAt" : "2021-04-20T23:32:17Z",
        "updatedAt" : "2021-04-26T17:40:42Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "7e79df41-391a-4026-a53e-c12e2faa5010",
        "parentId" : "232b0c9c-71f7-4f66-bfad-efdc0bc0fa14",
        "authorId" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "body" : "Yes, to use the code relying on the Vector API, one would need to pass `--add-modules=jdk.incubator.vector`. Otherwise, it will fall back to pure JDK8-compatible code. And the `--add-modules=jdk.incubator.foreign -Dforeign.restricted=warn` is for a native-wrapper BLAS implementation based on the [Foreign Linker API](https://openjdk.java.net/jeps/389). If that's not available, it automatically falls back to the `com.github.fommil` native wrappers.",
        "createdAt" : "2021-04-21T08:47:59Z",
        "updatedAt" : "2021-04-26T17:40:42Z",
        "lastEditedBy" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "17edfebb92586c77c8806f2a63daaa166f524657",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +295,299 @@      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt\n      if (major >= 16) Seq(\"--add-modules=jdk.incubator.vector,jdk.incubator.foreign\", \"-Dforeign.restricted=warn\") else Seq.empty\n    },\n"
  },
  {
    "id" : "ea841a17-0674-40c2-af86-d75465d26578",
    "prId" : 31023,
    "prUrl" : "https://github.com/apache/spark/pull/31023#pullrequestreview-561800197",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ba106557-9119-4ac0-9a9a-7bf53ac17192",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "nit:\r\n\r\n```suggestion\r\n      val major = if (major == 1) versionParts(1).toInt else versionParts(0).toInt\r\n```",
        "createdAt" : "2021-01-05T09:02:54Z",
        "updatedAt" : "2021-01-05T09:02:54Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "a69b13c0-5334-4815-9cc4-160471007b38",
        "parentId" : "ba106557-9119-4ac0-9a9a-7bf53ac17192",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "It's impossible isn't it? `major` in the condition expression is undefined yet.",
        "createdAt" : "2021-01-05T13:48:17Z",
        "updatedAt" : "2021-01-05T13:48:17Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      }
    ],
    "commit" : "b583d4afc8952897aa1c7b60a78f4de421c9d1aa",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +962,966 @@      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt\n      if (major == 1) major = versionParts(1).toInt\n\n      Seq("
  },
  {
    "id" : "b754337b-ee29-4825-8eb0-96d79dc7ca4a",
    "prId" : 30810,
    "prUrl" : "https://github.com/apache/spark/pull/30810#pullrequestreview-631241230",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2a3389d9-050f-4e41-be82-8c4cfddee907",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Would a Spark cluster have to launch its JVMs with this flag to make it work? that's OK if so, we might just add a note in the docs about it.",
        "createdAt" : "2021-04-07T23:47:55Z",
        "updatedAt" : "2021-04-13T23:18:23Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "9cad6fac-fb70-4360-aebd-b395d3ca637e",
        "parentId" : "2a3389d9-050f-4e41-be82-8c4cfddee907",
        "authorId" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "body" : "Yes, they would have to. It's one of the failsafe to make sure users don't end up using the feature \"by accident\". That will be the case until the Vector API becomes stable (gets out of incubation) and doesn't need this flag anymore.",
        "createdAt" : "2021-04-08T10:40:48Z",
        "updatedAt" : "2021-04-13T23:18:23Z",
        "lastEditedBy" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "10595df8cd6ad01c6a9ae5cde49a9974ae58b667",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +295,299 @@      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt\n      if (major >= 16) Seq(\"--add-modules=jdk.incubator.vector\") else Seq.empty\n    },\n"
  },
  {
    "id" : "8f19e5d1-ac62-459e-a95a-e3cdb7dc7a49",
    "prId" : 30810,
    "prUrl" : "https://github.com/apache/spark/pull/30810#pullrequestreview-634611638",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b8fb97b-cbb1-44f5-bff2-565c7b47e6b0",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Apologies @luhenry there's a merge conflict around here. If you can resolve it I will merge.",
        "createdAt" : "2021-04-13T13:47:35Z",
        "updatedAt" : "2021-04-13T23:18:23Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      }
    ],
    "commit" : "10595df8cd6ad01c6a9ae5cde49a9974ae58b667",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +292,296 @@    publishLocal := Seq((MavenCompile / publishLocal), (SbtCompile / publishLocal)).dependOn.value,\n\n    javaOptions ++= {\n      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt"
  }
]