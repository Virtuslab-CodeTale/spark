[
  {
    "id" : "4b3a35fe-594e-4bad-a999-b16727a7461e",
    "prId" : 33658,
    "prUrl" : "https://github.com/apache/spark/pull/33658#pullrequestreview-723851868",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1adfa9d2-fba1-4c8e-9693-531d320b0c48",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Well, this is a global setting instead of GHA-only. Anyway, no problem with this.",
        "createdAt" : "2021-08-05T22:36:10Z",
        "updatedAt" : "2021-08-05T22:37:05Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "d1e83ad8-3983-4b65-bb1d-38e20e5dc427",
        "parentId" : "1adfa9d2-fba1-4c8e-9693-531d320b0c48",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Yea, just set it back to previous level if GHA now allows.",
        "createdAt" : "2021-08-05T22:42:21Z",
        "updatedAt" : "2021-08-05T22:42:21Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "6e5a80e93333f820b7b58c7a88446d4c9722cecd",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +1126,1130 @@    (Test / javaOptions) ++= {\n      val metaspaceSize = sys.env.get(\"METASPACE_SIZE\").getOrElse(\"1300m\")\n      s\"-Xmx4g -Xss4m -XX:MaxMetaspaceSize=$metaspaceSize -XX:+UseParallelGC -XX:-UseDynamicNumberOfGCThreads -XX:ReservedCodeCacheSize=128m\"\n        .split(\" \").toSeq\n    },"
  },
  {
    "id" : "ee6a62da-6afa-47c5-b553-359ce0534c7e",
    "prId" : 32253,
    "prUrl" : "https://github.com/apache/spark/pull/32253#pullrequestreview-640785436",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "232b0c9c-71f7-4f66-bfad-efdc0bc0fa14",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I assume the same, that these flags are required to use the vectorized code, but, that's on someone who's experimenting with Java 16 at this point.",
        "createdAt" : "2021-04-20T23:32:17Z",
        "updatedAt" : "2021-04-26T17:40:42Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "7e79df41-391a-4026-a53e-c12e2faa5010",
        "parentId" : "232b0c9c-71f7-4f66-bfad-efdc0bc0fa14",
        "authorId" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "body" : "Yes, to use the code relying on the Vector API, one would need to pass `--add-modules=jdk.incubator.vector`. Otherwise, it will fall back to pure JDK8-compatible code. And the `--add-modules=jdk.incubator.foreign -Dforeign.restricted=warn` is for a native-wrapper BLAS implementation based on the [Foreign Linker API](https://openjdk.java.net/jeps/389). If that's not available, it automatically falls back to the `com.github.fommil` native wrappers.",
        "createdAt" : "2021-04-21T08:47:59Z",
        "updatedAt" : "2021-04-26T17:40:42Z",
        "lastEditedBy" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "17edfebb92586c77c8806f2a63daaa166f524657",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +295,299 @@      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt\n      if (major >= 16) Seq(\"--add-modules=jdk.incubator.vector,jdk.incubator.foreign\", \"-Dforeign.restricted=warn\") else Seq.empty\n    },\n"
  },
  {
    "id" : "ea841a17-0674-40c2-af86-d75465d26578",
    "prId" : 31023,
    "prUrl" : "https://github.com/apache/spark/pull/31023#pullrequestreview-561800197",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ba106557-9119-4ac0-9a9a-7bf53ac17192",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "nit:\r\n\r\n```suggestion\r\n      val major = if (major == 1) versionParts(1).toInt else versionParts(0).toInt\r\n```",
        "createdAt" : "2021-01-05T09:02:54Z",
        "updatedAt" : "2021-01-05T09:02:54Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "a69b13c0-5334-4815-9cc4-160471007b38",
        "parentId" : "ba106557-9119-4ac0-9a9a-7bf53ac17192",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "It's impossible isn't it? `major` in the condition expression is undefined yet.",
        "createdAt" : "2021-01-05T13:48:17Z",
        "updatedAt" : "2021-01-05T13:48:17Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      }
    ],
    "commit" : "b583d4afc8952897aa1c7b60a78f4de421c9d1aa",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +962,966 @@      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt\n      if (major == 1) major = versionParts(1).toInt\n\n      Seq("
  },
  {
    "id" : "b754337b-ee29-4825-8eb0-96d79dc7ca4a",
    "prId" : 30810,
    "prUrl" : "https://github.com/apache/spark/pull/30810#pullrequestreview-631241230",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2a3389d9-050f-4e41-be82-8c4cfddee907",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Would a Spark cluster have to launch its JVMs with this flag to make it work? that's OK if so, we might just add a note in the docs about it.",
        "createdAt" : "2021-04-07T23:47:55Z",
        "updatedAt" : "2021-04-13T23:18:23Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "9cad6fac-fb70-4360-aebd-b395d3ca637e",
        "parentId" : "2a3389d9-050f-4e41-be82-8c4cfddee907",
        "authorId" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "body" : "Yes, they would have to. It's one of the failsafe to make sure users don't end up using the feature \"by accident\". That will be the case until the Vector API becomes stable (gets out of incubation) and doesn't need this flag anymore.",
        "createdAt" : "2021-04-08T10:40:48Z",
        "updatedAt" : "2021-04-13T23:18:23Z",
        "lastEditedBy" : "567dbcaa-2683-46db-af89-e44be673a7cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "10595df8cd6ad01c6a9ae5cde49a9974ae58b667",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +295,299 @@      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt\n      if (major >= 16) Seq(\"--add-modules=jdk.incubator.vector\") else Seq.empty\n    },\n"
  },
  {
    "id" : "8f19e5d1-ac62-459e-a95a-e3cdb7dc7a49",
    "prId" : 30810,
    "prUrl" : "https://github.com/apache/spark/pull/30810#pullrequestreview-634611638",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b8fb97b-cbb1-44f5-bff2-565c7b47e6b0",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Apologies @luhenry there's a merge conflict around here. If you can resolve it I will merge.",
        "createdAt" : "2021-04-13T13:47:35Z",
        "updatedAt" : "2021-04-13T23:18:23Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      }
    ],
    "commit" : "10595df8cd6ad01c6a9ae5cde49a9974ae58b667",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +292,296 @@    publishLocal := Seq((MavenCompile / publishLocal), (SbtCompile / publishLocal)).dependOn.value,\n\n    javaOptions ++= {\n      val versionParts = System.getProperty(\"java.version\").split(\"[+.\\\\-]+\", 3)\n      var major = versionParts(0).toInt"
  },
  {
    "id" : "60095ff9-6e29-4c59-b4f7-71828f085354",
    "prId" : 30643,
    "prUrl" : "https://github.com/apache/spark/pull/30643#pullrequestreview-551025955",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fd621cb5-76d8-4005-8a3f-45bf69368189",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Would you mind to add some comment here?",
        "createdAt" : "2020-12-14T03:13:49Z",
        "updatedAt" : "2020-12-14T03:38:41Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "689ae3bb-87ac-4a82-bdb4-cfc97f873e29",
        "parentId" : "fd621cb5-76d8-4005-8a3f-45bf69368189",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "updated",
        "createdAt" : "2020-12-14T03:47:56Z",
        "updatedAt" : "2020-12-14T03:47:56Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "f0ac81782132276a389470a8cf627f4cc12a919a",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +671,675 @@      ExclusionRule(organization = \"com.sun.jersey\"),\n      ExclusionRule(\"javax.servlet\", \"javax.servlet-api\"),\n      ExclusionRule(\"javax.ws.rs\", \"jsr311-api\"))\n  )\n}"
  },
  {
    "id" : "1f8ea4fc-6bfe-4deb-90fc-6eaa89074e6f",
    "prId" : 30643,
    "prUrl" : "https://github.com/apache/spark/pull/30643#pullrequestreview-567874907",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Hm, so in Yarn are we adding `javax.servlet-api` back with `jakarta.servlet-api`?",
        "createdAt" : "2021-01-13T04:42:42Z",
        "updatedAt" : "2021-01-13T04:42:42Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "1b3bf987-d6fe-4332-952a-e9f84da42517",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "THE YARN TESTS relies on this, so I\r\n added it back here\r\n",
        "createdAt" : "2021-01-13T05:13:30Z",
        "updatedAt" : "2021-01-13T05:13:30Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "6bd51d72-f1e2-491f-8782-46e98943cb84",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Is it needed only for tests? or during actual runtime with the regular release?",
        "createdAt" : "2021-01-13T10:23:11Z",
        "updatedAt" : "2021-01-13T10:23:11Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "0a714d25-4544-46a9-be0b-e0d3bda89880",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "It's for test only.\r\n\r\nFYI, https://github.com/apache/spark/blob/317048d708465723e7008ba4ce22c2406c1aa23a/resource-managers/yarn/pom.xml#L156-L158",
        "createdAt" : "2021-01-13T10:28:16Z",
        "updatedAt" : "2021-01-13T10:28:51Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "d7976a85-f08f-4cc2-94ce-4b8a3fa1909a",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "If this is for test-only, let's include this only for the test scope. It's going to introduce another problem with conflicting jars. Can we try to exclude and include this with test-only scope? If that doesn't work with SBT, that might be fine since we don't use SBT for official release process. We can add documentation for clarification.\r\n",
        "createdAt" : "2021-01-13T10:33:41Z",
        "updatedAt" : "2021-01-13T10:33:41Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "b0c2fcca-b464-4177-9685-e95440fbad6e",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "Do we have a JIRA ticket to track the new conflicting jars issue? I will try to fix it",
        "createdAt" : "2021-01-13T10:44:01Z",
        "updatedAt" : "2021-01-13T10:44:01Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "732ac9fd-b240-4a8d-abcc-e847d14c06e5",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "It would be able to do it at least in Maven. Nope, we don't have it. I was just post-reviewing it :-).",
        "createdAt" : "2021-01-13T10:49:57Z",
        "updatedAt" : "2021-01-13T10:49:58Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "53abf14d-8f4a-48a9-9561-00889a919608",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Just for clarification, we're all fine as long as ...:\r\n- `dev/deps/spark-deps-hadoop-3.2-hive-2.3` does not have the duplicated jars. This file contains the list of jars for the release.\r\n- The tests pass",
        "createdAt" : "2021-01-13T10:51:34Z",
        "updatedAt" : "2021-01-13T10:51:34Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "2788a24e-5a5b-4259-a915-b7a8792fafbc",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "got it",
        "createdAt" : "2021-01-13T13:06:27Z",
        "updatedAt" : "2021-01-13T13:06:28Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "b1109c1d-9e02-40c3-82db-48f6eb59c414",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Thank you @yaooqinn.",
        "createdAt" : "2021-01-13T13:19:10Z",
        "updatedAt" : "2021-01-13T13:19:11Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "0c1c280e-a356-4984-97f9-fe486e0e71da",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "my pleasure:)",
        "createdAt" : "2021-01-13T14:07:43Z",
        "updatedAt" : "2021-01-13T14:07:43Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "39edbb54-a025-41c0-9aaa-bd151ba3dc9d",
        "parentId" : "251b8e52-b2e2-444a-a629-49d89e26e301",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I filed a JIRA for you: SPARK-34111 :-).",
        "createdAt" : "2021-01-14T06:14:35Z",
        "updatedAt" : "2021-01-14T06:14:35Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "f0ac81782132276a389470a8cf627f4cc12a919a",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +780,784 @@      ExclusionRule(organization = \"com.sun.jersey\"),\n      ExclusionRule(\"javax.servlet\", \"javax.servlet-api\"),\n      ExclusionRule(\"javax.ws.rs\", \"jsr311-api\"))\n  )\n}"
  }
]