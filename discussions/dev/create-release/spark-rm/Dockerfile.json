[
  {
    "id" : "298fa3e1-a455-4bbe-88ab-5eeb1b0227d8",
    "prId" : 32573,
    "prUrl" : "https://github.com/apache/spark/pull/32573#pullrequestreview-661584210",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "287d7fed-dc04-4fdf-a754-51d30d9edce1",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Why not also `jinja2<3.0.0`?",
        "createdAt" : "2021-05-18T01:50:34Z",
        "updatedAt" : "2021-05-18T01:50:34Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "062e4441-f78e-45f6-ab1f-40c046f972da",
        "parentId" : "287d7fed-dc04-4fdf-a754-51d30d9edce1",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "Other dependencies are also fixed their version in this file, so should we fix for Jinja2 too?",
        "createdAt" : "2021-05-18T01:56:05Z",
        "updatedAt" : "2021-05-18T01:56:06Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "ad3cfd1e-b678-4b61-8d04-265e9fdf1354",
        "parentId" : "287d7fed-dc04-4fdf-a754-51d30d9edce1",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Oh okay. I'm just curious why it is not as same as the other place. If we know the version works, then it's fine.",
        "createdAt" : "2021-05-18T02:38:53Z",
        "updatedAt" : "2021-05-18T02:38:53Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "db1257dce192e0d4d2e39e83ddfe57d0c727017c",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +43,47 @@# TODO(SPARK-35375): Jinja2 3.0.0+ causes error when building with Sphinx.\n#   See also https://issues.apache.org/jira/browse/SPARK-35375.\nARG PIP_PKGS=\"sphinx==3.0.4 mkdocs==1.1.2 numpy==1.19.4 pydata_sphinx_theme==0.4.1 ipython==7.19.0 nbsphinx==0.8.0 numpydoc==1.1.0 jinja2==2.11.3\"\nARG GEM_PKGS=\"bundler:2.2.9\"\n"
  },
  {
    "id" : "471ca1bd-e459-48e0-b820-14e45010bbcd",
    "prId" : 30971,
    "prUrl" : "https://github.com/apache/spark/pull/30971#pullrequestreview-559936706",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5f942510-5439-473b-a055-df1dfcb81c06",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Does the doc generation work with Python 3.8, @HyukjinKwon ?",
        "createdAt" : "2020-12-30T07:23:42Z",
        "updatedAt" : "2020-12-30T07:23:42Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "07dc01fd-fcbe-4666-adc1-df56eec06c5b",
        "parentId" : "5f942510-5439-473b-a055-df1dfcb81c06",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, I use Python 3.8 locally :-). I checked that it works for PySpark documentation build. I will happen to double check when I do actual release.\r\n\r\nBTW, after we switch to Rouge at https://github.com/apache/spark/pull/26521, we're not dependent on Python anymore in other documentation generations if I am not mistaken. So it should be fine.",
        "createdAt" : "2020-12-30T07:30:57Z",
        "updatedAt" : "2020-12-30T07:32:52Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "7bce81e959b9c3087714863ba02827d5763ec469",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +21,25 @@# * Java 8\n# * Ivy\n# * Python (3.8.5)\n# * R-base/R-base-dev (4.0.3)\n# * Ruby (2.7.0)"
  },
  {
    "id" : "13fe36ff-41a0-4cec-86ed-7d56dead1f18",
    "prId" : 29491,
    "prUrl" : "https://github.com/apache/spark/pull/29491#pullrequestreview-474191030",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f4c8fd35-cd50-4234-8159-8777304fd33d",
        "parentId" : null,
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "this makes me think we should have a shared requirements.txt somewhere.",
        "createdAt" : "2020-08-21T18:07:05Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      },
      {
        "id" : "f704cba8-a7f4-4773-a6e4-fa068756a4c4",
        "parentId" : "f4c8fd35-cd50-4234-8159-8777304fd33d",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "We tried that in #27928 but couldn't get buy-in from a release manager.\r\n\r\nAlso discussed briefly here: https://github.com/apache/spark/pull/29491#discussion_r474019981",
        "createdAt" : "2020-08-24T22:12:40Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      },
      {
        "id" : "e84ff98e-e63b-451c-a5cb-c3fdac575b84",
        "parentId" : "f4c8fd35-cd50-4234-8159-8777304fd33d",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, let's run it separately - there's already a JIRA for it SPARK-31167 as @nchammas pointed out. It's a bit complicated than I thought.",
        "createdAt" : "2020-08-25T07:06:58Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "0e114b6ac47cde46467d18dce2ca8e1ac0650a35",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +37,41 @@#   See also https://github.com/sphinx-doc/sphinx/issues/7551.\n#   We should use the latest Sphinx version once this is fixed.\nARG PIP_PKGS=\"sphinx==3.0.4 mkdocs==1.0.4 numpy==1.18.1 pydata_sphinx_theme==0.3.1 ipython==7.16.1 nbsphinx==0.7.1\"\nARG GEM_PKGS=\"jekyll:4.0.0 jekyll-redirect-from:0.16.0 rouge:3.15.0\"\n"
  },
  {
    "id" : "939e0bcb-bd62-4cf1-95cc-dade37817d60",
    "prId" : 28088,
    "prUrl" : "https://github.com/apache/spark/pull/28088#pullrequestreview-385250728",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c2ca2b2-2079-41e2-b8b9-f6ebae4f79b6",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "This follows part of https://github.com/apache/spark/pull/27534",
        "createdAt" : "2020-04-01T04:00:07Z",
        "updatedAt" : "2020-04-01T04:00:08Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "a2c711b736e7b1048ce7e6b56253c3f1414b58d2",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +35,39 @@\nARG PIP_PKGS=\"sphinx==2.3.1 mkdocs==1.0.4 numpy==1.18.1\"\nARG GEM_PKGS=\"jekyll:4.0.0 jekyll-redirect-from:0.16.0 rouge:3.15.0\"\n\n# Install extra needed repos and refresh."
  },
  {
    "id" : "a3e0cbfa-25f9-40f7-be53-fbfa4beb97a9",
    "prId" : 28088,
    "prUrl" : "https://github.com/apache/spark/pull/28088#pullrequestreview-385277174",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62183ce4-5835-454e-b13b-eb6e9e871e11",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "So, did `ruby2.5` work correctly?",
        "createdAt" : "2020-04-01T05:29:21Z",
        "updatedAt" : "2020-04-01T05:29:21Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "6bc8d629-df9d-43b7-9d62-93c320ce2471",
        "parentId" : "62183ce4-5835-454e-b13b-eb6e9e871e11",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "`mkdocs` requires ruby 2.4+, I googled a bit and seems ubuntu 18 supports ruby 2.5 at most.",
        "createdAt" : "2020-04-01T05:38:29Z",
        "updatedAt" : "2020-04-01T05:38:29Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "a2c711b736e7b1048ce7e6b56253c3f1414b58d2",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +76,80 @@  Rscript -e \"devtools::install_github('jimhester/lintr')\" && \\\n  # Install tools needed to build the documentation.\n  $APT_INSTALL ruby2.5 ruby2.5-dev && \\\n  gem install --no-document $GEM_PKGS\n"
  },
  {
    "id" : "c7e68cfc-afa2-46de-b772-66db880091dc",
    "prId" : 27534,
    "prUrl" : "https://github.com/apache/spark/pull/27534#pullrequestreview-356358605",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "688ac5e2-305a-4af9-98e9-2038f7635a19",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "@dongjoon-hyun and @wangyum might better to review.",
        "createdAt" : "2020-02-11T00:22:56Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebba66868f9833cbf2771476b609bfefaf8e946c",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +18,22 @@# Image for building Spark releases. Based on Ubuntu 18.04.\n#\n# Includes:\n# * Java 8\n# * Ivy"
  },
  {
    "id" : "b3330f46-59b3-47ab-959d-ee451dce5845",
    "prId" : 27534,
    "prUrl" : "https://github.com/apache/spark/pull/27534#pullrequestreview-384951749",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "32a371fd-678c-44d8-b937-0c3845b4ac38",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Okay, I suspect it was not tested due to the limitation described in the PR description:\r\n\r\n```bash\r\nGenerating SQL API Markdown files.\r\n20/03/31 06:41:42 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nTraceback (most recent call last):\r\n  File \"/opt/spark-rm/output/spark/sql/gen-sql-api-docs.py\", line 21, in <module>\r\n    from pyspark.java_gateway import launch_gateway\r\n  File \"/opt/spark-rm/output/spark/python/lib/pyspark.zip/pyspark/__init__.py\", line 51, in <module>\r\n  File \"/opt/spark-rm/output/spark/python/lib/pyspark.zip/pyspark/context.py\", line 22, in <module>\r\nImportError: No module named threading\r\nlog4j:WARN No appenders could be found for logger (org.apache.spark.util.ShutdownHookManager).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n```\r\n\r\nSeems the installed Python is weird. [`threading`]( https://docs.python.org/3.7/library/threading.html) is the standard Python library that has existed from Python 2 to Python 3, but seems not existent with the Python installed here.\r\n\r\nLet me revert this to make RC preparation easier.",
        "createdAt" : "2020-03-31T07:06:22Z",
        "updatedAt" : "2020-03-31T07:10:43Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "005d02ab-2e82-4f90-a9a0-d30d47ac0f72",
        "parentId" : "32a371fd-678c-44d8-b937-0c3845b4ac38",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "Hmm, that's strange, because I was able to build enough of the Dockerfile to get past this point, and I did not hit this problem.\r\n\r\nWhat I couldn't test was to run everything via `do-release-docker.sh`.",
        "createdAt" : "2020-03-31T17:28:20Z",
        "updatedAt" : "2020-03-31T17:28:21Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebba66868f9833cbf2771476b609bfefaf8e946c",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +55,59 @@\nENV PATH \"$PATH:/root/.pyenv/bin:/root/.pyenv/shims\"\nRUN curl -L https://github.com/pyenv/pyenv-installer/raw/dd3f7d0914c5b4a416ca71ffabdf2954f2021596/bin/pyenv-installer | bash\nRUN $APT_INSTALL libbz2-dev libreadline-dev libsqlite3-dev\nRUN pyenv install 3.7.6"
  }
]