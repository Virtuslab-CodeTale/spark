[
  {
    "id" : "298fa3e1-a455-4bbe-88ab-5eeb1b0227d8",
    "prId" : 32573,
    "prUrl" : "https://github.com/apache/spark/pull/32573#pullrequestreview-661584210",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "287d7fed-dc04-4fdf-a754-51d30d9edce1",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Why not also `jinja2<3.0.0`?",
        "createdAt" : "2021-05-18T01:50:34Z",
        "updatedAt" : "2021-05-18T01:50:34Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "062e4441-f78e-45f6-ab1f-40c046f972da",
        "parentId" : "287d7fed-dc04-4fdf-a754-51d30d9edce1",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "Other dependencies are also fixed their version in this file, so should we fix for Jinja2 too?",
        "createdAt" : "2021-05-18T01:56:05Z",
        "updatedAt" : "2021-05-18T01:56:06Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "ad3cfd1e-b678-4b61-8d04-265e9fdf1354",
        "parentId" : "287d7fed-dc04-4fdf-a754-51d30d9edce1",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Oh okay. I'm just curious why it is not as same as the other place. If we know the version works, then it's fine.",
        "createdAt" : "2021-05-18T02:38:53Z",
        "updatedAt" : "2021-05-18T02:38:53Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "db1257dce192e0d4d2e39e83ddfe57d0c727017c",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +43,47 @@# TODO(SPARK-35375): Jinja2 3.0.0+ causes error when building with Sphinx.\n#   See also https://issues.apache.org/jira/browse/SPARK-35375.\nARG PIP_PKGS=\"sphinx==3.0.4 mkdocs==1.1.2 numpy==1.19.4 pydata_sphinx_theme==0.4.1 ipython==7.19.0 nbsphinx==0.8.0 numpydoc==1.1.0 jinja2==2.11.3\"\nARG GEM_PKGS=\"bundler:2.2.9\"\n"
  },
  {
    "id" : "471ca1bd-e459-48e0-b820-14e45010bbcd",
    "prId" : 30971,
    "prUrl" : "https://github.com/apache/spark/pull/30971#pullrequestreview-559936706",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5f942510-5439-473b-a055-df1dfcb81c06",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Does the doc generation work with Python 3.8, @HyukjinKwon ?",
        "createdAt" : "2020-12-30T07:23:42Z",
        "updatedAt" : "2020-12-30T07:23:42Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "07dc01fd-fcbe-4666-adc1-df56eec06c5b",
        "parentId" : "5f942510-5439-473b-a055-df1dfcb81c06",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, I use Python 3.8 locally :-). I checked that it works for PySpark documentation build. I will happen to double check when I do actual release.\r\n\r\nBTW, after we switch to Rouge at https://github.com/apache/spark/pull/26521, we're not dependent on Python anymore in other documentation generations if I am not mistaken. So it should be fine.",
        "createdAt" : "2020-12-30T07:30:57Z",
        "updatedAt" : "2020-12-30T07:32:52Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "7bce81e959b9c3087714863ba02827d5763ec469",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +21,25 @@# * Java 8\n# * Ivy\n# * Python (3.8.5)\n# * R-base/R-base-dev (4.0.3)\n# * Ruby (2.7.0)"
  },
  {
    "id" : "13fe36ff-41a0-4cec-86ed-7d56dead1f18",
    "prId" : 29491,
    "prUrl" : "https://github.com/apache/spark/pull/29491#pullrequestreview-474191030",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f4c8fd35-cd50-4234-8159-8777304fd33d",
        "parentId" : null,
        "authorId" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "body" : "this makes me think we should have a shared requirements.txt somewhere.",
        "createdAt" : "2020-08-21T18:07:05Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "ae55b635-dd0e-41aa-9272-372de9a35f38",
        "tags" : [
        ]
      },
      {
        "id" : "f704cba8-a7f4-4773-a6e4-fa068756a4c4",
        "parentId" : "f4c8fd35-cd50-4234-8159-8777304fd33d",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "We tried that in #27928 but couldn't get buy-in from a release manager.\r\n\r\nAlso discussed briefly here: https://github.com/apache/spark/pull/29491#discussion_r474019981",
        "createdAt" : "2020-08-24T22:12:40Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      },
      {
        "id" : "e84ff98e-e63b-451c-a5cb-c3fdac575b84",
        "parentId" : "f4c8fd35-cd50-4234-8159-8777304fd33d",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, let's run it separately - there's already a JIRA for it SPARK-31167 as @nchammas pointed out. It's a bit complicated than I thought.",
        "createdAt" : "2020-08-25T07:06:58Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "0e114b6ac47cde46467d18dce2ca8e1ac0650a35",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +37,41 @@#   See also https://github.com/sphinx-doc/sphinx/issues/7551.\n#   We should use the latest Sphinx version once this is fixed.\nARG PIP_PKGS=\"sphinx==3.0.4 mkdocs==1.0.4 numpy==1.18.1 pydata_sphinx_theme==0.3.1 ipython==7.16.1 nbsphinx==0.7.1\"\nARG GEM_PKGS=\"jekyll:4.0.0 jekyll-redirect-from:0.16.0 rouge:3.15.0\"\n"
  },
  {
    "id" : "939e0bcb-bd62-4cf1-95cc-dade37817d60",
    "prId" : 28088,
    "prUrl" : "https://github.com/apache/spark/pull/28088#pullrequestreview-385250728",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3c2ca2b2-2079-41e2-b8b9-f6ebae4f79b6",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "This follows part of https://github.com/apache/spark/pull/27534",
        "createdAt" : "2020-04-01T04:00:07Z",
        "updatedAt" : "2020-04-01T04:00:08Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "a2c711b736e7b1048ce7e6b56253c3f1414b58d2",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +35,39 @@\nARG PIP_PKGS=\"sphinx==2.3.1 mkdocs==1.0.4 numpy==1.18.1\"\nARG GEM_PKGS=\"jekyll:4.0.0 jekyll-redirect-from:0.16.0 rouge:3.15.0\"\n\n# Install extra needed repos and refresh."
  },
  {
    "id" : "a3e0cbfa-25f9-40f7-be53-fbfa4beb97a9",
    "prId" : 28088,
    "prUrl" : "https://github.com/apache/spark/pull/28088#pullrequestreview-385277174",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62183ce4-5835-454e-b13b-eb6e9e871e11",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "So, did `ruby2.5` work correctly?",
        "createdAt" : "2020-04-01T05:29:21Z",
        "updatedAt" : "2020-04-01T05:29:21Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "6bc8d629-df9d-43b7-9d62-93c320ce2471",
        "parentId" : "62183ce4-5835-454e-b13b-eb6e9e871e11",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "`mkdocs` requires ruby 2.4+, I googled a bit and seems ubuntu 18 supports ruby 2.5 at most.",
        "createdAt" : "2020-04-01T05:38:29Z",
        "updatedAt" : "2020-04-01T05:38:29Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "a2c711b736e7b1048ce7e6b56253c3f1414b58d2",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +76,80 @@  Rscript -e \"devtools::install_github('jimhester/lintr')\" && \\\n  # Install tools needed to build the documentation.\n  $APT_INSTALL ruby2.5 ruby2.5-dev && \\\n  gem install --no-document $GEM_PKGS\n"
  },
  {
    "id" : "c7e68cfc-afa2-46de-b772-66db880091dc",
    "prId" : 27534,
    "prUrl" : "https://github.com/apache/spark/pull/27534#pullrequestreview-356358605",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "688ac5e2-305a-4af9-98e9-2038f7635a19",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "@dongjoon-hyun and @wangyum might better to review.",
        "createdAt" : "2020-02-11T00:22:56Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebba66868f9833cbf2771476b609bfefaf8e946c",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +18,22 @@# Image for building Spark releases. Based on Ubuntu 18.04.\n#\n# Includes:\n# * Java 8\n# * Ivy"
  },
  {
    "id" : "b3330f46-59b3-47ab-959d-ee451dce5845",
    "prId" : 27534,
    "prUrl" : "https://github.com/apache/spark/pull/27534#pullrequestreview-384951749",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "32a371fd-678c-44d8-b937-0c3845b4ac38",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Okay, I suspect it was not tested due to the limitation described in the PR description:\r\n\r\n```bash\r\nGenerating SQL API Markdown files.\r\n20/03/31 06:41:42 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nTraceback (most recent call last):\r\n  File \"/opt/spark-rm/output/spark/sql/gen-sql-api-docs.py\", line 21, in <module>\r\n    from pyspark.java_gateway import launch_gateway\r\n  File \"/opt/spark-rm/output/spark/python/lib/pyspark.zip/pyspark/__init__.py\", line 51, in <module>\r\n  File \"/opt/spark-rm/output/spark/python/lib/pyspark.zip/pyspark/context.py\", line 22, in <module>\r\nImportError: No module named threading\r\nlog4j:WARN No appenders could be found for logger (org.apache.spark.util.ShutdownHookManager).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n```\r\n\r\nSeems the installed Python is weird. [`threading`]( https://docs.python.org/3.7/library/threading.html) is the standard Python library that has existed from Python 2 to Python 3, but seems not existent with the Python installed here.\r\n\r\nLet me revert this to make RC preparation easier.",
        "createdAt" : "2020-03-31T07:06:22Z",
        "updatedAt" : "2020-03-31T07:10:43Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "005d02ab-2e82-4f90-a9a0-d30d47ac0f72",
        "parentId" : "32a371fd-678c-44d8-b937-0c3845b4ac38",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "Hmm, that's strange, because I was able to build enough of the Dockerfile to get past this point, and I did not hit this problem.\r\n\r\nWhat I couldn't test was to run everything via `do-release-docker.sh`.",
        "createdAt" : "2020-03-31T17:28:20Z",
        "updatedAt" : "2020-03-31T17:28:21Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebba66868f9833cbf2771476b609bfefaf8e946c",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +55,59 @@\nENV PATH \"$PATH:/root/.pyenv/bin:/root/.pyenv/shims\"\nRUN curl -L https://github.com/pyenv/pyenv-installer/raw/dd3f7d0914c5b4a416ca71ffabdf2954f2021596/bin/pyenv-installer | bash\nRUN $APT_INSTALL libbz2-dev libreadline-dev libsqlite3-dev\nRUN pyenv install 3.7.6"
  },
  {
    "id" : "c4cb0fc8-41d1-4c33-89f5-b86dbaa1206e",
    "prId" : 26848,
    "prUrl" : "https://github.com/apache/spark/pull/26848#pullrequestreview-330950458",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d5d7912b-4760-4d60-a574-d2479ccbe54a",
        "parentId" : null,
        "authorId" : "813f0961-9a16-4e42-a167-961d914c472c",
        "body" : "We need to change default python to python3 to build documentation:\r\n\r\n```\r\nGenerating markdown files for SQL documentation.\r\n19/12/11 08:57:10 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nTraceback (most recent call last):\r\n  File \"/opt/spark-rm/output/spark/sql/gen-sql-markdown.py\", line 222, in <module>\r\n    from pyspark.java_gateway import launch_gateway\r\n  File \"/opt/spark-rm/output/spark/python/lib/pyspark.zip/pyspark/__init__.py\", line 51, in <module>\r\n  File \"/opt/spark-rm/output/spark/python/lib/pyspark.zip/pyspark/context.py\", line 22, in <module>\r\nImportError: No module named threading\r\nlog4j:WARN No appenders could be found for logger (org.apache.spark.util.ShutdownHookManager).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\njekyll 3.8.6 | Error:  SQL doc generation failed\r\n```\r\n\r\n```\r\nspark-rm@324cfefd4d06:/opt/spark-rm/output$ python3\r\nPython 3.6.9 (default, Nov  7 2019, 10:44:02)\r\n[GCC 8.3.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import threading\r\n>>> exit()\r\nspark-rm@324cfefd4d06:/opt/spark-rm/output$ python\r\nPython 2.7.15+ (default, Oct  7 2019, 17:39:04)\r\n[GCC 7.4.0] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import threading\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: No module named threading\r\n>>> exit()\r\n```",
        "createdAt" : "2019-12-11T12:52:53Z",
        "updatedAt" : "2019-12-12T08:30:02Z",
        "lastEditedBy" : "813f0961-9a16-4e42-a167-961d914c472c",
        "tags" : [
        ]
      },
      {
        "id" : "aff41243-a4d6-4cc6-a38b-796d09b69937",
        "parentId" : "d5d7912b-4760-4d60-a574-d2479ccbe54a",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Huh? threading is a built-in API from Python 2 (https://docs.python.org/2/library/threading.html):\r\n\r\n```python\r\nPython 2.7.10 (default, Feb 22 2019, 21:55:15)\r\n[GCC 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.37.14)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import threading\r\n>>> exit(0)\r\n```",
        "createdAt" : "2019-12-12T01:43:24Z",
        "updatedAt" : "2019-12-12T08:30:02Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "71b642d1698971696669cb89ac864236e91e129d",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +67,71 @@  update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1 && \\\n  update-alternatives --install /usr/bin/python python /usr/bin/python3.6 2 && \\\n  update-alternatives --set python /usr/bin/python3.6 && \\\n  pip3 install $BASE_PIP_PKGS && \\\n  pip3 install $PIP_PKGS && \\"
  },
  {
    "id" : "bddb5f5d-0904-4de7-a4d1-996903b5ed86",
    "prId" : 26848,
    "prUrl" : "https://github.com/apache/spark/pull/26848#pullrequestreview-330918440",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4993c67b-ab4f-43f4-9c84-bda73480ab87",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "So, there is no `pip` for Python2 after this, right?",
        "createdAt" : "2019-12-11T16:19:57Z",
        "updatedAt" : "2019-12-12T08:30:02Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "7d358c12-a2d6-4ef5-94d4-7286db94948d",
        "parentId" : "4993c67b-ab4f-43f4-9c84-bda73480ab87",
        "authorId" : "813f0961-9a16-4e42-a167-961d914c472c",
        "body" : "Yes",
        "createdAt" : "2019-12-11T23:49:38Z",
        "updatedAt" : "2019-12-12T08:30:02Z",
        "lastEditedBy" : "813f0961-9a16-4e42-a167-961d914c472c",
        "tags" : [
        ]
      }
    ],
    "commit" : "71b642d1698971696669cb89ac864236e91e129d",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +63,67 @@  $APT_INSTALL nodejs && \\\n  # Install needed python packages. Use pip for installing packages (for consistency).\n  $APT_INSTALL libpython3-dev python3-pip && \\\n  # Change default python version to python3.\n  update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1 && \\"
  },
  {
    "id" : "af295e90-3af3-481d-baa7-ebed380abe89",
    "prId" : 26521,
    "prUrl" : "https://github.com/apache/spark/pull/26521#pullrequestreview-316938463",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aa280953-444c-4e8a-accc-5db88df2a9e8",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Sphinx still needs `pygments` but it's in sphinx's dependency. I don't think we should explicitly list since Spark doesn't directly use it (but sphinx uses it).",
        "createdAt" : "2019-11-14T13:08:35Z",
        "updatedAt" : "2019-11-14T13:08:48Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "60687204-f728-486c-a5cd-08c79794b6f2",
        "parentId" : "aa280953-444c-4e8a-accc-5db88df2a9e8",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "cc @vanzin too",
        "createdAt" : "2019-11-14T13:09:31Z",
        "updatedAt" : "2019-11-14T13:09:31Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b142b3d6c122e5f96b3b4ac34a17db7a514050c",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +35,39 @@\nARG BASE_PIP_PKGS=\"setuptools wheel virtualenv\"\nARG PIP_PKGS=\"pyopenssl pypandoc numpy sphinx\"\n\n# Install extra needed repos and refresh."
  },
  {
    "id" : "e6544e0c-1cf2-4e0e-84d5-a9591d6758c0",
    "prId" : 25226,
    "prUrl" : "https://github.com/apache/spark/pull/25226#pullrequestreview-264618540",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7129e410-0811-420c-a510-69e2442109a0",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "`hash -r pip` is also required. Without that, we will hit the following.\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/pip\", line 9, in <module>\r\n    from pip import main\r\nImportError: cannot import name main\r\n```",
        "createdAt" : "2019-07-22T06:27:11Z",
        "updatedAt" : "2019-07-22T06:27:11Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "e4ae98cb8ea51815a9e9c0f2ee470ed2ebc55718",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +61,65 @@  # Install needed python packages. Use pip for installing packages (for consistency).\n  $APT_INSTALL libpython2.7-dev libpython3-dev python-pip python3-pip && \\\n  pip install --upgrade pip && hash -r pip && \\\n  pip install $BASE_PIP_PKGS && \\\n  pip install $PIP_PKGS && \\"
  },
  {
    "id" : "4563b557-50ab-4eec-aa33-598e441bafe9",
    "prId" : 24758,
    "prUrl" : "https://github.com/apache/spark/pull/24758#pullrequestreview-244349976",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "450d00e4-be64-4efb-ba9d-a6f735c0e660",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "This also needed `apt-transport-https` in Ubuntu 16, it seems. I tried the steps in Docker and it successfully accesses CRAN.",
        "createdAt" : "2019-05-31T14:47:35Z",
        "updatedAt" : "2019-05-31T14:47:36Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      }
    ],
    "commit" : "54896aa60b43013b20ecc15bf47d9b6cc158893d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +39,43 @@# This is all in a single \"RUN\" command so that if anything changes, \"apt update\" is run to fetch\n# the most current package versions (instead of potentially using old versions cached by docker).\nRUN apt-get clean && apt-get update && $APT_INSTALL gnupg ca-certificates apt-transport-https && \\\n  echo 'deb https://cloud.r-project.org/bin/linux/ubuntu xenial/' >> /etc/apt/sources.list && \\\n  gpg --keyserver keyserver.ubuntu.com --recv-key E084DAB9 && \\"
  },
  {
    "id" : "97cf1e9d-96cf-4cb1-a2a8-9db26609471e",
    "prId" : 24664,
    "prUrl" : "https://github.com/apache/spark/pull/24664#pullrequestreview-240332431",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "95a977f5-58a3-4c36-942c-e3e0412ec25a",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I couldn't test that this works as a Debian repo, but the result of browsing both URLs looks the same and contains a bionic-cran35 subdir.",
        "createdAt" : "2019-05-21T14:26:43Z",
        "updatedAt" : "2019-05-22T13:37:03Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "4bcb2f7a-ce9f-4d0b-a8c8-530dd66dd5aa",
        "parentId" : "95a977f5-58a3-4c36-942c-e3e0412ec25a",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "This seems to need more works. Could you try with docker image?\r\n```\r\nroot@8a08d6e45096:/# apt-get update\r\nIgn:1 https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/ InRelease\r\nErr:2 https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/ Release\r\n  Certificate verification failed: The certificate is NOT trusted. The certificate issuer is unknown.  Could not handshake: Error in the certificate verification. [IP: 54.192.146.13 443]\r\n```",
        "createdAt" : "2019-05-21T20:51:06Z",
        "updatedAt" : "2019-05-22T13:37:03Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "c51f99c9-559f-42df-b28e-b0248f43135a",
        "parentId" : "95a977f5-58a3-4c36-942c-e3e0412ec25a",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Dang, OK, I didn't test this. I don't see browser warnings when browsing to https://cloud.r-project.org/bin/linux/ubuntu so that's odd. How are you testing it? What about using https://cran.r-project.org/bin/linux/ubuntu directly here?",
        "createdAt" : "2019-05-21T21:40:19Z",
        "updatedAt" : "2019-05-22T13:37:03Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "a49ff422-2fed-4ea4-a96f-c34f3736c4e4",
        "parentId" : "95a977f5-58a3-4c36-942c-e3e0412ec25a",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I tested like this.\r\n```bash\r\n$ docker run -it ubuntu:18.04 /bin/bash\r\nroot@f088bff95325:/# apt-get clean && apt-get update && apt-get install --no-install-recommends -y gnupg && echo 'deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/' >> /etc/apt/sources.list && gpg --keyserver keyserver.ubuntu.com --recv-key E084DAB9 && gpg -a --export E084DAB9 | apt-key add - && apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get clean && apt-get update\r\n```\r\n\r\nThe original one works. But, `https://cran.XXX` also fails.\r\n```\r\nErr:2 https://cran.cnr.Berkeley.edu/bin/linux/ubuntu bionic-cran35/ Release\r\n  Certificate verification failed: The certificate is NOT trusted. The certificate issuer is unknown.  Could not handshake: Error in the certificate verification. [IP: 169.229.19.202 443]\r\n```",
        "createdAt" : "2019-05-21T21:50:20Z",
        "updatedAt" : "2019-05-22T13:37:03Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "632d1dfa-b3f9-4d32-8c79-ad3ee53b87a6",
        "parentId" : "95a977f5-58a3-4c36-942c-e3e0412ec25a",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "See my latest commit. Adding `ca-certificates` and `[trusted=yes]` made it work for me.",
        "createdAt" : "2019-05-21T22:28:16Z",
        "updatedAt" : "2019-05-22T13:37:03Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "d22776f5-04ec-4666-a527-61c94532ed40",
        "parentId" : "95a977f5-58a3-4c36-942c-e3e0412ec25a",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Great!",
        "createdAt" : "2019-05-21T22:31:36Z",
        "updatedAt" : "2019-05-22T13:37:03Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "254e5cb935071f5ebf584e4b349514bbf1853398",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +44,48 @@# the most current package versions (instead of potentially using old versions cached by docker).\nRUN apt-get clean && apt-get update && $APT_INSTALL gnupg ca-certificates && \\\n  echo 'deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/' >> /etc/apt/sources.list && \\\n  gpg --keyserver keyserver.ubuntu.com --recv-key E084DAB9 && \\\n  gpg -a --export E084DAB9 | apt-key add - && \\"
  }
]