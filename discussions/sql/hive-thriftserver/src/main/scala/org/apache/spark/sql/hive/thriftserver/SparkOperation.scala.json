[
  {
    "id" : "e743a9d2-26f8-4214-9ff1-a55a2099d1e3",
    "prId" : 29204,
    "prUrl" : "https://github.com/apache/spark/pull/29204#pullrequestreview-473640848",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7dfe8772-7602-4d3c-8f0c-70ad539e9dd9",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "it looks like we missed some details:\r\n1. Shall we expose the internal details (`getType`) to users or just say `Error running query:`?\r\n2. Shall we include the full exception string (`e.toString` like https://github.com/apache/spark/pull/29204/files#diff-72dcd8f81a51c8a815159fdf0332acdcL316), not just the message?\r\n\r\nSince the PR is small, can we revert and resend it after proper discussion?",
        "createdAt" : "2020-08-24T15:52:43Z",
        "updatedAt" : "2020-08-24T15:52:43Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "79375008-1bde-4c90-86d5-d939260f3405",
        "parentId" : "7dfe8772-7602-4d3c-8f0c-70ad539e9dd9",
        "authorId" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "body" : "+1",
        "createdAt" : "2020-08-24T16:01:46Z",
        "updatedAt" : "2020-08-24T16:01:46Z",
        "lastEditedBy" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "tags" : [
        ]
      }
    ],
    "commit" : "50113145de4d9c7247d2a8af6e1e4f1087d19548",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +121,125 @@          case _ =>\n            val tips = if (shouldRunAsync()) \" in background\" else \"\"\n            throw new HiveSQLException(s\"Error operating $getType$tips: ${e.getMessage}\", e)\n        }\n      }"
  },
  {
    "id" : "f24693ec-010d-46c3-affb-d5b93bb2bbc5",
    "prId" : 28963,
    "prUrl" : "https://github.com/apache/spark/pull/28963#pullrequestreview-450333753",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5942cd63-20e1-4d13-83fd-564beea583d8",
        "parentId" : null,
        "authorId" : "6dab27d0-518d-4e22-a61b-9bc2b8fb450a",
        "body" : "This error message still refers to \"get catalogs\" but is logged for every type of operation.",
        "createdAt" : "2020-07-15T10:33:43Z",
        "updatedAt" : "2020-07-15T10:33:44Z",
        "lastEditedBy" : "6dab27d0-518d-4e22-a61b-9bc2b8fb450a",
        "tags" : [
        ]
      },
      {
        "id" : "8fef4125-4933-41a9-85f0-912176f07c92",
        "parentId" : "5942cd63-20e1-4d13-83fd-564beea583d8",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "nice catch!thanks!",
        "createdAt" : "2020-07-17T02:26:33Z",
        "updatedAt" : "2020-07-17T02:26:33Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "d72074aff830c670685278eb40b08df1237f7c66",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +97,101 @@  protected def onError(): PartialFunction[Throwable, Unit] = {\n    case e: Throwable =>\n      logError(s\"Error executing get catalogs operation with $statementId\", e)\n      super.setState(OperationState.ERROR)\n      HiveThriftServer2.eventManager.onStatementError("
  },
  {
    "id" : "297689c6-eb41-4298-9deb-c2f000b2d191",
    "prId" : 28671,
    "prUrl" : "https://github.com/apache/spark/pull/28671#pullrequestreview-421202030",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "94ba6bb1-55e7-425c-bcad-101450f205fd",
        "parentId" : null,
        "authorId" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "body" : "Instead of creating a new UUID, I use the one that is already created for the operation.\r\nI found it confusing when debugging, that there were two UUIDs used for operations: SparkUI and some of the logs from Spark classes used the ones we created, while log lines from Hive imported code used this one, and the two couldn't be linked together... Now they are going to be the same id, which should make debugging easier.",
        "createdAt" : "2020-05-29T18:48:44Z",
        "updatedAt" : "2020-05-29T19:26:05Z",
        "lastEditedBy" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "tags" : [
        ]
      }
    ],
    "commit" : "988a29dff1cfce61cc846a51c6105a484e164bdd",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +36,40 @@  protected def sqlContext: SQLContext\n\n  protected var statementId = getHandle().getHandleIdentifier().getPublicId().toString()\n\n  protected def cleanup(): Unit = Unit // noop by default"
  }
]