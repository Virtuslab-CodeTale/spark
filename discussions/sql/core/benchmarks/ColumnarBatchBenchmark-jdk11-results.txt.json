[
  {
    "id" : "6f2f4dbc-a5cc-4da0-b67c-9d315627514e",
    "prId" : 25992,
    "prUrl" : "https://github.com/apache/spark/pull/25992#pullrequestreview-295777039",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "52d51843-c0e2-426f-91ca-bbd5a36a30b8",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "For JDK8, `DirectByteBuffer` took `743 (Best)` and `744 (Avg)`. JDK11 seems to be affected due to Apache Spark's `Platform.java` implementation which depends on `java.version` for now. How do you think about this?\r\n\r\ncc @srowen and @wangyum . ",
        "createdAt" : "2019-10-01T16:23:01Z",
        "updatedAt" : "2019-10-01T16:24:06Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "ba561c76-3c80-4485-a253-c4001cb50166",
        "parentId" : "52d51843-c0e2-426f-91ca-bbd5a36a30b8",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Hm, I don't know. The cleaner hack that works in JDK 8 only works around an internal JVM check on max off heap limit. I would not imagine it causes slower performance, just may mean a user has to increase the off heap limit manually in extreme cases. That said, who knows what all the subtle implications are.\r\n\r\nIt could be some other cause too, of course, simply some difference in JDK behavior.\r\n\r\nI don't think we want to force `--add-opens` or require people to use it of course, so I'd not benchmark that way. It's a valid observation in the benchmark, at least, to note that something seems to make it slower in JDK 11.",
        "createdAt" : "2019-10-01T17:03:35Z",
        "updatedAt" : "2019-10-01T17:03:36Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "f871e94f-70a8-470f-950e-b2593e830119",
        "parentId" : "52d51843-c0e2-426f-91ca-bbd5a36a30b8",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Oh, got it. Thanks!",
        "createdAt" : "2019-10-01T17:43:37Z",
        "updatedAt" : "2019-10-01T17:43:38Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "98bb24354e62b9c23f8c9267b1da051d55af545a",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +10,14 @@ByteBuffer Unsafe                                   396            396           0        827.9           1.2       0.6X\nByteBuffer API                                      602            603           0        544.0           1.8       0.4X\nDirectByteBuffer                                   1185           1186           2        276.6           3.6       0.2X\nUnsafe Buffer                                       321            322           1       1020.7           1.0       0.7X\nColumn(on heap)                                     235            236           1       1396.2           0.7       1.0X"
  }
]