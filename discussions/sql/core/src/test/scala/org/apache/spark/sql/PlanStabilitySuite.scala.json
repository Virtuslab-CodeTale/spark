[
  {
    "id" : "b9e13fd1-3587-462c-9f92-acdb343b9ec0",
    "prId" : 31927,
    "prUrl" : "https://github.com/apache/spark/pull/31927#pullrequestreview-617643832",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "65544e61-f3c1-4f7e-8a17-29509e40628a",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Can we avoid the comparison between explains when `expectedSimplified != actualSimplifiedPlan`?",
        "createdAt" : "2021-03-22T15:14:57Z",
        "updatedAt" : "2021-03-22T17:47:09Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "1093f3e006bd1cbdae25db84f4dc79fc5089e66e",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +105,109 @@    lazy val explainFile = new File(dir, \"explain.txt\")\n    lazy val expectedExplain = FileUtils.readFileToString(explainFile, StandardCharsets.UTF_8)\n    expectedSimplified == actualSimplifiedPlan && expectedExplain == actualExplain\n  }\n"
  },
  {
    "id" : "60d0b75d-a0eb-46f8-9ec9-12b3420f3d02",
    "prId" : 29860,
    "prUrl" : "https://github.com/apache/spark/pull/29860#pullrequestreview-496216337",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2d0344c5-2b4d-4e38-b0e1-f3821ed61228",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "One hard problem is how to match the lines from both sides. It's possible that the left side has one more node in the middle, so simply matching lines bottom-up may not work. It's like git diff, we should do the match w.r.t. the content, which can be very complicated.\r\n\r\nMaybe we should just recommend some online text diff tools in the comment and ask people to use.",
        "createdAt" : "2020-09-25T08:30:33Z",
        "updatedAt" : "2020-09-25T08:30:33Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "826a2e99701f39a793fc87fe417c612bf4141c2b",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +179,183 @@  private def addDiffHint(approvedSimplified: String, actualSimplified: String)\n    : (String, String) = {\n    // reverse the plan so we can compare the node from the bottom to top\n    val approvedLines = approvedSimplified.split(\"\\n\").reverse\n    val actualLines = actualSimplified.split(\"\\n\").reverse"
  },
  {
    "id" : "1bd60e60-e239-43b9-a51b-41d7e91e8850",
    "prId" : 29537,
    "prUrl" : "https://github.com/apache/spark/pull/29537#pullrequestreview-474179114",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "849ffa05-5582-4f4e-a8b4-295a9ea3f13d",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Address the comment from https://github.com/apache/spark/pull/29270#discussion_r476178381",
        "createdAt" : "2020-08-25T06:46:18Z",
        "updatedAt" : "2020-08-25T06:46:18Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "702bb32eb89bcaf66eb7c7674850db2745a81fad",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +106,110 @@    val file = new File(dir, \"simplified.txt\")\n    val expected = FileUtils.readFileToString(file, StandardCharsets.UTF_8)\n    expected == actualSimplifiedPlan\n  }\n"
  },
  {
    "id" : "abebda73-0acc-4ae3-81d4-05f1cdd85279",
    "prId" : 29537,
    "prUrl" : "https://github.com/apache/spark/pull/29537#pullrequestreview-474179279",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d4a9113b-0ffd-4492-8615-63cc091781d2",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Address the comment from https://github.com/apache/spark/pull/29270#discussion_r476174979",
        "createdAt" : "2020-08-25T06:46:38Z",
        "updatedAt" : "2020-08-25T06:46:38Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "702bb32eb89bcaf66eb7c7674850db2745a81fad",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +118,122 @@   *                plan is not too useful for debugging\n   */\n  private def generateGoldenFile(plan: SparkPlan, name: String, explain: String): Unit = {\n    val dir = getDirForTest(name)\n    val simplified = getSimplifiedPlan(plan)"
  },
  {
    "id" : "a7875317-6312-441b-9ea2-39fdd2b68f4b",
    "prId" : 29537,
    "prUrl" : "https://github.com/apache/spark/pull/29537#pullrequestreview-474179413",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "76afa73e-54e3-45e4-a34b-09e3aaab6a1e",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Address the comment from https://github.com/apache/spark/pull/29270#discussion_r476176111",
        "createdAt" : "2020-08-25T06:46:54Z",
        "updatedAt" : "2020-08-25T06:46:54Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "702bb32eb89bcaf66eb7c7674850db2745a81fad",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +210,214 @@     *     Project [c_customer_id]\n     */\n    def simplifyNode(node: SparkPlan, depth: Int): String = {\n      val padding = \"  \" * depth\n      var thisNode = node.nodeName"
  }
]