[
  {
    "id" : "ef4158ba-9c74-4d35-9061-0ac0b3557d9d",
    "prId" : 31131,
    "prUrl" : "https://github.com/apache/spark/pull/31131#pullrequestreview-565662654",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a52b723-04c8-4b57-b1c7-537c3a382843",
        "parentId" : null,
        "authorId" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "body" : "hmm I'm not sure if this check is useful - seems it is unrelated to caching (does `getTableSize` look at cached table for stats?)",
        "createdAt" : "2021-01-11T18:37:07Z",
        "updatedAt" : "2021-01-12T17:21:06Z",
        "lastEditedBy" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "tags" : [
        ]
      },
      {
        "id" : "377e43cc-c3d6-4937-87bf-712821a86c8c",
        "parentId" : "5a52b723-04c8-4b57-b1c7-537c3a382843",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "> does getTableSize look at cached table for stats\r\n\r\nNo, it doesn't but updating stats uncached table before the PR https://github.com/apache/spark/pull/31112\r\n\r\nActually, I moved the test from Hive specific test suite to the base test suite for v1 catalogs. Here, I made the test portable because table data has different sizes, so, instead of comparing exact numbers, I replaced that by this check (which is independent from table size).",
        "createdAt" : "2021-01-11T19:16:37Z",
        "updatedAt" : "2021-01-12T17:21:06Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "4153ba2b254756fb7d865e8746d48cc2defd1e91",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +62,66 @@        assert(spark.catalog.isCached(t))\n        val onePartSize = getTableSize(t)\n        assert(0 < onePartSize && onePartSize < twoPartSize)\n        checkAnswer(sql(s\"SELECT * FROM $t\"), Seq(Row(1, 1)))\n      }"
  }
]