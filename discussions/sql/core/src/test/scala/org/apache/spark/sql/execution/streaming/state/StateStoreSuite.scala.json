[
  {
    "id" : "eb0856d5-6d80-4d7d-ad5b-8cc4cc0a70b6",
    "prId" : 33187,
    "prUrl" : "https://github.com/apache/spark/pull/33187#pullrequestreview-701671972",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "938d8ca9-59c8-40d0-adfd-f37377699a50",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Just a head-up: \"maintenance\" and \"snapshotting\" are moved from StateStoreSuiteBase to StateStoreSuite as these tests cannot be applied to RocksDB state store provider. ",
        "createdAt" : "2021-07-08T04:22:34Z",
        "updatedAt" : "2021-07-08T04:28:33Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "d00090d6-6914-4cf0-9da4-dc191495e705",
        "parentId" : "938d8ca9-59c8-40d0-adfd-f37377699a50",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Yes, since these tests have the assumption that the provider have a `baseDir`",
        "createdAt" : "2021-07-08T06:10:14Z",
        "updatedAt" : "2021-07-08T06:10:15Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "b6a9d0ac78e85c1c411d67ae48417de02de85093",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +237,241 @@  }\n\n  test(\"maintenance\") {\n    val conf = new SparkConf()\n      .setMaster(\"local\")"
  },
  {
    "id" : "fab6ea9c-4e05-452c-a75d-e7a23da72ebf",
    "prId" : 31219,
    "prUrl" : "https://github.com/apache/spark/pull/31219#pullrequestreview-570120587",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b64d8386-1e32-404a-b8e9-fd3fe7a3ad7f",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Just a question. Can we avoid this renaming in this PR?",
        "createdAt" : "2021-01-17T23:45:38Z",
        "updatedAt" : "2021-01-18T20:25:24Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "3a5f7e1a-7387-424e-827b-11f1156749ec",
        "parentId" : "b64d8386-1e32-404a-b8e9-fd3fe7a3ad7f",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "`getData(provider)` actually calls `getData(provider, -1)` so it is semantically equal to `getLatestData(provider)`. Because I move `getData` to `StateStoreSuiteBase` as an abstract method here, I cannot keep using default parameter when calling them in `StateStoreSuiteBase`. ",
        "createdAt" : "2021-01-18T01:16:22Z",
        "updatedAt" : "2021-01-18T20:25:25Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf2b17da0f6e6608154fea753797954775e7b850",
    "line" : 74,
    "diffHunk" : "@@ -1,1 +71,75 @@    // commit the ver 1 : cache will have one element\n    currentVersion = incrementVersion(provider, currentVersion)\n    assert(getLatestData(provider) === Set(\"a\" -> 1))\n    var loadedMaps = provider.getLoadedMaps()\n    checkLoadedVersions(loadedMaps, count = 1, earliestKey = 1, latestKey = 1)"
  },
  {
    "id" : "7eac89d3-0998-47e7-8f14-7aa566b7b46b",
    "prId" : 31219,
    "prUrl" : "https://github.com/apache/spark/pull/31219#pullrequestreview-570120282",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e632fb6f-439d-4036-b372-1a8fcd82bb61",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "So, this doesn't change any semantic of this test case. Did I expect correctly?",
        "createdAt" : "2021-01-17T23:47:46Z",
        "updatedAt" : "2021-01-18T20:25:24Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "594e5366-dc8b-4f60-8a87-03a5694441cb",
        "parentId" : "e632fb6f-439d-4036-b372-1a8fcd82bb61",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "yes, the change here is only for refactoring, it keeps original test semantics. For the tests I cannot keep its semantics, I don't move them.",
        "createdAt" : "2021-01-18T01:14:31Z",
        "updatedAt" : "2021-01-18T20:25:25Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf2b17da0f6e6608154fea753797954775e7b850",
    "line" : 67,
    "diffHunk" : "@@ -1,1 +65,69 @@\n  test(\"retaining only two latest versions when MAX_BATCHES_TO_RETAIN_IN_MEMORY set to 2\") {\n    val provider = newStoreProvider(minDeltasForSnapshot = 10, numOfVersToRetainInMemory = 2)\n\n    var currentVersion = 0"
  },
  {
    "id" : "b5036a57-cc1f-4520-a6ce-d70f720dbf29",
    "prId" : 31219,
    "prUrl" : "https://github.com/apache/spark/pull/31219#pullrequestreview-570183165",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8c83f49-9785-406f-8621-c13858ea2f5b",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "For these two functions, shall we add some function comments like the other functions, `newStoreProvider` and `getLatestData`?",
        "createdAt" : "2021-01-17T23:59:21Z",
        "updatedAt" : "2021-01-18T20:25:25Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "1aa423e4-be90-43e7-b382-a69f46b4c241",
        "parentId" : "c8c83f49-9785-406f-8621-c13858ea2f5b",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Sure, I will add some comments.",
        "createdAt" : "2021-01-18T05:40:41Z",
        "updatedAt" : "2021-01-18T20:25:25Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf2b17da0f6e6608154fea753797954775e7b850",
    "line" : 732,
    "diffHunk" : "@@ -1,1 +1009,1013 @@\n  /** Get the `StateStoreConf` used by the tests with default setting */\n  def getDefaultStoreConf(): StateStoreConf = StateStoreConf.empty\n\n  protected def fileExists("
  },
  {
    "id" : "fa3316be-5c3f-4482-bd2c-9d2c756f6e82",
    "prId" : 31219,
    "prUrl" : "https://github.com/apache/spark/pull/31219#pullrequestreview-570110182",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b7103efd-3d38-479d-8a76-8d5fa84bc972",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Nice! +1 for this change from `HDFSBackedStateStoreProvider` to `ProviderClass`.",
        "createdAt" : "2021-01-18T00:00:53Z",
        "updatedAt" : "2021-01-18T20:25:25Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf2b17da0f6e6608154fea753797954775e7b850",
    "line" : 735,
    "diffHunk" : "@@ -1,1 +1012,1016 @@\n  protected def fileExists(\n      provider: ProviderClass,\n      version: Long,\n      isSnapshot: Boolean): Boolean = {"
  },
  {
    "id" : "1142aaa4-253c-40bc-bc8a-4587ea900c5e",
    "prId" : 31219,
    "prUrl" : "https://github.com/apache/spark/pull/31219#pullrequestreview-570183091",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cf5be14c-0271-4b27-94b5-3ae88c6be479",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Also, this is the same test coverage for the previous one, right?",
        "createdAt" : "2021-01-18T00:04:55Z",
        "updatedAt" : "2021-01-18T20:25:25Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "2a08a041-bb4f-4c4e-b36e-55c589a92695",
        "parentId" : "cf5be14c-0271-4b27-94b5-3ae88c6be479",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Yes, keeping the same.",
        "createdAt" : "2021-01-18T05:40:28Z",
        "updatedAt" : "2021-01-18T20:25:25Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "bf2b17da0f6e6608154fea753797954775e7b850",
    "line" : 659,
    "diffHunk" : "@@ -1,1 +927,931 @@\n  test(\"snapshotting\") {\n    val provider = newStoreProvider(minDeltasForSnapshot = 5, numOfVersToRetainInMemory = 2)\n\n    var currentVersion = 0"
  }
]