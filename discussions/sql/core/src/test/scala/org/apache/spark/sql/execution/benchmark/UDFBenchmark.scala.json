[
  {
    "id" : "95d00392-29cd-40b1-98d8-d152594b89dd",
    "prId" : 24636,
    "prUrl" : "https://github.com/apache/spark/pull/24636#pullrequestreview-240480392",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0af60dd3-d9af-424b-a29b-61716bd2b1d0",
        "parentId" : null,
        "authorId" : "7907b27a-5a9f-4bce-8e6d-d4cd7c2bd693",
        "body" : "Thanks @mgaido91 for your work on this performance improvement.  I'm curious if you tried the JIRA test case from @JoshRosen with your changes.  How close does this get us?  Also do you think it might be worthwhile to add that test in this benchmark suite as well. ",
        "createdAt" : "2019-05-22T01:03:11Z",
        "updatedAt" : "2019-05-22T08:30:46Z",
        "lastEditedBy" : "7907b27a-5a9f-4bce-8e6d-d4cd7c2bd693",
        "tags" : [
        ]
      },
      {
        "id" : "7b240826-219f-41be-ad02-77d85da3dd97",
        "parentId" : "0af60dd3-d9af-424b-a29b-61716bd2b1d0",
        "authorId" : "24e1dd39-ae3f-4bbb-a391-f60afb62d075",
        "body" : "Well, everything can be added. If you think it is critical, we can add it. Indeed, the test reported in the description is very similar, as it is doing a `+ 1`, which is not so different from an identity. I think the point here is to identify how much from the overhead is saved, and the tests performed show that the overhead is reduced significantly.",
        "createdAt" : "2019-05-22T07:45:47Z",
        "updatedAt" : "2019-05-22T08:30:46Z",
        "lastEditedBy" : "24e1dd39-ae3f-4bbb-a391-f60afb62d075",
        "tags" : [
        ]
      },
      {
        "id" : "2f56151b-ffe0-43f5-a17b-df5469b6815a",
        "parentId" : "0af60dd3-d9af-424b-a29b-61716bd2b1d0",
        "authorId" : "24e1dd39-ae3f-4bbb-a391-f60afb62d075",
        "body" : "Anyway I added it, as shown in the results the overhead is now ~ 20% instead of ~50%",
        "createdAt" : "2019-05-22T08:31:27Z",
        "updatedAt" : "2019-05-22T08:31:28Z",
        "lastEditedBy" : "24e1dd39-ae3f-4bbb-a391-f60afb62d075",
        "tags" : [
        ]
      }
    ],
    "commit" : "010b3d449403a2d215a18b425722810470147ad6",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +36,40 @@ * }}}\n */\nobject UDFBenchmark extends SqlBasedBenchmark {\n\n  private def doRunBenchmarkWithMixedTypes(udf: UserDefinedFunction, cardinality: Int): Unit = {"
  }
]