[
  {
    "id" : "5c1bf6b9-3032-4916-b431-e5518693c38b",
    "prId" : 31245,
    "prUrl" : "https://github.com/apache/spark/pull/31245#pullrequestreview-585467781",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e61f7d82-ad22-412b-83c8-3e59ed46991b",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Let's keep the format consistent next time: `SPARK-34157 :`",
        "createdAt" : "2021-02-08T12:47:57Z",
        "updatedAt" : "2021-02-08T12:47:57Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "5dc30b28-cc39-4588-9c33-caf51e3e72fe",
        "parentId" : "e61f7d82-ad22-412b-83c8-3e59ed46991b",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "The consistent format is `SPARK-34157:` w/o any gaps ;-)",
        "createdAt" : "2021-02-08T12:53:53Z",
        "updatedAt" : "2021-02-08T12:53:53Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "815d36b35c294d110cf0770d2f0850d9ae1da151",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +103,107 @@  }\n\n  test(\"SPARK-34157 Unify output of SHOW TABLES and pass output attributes properly\") {\n    withNamespace(s\"$catalog.ns\") {\n      sql(s\"CREATE NAMESPACE $catalog.ns\")"
  },
  {
    "id" : "933497ee-cdac-49ef-b2d8-02575e1a37de",
    "prId" : 31245,
    "prUrl" : "https://github.com/apache/spark/pull/31245#pullrequestreview-585463497",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "367b8e61-9430-414e-9404-aad01d876031",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Seems like this broke Scala 2.13 build. I made a followup here https://github.com/apache/spark/pull/31526",
        "createdAt" : "2021-02-08T12:48:22Z",
        "updatedAt" : "2021-02-08T12:48:28Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "815d36b35c294d110cf0770d2f0850d9ae1da151",
    "line" : 68,
    "diffHunk" : "@@ -1,1 +113,117 @@          Seq(\"namespace\", \"tableName\", \"isTemporary\"))\n        assert(sql(\"show table extended like 'tbl'\").collect()(0).length == 4)\n        assert(sql(\"show table extended like 'tbl'\").schema.fieldNames.deep ==\n          Seq(\"namespace\", \"tableName\", \"isTemporary\", \"information\"))\n"
  },
  {
    "id" : "d845f0c4-fe89-4c8e-a4e5-85fd64c732e2",
    "prId" : 30915,
    "prUrl" : "https://github.com/apache/spark/pull/30915#pullrequestreview-559098904",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "06fcad11-ff2e-4694-9c91-235059aa9c21",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Can we make the error message more explicit? `Namespaces in V1 catalog can only have a single name part.`",
        "createdAt" : "2020-12-28T07:16:42Z",
        "updatedAt" : "2020-12-28T07:16:42Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "968f2459-0b8e-47e9-93f7-b54716daede2",
        "parentId" : "06fcad11-ff2e-4694-9c91-235059aa9c21",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Since it may affect many tests, let's update the error message in a new PR.",
        "createdAt" : "2020-12-28T09:06:50Z",
        "updatedAt" : "2020-12-28T09:06:50Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "0cf823a5-362e-4883-8e49-9bf7bd58b0ad",
        "parentId" : "06fcad11-ff2e-4694-9c91-235059aa9c21",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I would prefer to make such changes separately if you don't mind because such change will cause modification that are unrelated to this PR.",
        "createdAt" : "2020-12-28T09:07:11Z",
        "updatedAt" : "2020-12-28T09:07:11Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "03bab35d-1f5f-491b-812b-353791048d76",
        "parentId" : "06fcad11-ff2e-4694-9c91-235059aa9c21",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Here is the PR: https://github.com/apache/spark/pull/30947 . I have fixed an obvious place. Let's see where Jenkins build will fail.",
        "createdAt" : "2020-12-28T11:08:28Z",
        "updatedAt" : "2020-12-28T11:08:29Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "c247828c7450dd7942c3562800b9779eb596ff48",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +109,113 @@        sql(showTableCmd)\n      }.getMessage\n      assert(errMsg.contains(\"multi-part identifier cannot be empty\"))\n    }\n  }"
  },
  {
    "id" : "2aea5014-e77a-451d-8c85-4bb685b184aa",
    "prId" : 30529,
    "prUrl" : "https://github.com/apache/spark/pull/30529#pullrequestreview-540514798",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2800e308-443a-4bb9-8b26-7ee813ab5b5b",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "nit. `partitioned by` -> `PARTITIONED BY` (upper case) because we used `CREATE TABLE` in the upper cases.",
        "createdAt" : "2020-11-29T19:59:51Z",
        "updatedAt" : "2020-11-29T19:59:51Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "de23468b-7ec0-47f5-867d-4d067880390e",
        "parentId" : "2800e308-443a-4bb9-8b26-7ee813ab5b5b",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I am working on V2 SHOW TABLE EXTENDED: https://issues.apache.org/jira/browse/SPARK-33393 at the moment. When I will be moving the test to the common test suite to run it for both V1 and V2, I will address your comment.",
        "createdAt" : "2020-11-29T20:42:13Z",
        "updatedAt" : "2020-11-29T20:42:13Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "aeceb63ee1bcc2550f2ed31c9a3f97c4eaac8469",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +95,99 @@          |CREATE TABLE $t (price int, qty int, year int, month int)\n          |$defaultUsing\n          |partitioned by (year, month)\"\"\".stripMargin)\n        sql(s\"INSERT INTO $t PARTITION(year = 2015, month = 1) SELECT 1, 1\")\n        Seq("
  },
  {
    "id" : "11233b69-0da4-4172-a404-4b1e7ac23f83",
    "prId" : 30529,
    "prUrl" : "https://github.com/apache/spark/pull/30529#pullrequestreview-540511509",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "98beed72-d537-4272-8b04-b921634acb4e",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "~Could you please add `SPARK-33588:` as a prefix?~ Nvm.",
        "createdAt" : "2020-11-29T20:00:38Z",
        "updatedAt" : "2020-11-29T20:07:58Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "aeceb63ee1bcc2550f2ed31c9a3f97c4eaac8469",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +87,91 @@  }\n\n  test(\"case sensitivity of partition spec\") {\n    withNamespace(s\"$catalog.ns\") {\n      sql(s\"CREATE NAMESPACE $catalog.ns\")"
  },
  {
    "id" : "ea2549d8-9bd0-4792-9206-825c181b3780",
    "prId" : 30287,
    "prUrl" : "https://github.com/apache/spark/pull/30287#pullrequestreview-526109577",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a0e8a4bc-91dc-4503-8279-e38bbf60f54e",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "this is something we should fix later.",
        "createdAt" : "2020-11-09T05:45:14Z",
        "updatedAt" : "2020-11-10T12:55:03Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "7c81c46d-625b-4509-a53b-62877e2b400a",
        "parentId" : "a0e8a4bc-91dc-4503-8279-e38bbf60f54e",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I will open an JIRA for this, and add `TODO` here.",
        "createdAt" : "2020-11-09T07:56:11Z",
        "updatedAt" : "2020-11-10T12:55:03Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "4f574950-ef24-49a5-b3f8-f871d18d7acf",
        "parentId" : "a0e8a4bc-91dc-4503-8279-e38bbf60f54e",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Here is the umbrella ticket for TODOs: https://issues.apache.org/jira/browse/SPARK-33392",
        "createdAt" : "2020-11-09T10:21:16Z",
        "updatedAt" : "2020-11-10T12:55:03Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "8108cb1b5879b7873e3bfa43058ec3db7feba148",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +51,55 @@  }\n\n  // `SHOW TABLES` returns empty result in V2 catalog instead of throwing the exception.\n  test(\"show table in a not existing namespace\") {\n    val msg = intercept[NoSuchDatabaseException] {"
  },
  {
    "id" : "939420a6-3967-408b-a04d-8206003d0152",
    "prId" : 30287,
    "prUrl" : "https://github.com/apache/spark/pull/30287#pullrequestreview-526442693",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f3fc0faa-c07f-4a4c-bd1f-0a90b81f053d",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "How is this related to v2? This test checks the default catalog, which by default is v1.",
        "createdAt" : "2020-11-09T15:15:25Z",
        "updatedAt" : "2020-11-10T12:55:03Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "97325f6c-31ed-4629-bd85-a95e1183f8b1",
        "parentId" : "f3fc0faa-c07f-4a4c-bd1f-0a90b81f053d",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I described the reason why the test is placed to V1 specific test suite - because V2 doesn't show views otherwise we could move it to the common trait and set `default` to a V2 catalog.",
        "createdAt" : "2020-11-09T16:25:13Z",
        "updatedAt" : "2020-11-10T12:55:03Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "5f36060e-94fd-4552-b113-89749610ba0e",
        "parentId" : "f3fc0faa-c07f-4a4c-bd1f-0a90b81f053d",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "The confusion is: temp views don't belong to catalog, but belong to the spark session. Can we create permanent views in this test? Or change the test name to \"v1  SHOW TABLES list the temp views\".",
        "createdAt" : "2020-11-09T16:41:29Z",
        "updatedAt" : "2020-11-10T12:55:03Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "8108cb1b5879b7873e3bfa43058ec3db7feba148",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +59,63 @@  }\n\n  // `SHOW TABLES` from v2 catalog returns empty result.\n  test(\"v1 SHOW TABLES list the temp views\") {\n    withSourceViews {"
  }
]