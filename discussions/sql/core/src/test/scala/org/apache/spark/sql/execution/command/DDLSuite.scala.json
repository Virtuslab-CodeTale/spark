[
  {
    "id" : "bcc7c038-83c6-4dd8-af17-bfc03b5969ec",
    "prId" : 31326,
    "prUrl" : "https://github.com/apache/spark/pull/31326#pullrequestreview-575706762",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "64cddf27-0983-4db8-8dc1-622a5ab9f384",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Now, the `In-Memory` catalog behaves similarly to Hive external catalog, so, we don't need to distinguish them in tests.",
        "createdAt" : "2021-01-25T18:30:25Z",
        "updatedAt" : "2021-01-25T18:30:26Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "b5e7763e-0125-4def-a332-faef2c7f4ee6",
        "parentId" : "64cddf27-0983-4db8-8dc1-622a5ab9f384",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "shall we do it in master branch as well?",
        "createdAt" : "2021-01-25T18:35:51Z",
        "updatedAt" : "2021-01-25T18:35:51Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "fc19f5d3-6f45-4bde-aded-f3341fdf8c78",
        "parentId" : "64cddf27-0983-4db8-8dc1-622a5ab9f384",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "In master, we already have common settings in unified tests:\r\nhttps://github.com/apache/spark/blob/861f8bb5fb82e53a223ae121737fd6d54ab8ba52/sql/core/src/test/scala/org/apache/spark/sql/execution/command/v1/AlterTableDropPartitionSuite.scala#L36",
        "createdAt" : "2021-01-25T18:49:01Z",
        "updatedAt" : "2021-01-25T18:49:01Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "9171b0b47f7e0ca0be655ff40e570c1e5572b2c8",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +1737,1741 @@    createTablePartition(catalog, Map(\"a\" -> null, \"b\" -> null), tableIdent)\n    assert(catalog.listPartitions(tableIdent).map(_.spec).toSet ==\n      Set(Map(\"a\" -> \"__HIVE_DEFAULT_PARTITION__\", \"b\" -> \"__HIVE_DEFAULT_PARTITION__\")))\n    sql(\"ALTER TABLE tab1 DROP PARTITION (a = null, b = null)\")\n    assert(catalog.listPartitions(tableIdent).isEmpty)"
  },
  {
    "id" : "5d35ec75-89f2-4751-860a-033db6ed9a6e",
    "prId" : 30862,
    "prUrl" : "https://github.com/apache/spark/pull/30862#pullrequestreview-556215347",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "dc6f269c-6dbc-4ee7-9c1a-16fd3cfdb87c",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Why did you replace `NoSuchTableException `?",
        "createdAt" : "2020-12-20T16:27:37Z",
        "updatedAt" : "2020-12-21T02:12:30Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "65302b44-9fe7-4c2f-8dac-1ec6e7c72cb4",
        "parentId" : "dc6f269c-6dbc-4ee7-9c1a-16fd3cfdb87c",
        "authorId" : "b14448be-63dd-4b59-ab38-deeb2a38de86",
        "body" : "Unresolved table is now handled here:\r\nhttps://github.com/apache/spark/blob/8e2633962f789a6ba5eb9448596f6ac4b7b1c2ff/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/analysis/CheckAnalysis.scala#L104-L105\r\n",
        "createdAt" : "2020-12-21T02:19:42Z",
        "updatedAt" : "2020-12-21T02:20:10Z",
        "lastEditedBy" : "b14448be-63dd-4b59-ab38-deeb2a38de86",
        "tags" : [
        ]
      },
      {
        "id" : "0a7c9097-bcda-4670-a79a-2b637d95b76c",
        "parentId" : "dc6f269c-6dbc-4ee7-9c1a-16fd3cfdb87c",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "in that case, I believe we should throw `NoSuchTableException` here. ",
        "createdAt" : "2020-12-21T08:10:44Z",
        "updatedAt" : "2020-12-21T08:11:46Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "c8c7cc50-6ef3-46b0-97ec-57e53681edc0",
        "parentId" : "dc6f269c-6dbc-4ee7-9c1a-16fd3cfdb87c",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "otherwise with such approach, you will lift all specific exception to the general one - `AnalysisException`.",
        "createdAt" : "2020-12-21T08:13:23Z",
        "updatedAt" : "2020-12-21T08:13:23Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "bd4eeaa8-5cd5-4668-9eac-2e5b68f0a898",
        "parentId" : "dc6f269c-6dbc-4ee7-9c1a-16fd3cfdb87c",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "let's fix it separately.",
        "createdAt" : "2020-12-21T08:14:31Z",
        "updatedAt" : "2020-12-21T08:14:31Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "38947fb0-af81-4e0f-a926-e02bb2b58919",
        "parentId" : "dc6f269c-6dbc-4ee7-9c1a-16fd3cfdb87c",
        "authorId" : "b14448be-63dd-4b59-ab38-deeb2a38de86",
        "body" : "Sounds good. I will do a follow-up PR.",
        "createdAt" : "2020-12-21T08:46:28Z",
        "updatedAt" : "2020-12-21T08:46:39Z",
        "lastEditedBy" : "b14448be-63dd-4b59-ab38-deeb2a38de86",
        "tags" : [
        ]
      }
    ],
    "commit" : "9894f9eaf5806f4bfe5961ba3608a2344bef6942",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +1643,1647 @@\n    // table to alter does not exist\n    val e = intercept[AnalysisException] {\n      sql(\"ALTER TABLE does_not_exist PARTITION (c='3') RENAME TO PARTITION (c='333')\")\n    }"
  }
]