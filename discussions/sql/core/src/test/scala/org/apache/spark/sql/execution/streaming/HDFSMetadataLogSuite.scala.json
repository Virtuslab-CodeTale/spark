[
  {
    "id" : "5dca6d42-a620-4dd5-970b-decbcccb9e10",
    "prId" : 25488,
    "prUrl" : "https://github.com/apache/spark/pull/25488#pullrequestreview-276297295",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a04229f3-d764-4280-b233-a3515868c81b",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "FileSystemBasedCheckpointFileManager is the case of crc file being left: it's not a leak because the origin file exists. It correctly deletes crc file when origin file is requested to be deleted, hence crc files for 0 and 1 don't exist.",
        "createdAt" : "2019-08-18T21:48:18Z",
        "updatedAt" : "2019-08-23T01:27:17Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "376b7eb102532c87e27e2008866f868fa87951b8",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +97,101 @@      assert(allFiles.size <= 2)\n      assert(allFiles.exists(_.getName == \"2\"))\n      if (allFiles.size == 2) {\n        // there's possibly crc file being left as well\n        assert(allFiles.exists(_.getName == \".2.crc\"))"
  },
  {
    "id" : "e0307ba7-23f2-4953-a3b2-34ccba72f6dc",
    "prId" : 25333,
    "prUrl" : "https://github.com/apache/spark/pull/25333#pullrequestreview-273082994",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bdff1022-7238-4e1e-a092-b9d66f6a87aa",
        "parentId" : null,
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "The test looks good but this doesn't show me how a query behaves and will behave. I would start a query with similar characteristics.",
        "createdAt" : "2019-08-07T14:53:59Z",
        "updatedAt" : "2019-10-25T02:35:25Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      },
      {
        "id" : "16850b57-5976-4017-a8d9-81a66279ef15",
        "parentId" : "bdff1022-7238-4e1e-a092-b9d66f6a87aa",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "Thanks for your advise.\r\nI think query behave is in other UT. This UT just confirms that meta log can auto retry in some scenario.",
        "createdAt" : "2019-08-08T01:35:00Z",
        "updatedAt" : "2019-10-25T02:35:25Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      },
      {
        "id" : "6d6e3e97-e8ff-4824-a3e2-c4402beddbac",
        "parentId" : "bdff1022-7238-4e1e-a092-b9d66f6a87aa",
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "> If HDFSMetaDataLog.writeBatchToFile() execute error, then total app will be terminated\r\n\r\nPlease show me this test to evaluate before and after scenario.\r\n",
        "createdAt" : "2019-08-08T11:35:23Z",
        "updatedAt" : "2019-10-25T02:35:25Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      },
      {
        "id" : "c0f62b0d-674d-483e-90ed-7632c1eca1ac",
        "parentId" : "bdff1022-7238-4e1e-a092-b9d66f6a87aa",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "That's an integration test. I will add it.",
        "createdAt" : "2019-08-09T11:23:19Z",
        "updatedAt" : "2019-10-25T02:35:25Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "6123efb982bfab112a4ff14f1b0fa6592fc180b6",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +211,215 @@  }\n\n  test(\"HDFSMetadataLog: retry\") {\n    withTempDir { temp =>\n      withSQLConf("
  },
  {
    "id" : "21591bc7-e609-4805-8e9d-3e8c51f20438",
    "prId" : 25333,
    "prUrl" : "https://github.com/apache/spark/pull/25333#pullrequestreview-272467875",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "508ced03-a94a-49e5-9da6-1c0db8b762fd",
        "parentId" : null,
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "Didn't check all the details but is it not possible to use `CreateAtomicTestManager`?",
        "createdAt" : "2019-08-07T15:01:00Z",
        "updatedAt" : "2019-10-25T02:35:25Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      },
      {
        "id" : "25de70ad-5032-48d6-a6dd-3e23e15d0659",
        "parentId" : "508ced03-a94a-49e5-9da6-1c0db8b762fd",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "Yeah, it can be but also need create a sub class.",
        "createdAt" : "2019-08-08T10:02:31Z",
        "updatedAt" : "2019-10-25T02:35:25Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "6123efb982bfab112a4ff14f1b0fa6592fc180b6",
    "line" : 52,
    "diffHunk" : "@@ -1,1 +238,242 @@}\n\nclass FakeFileSystemBasedCheckpointFileManager(path: Path, conf: Configuration)\n  extends FileSystemBasedCheckpointFileManager(path, conf) {\n  private var closeCount = 0"
  }
]