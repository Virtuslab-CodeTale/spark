[
  {
    "id" : "502e8df4-a4f4-42ce-aa55-0721e92fdf28",
    "prId" : 31451,
    "prUrl" : "https://github.com/apache/spark/pull/31451#pullrequestreview-639294760",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "01ad00ad-765e-4ab6-bec9-76d8427ad9c4",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "If `CustomMetricScanBuilder` is only used here, shall we define it in this file?",
        "createdAt" : "2021-04-19T14:19:12Z",
        "updatedAt" : "2021-04-20T06:45:33Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "0ea386a6-14df-443a-a44f-6df8f8fe554e",
        "parentId" : "01ad00ad-765e-4ab6-bec9-76d8427ad9c4",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "moved.",
        "createdAt" : "2021-04-19T20:49:11Z",
        "updatedAt" : "2021-04-20T06:45:33Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "06eb9c79a3fdd807ec08540deb2234939396325a",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +823,827 @@\n    val schema = new StructType().add(\"i\", \"int\").add(\"j\", \"int\")\n    val physicalPlan = BatchScanExec(schema.toAttributes, new CustomMetricScanBuilder())\n    val dummyQueryExecution = new QueryExecution(spark, LocalRelation()) {\n      override lazy val sparkPlan = physicalPlan"
  },
  {
    "id" : "3540f457-bc1b-472a-acb2-c619c61ab7d2",
    "prId" : 29431,
    "prUrl" : "https://github.com/apache/spark/pull/29431#pullrequestreview-468374026",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a9a8fd47-75d6-4943-a533-36959182c02f",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "what you are testing is the aggregateMetric contains all the metrics from job 1, instead of ignoring metrics from job 0.\r\n\r\nHow about\r\n```\r\noldAccumulatorIds.foreach(id => assert(!aggregateMetrics.get.contains(id)))\r\n```",
        "createdAt" : "2020-08-17T10:36:23Z",
        "updatedAt" : "2020-08-17T11:24:29Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "95c00ef2-01de-483f-b96b-5639ceb4e87e",
        "parentId" : "a9a8fd47-75d6-4943-a533-36959182c02f",
        "authorId" : "cce1c782-0596-44b6-8b99-6b77d2cca53c",
        "body" : "OK",
        "createdAt" : "2020-08-17T11:14:52Z",
        "updatedAt" : "2020-08-17T11:24:29Z",
        "lastEditedBy" : "cce1c782-0596-44b6-8b99-6b77d2cca53c",
        "tags" : [
        ]
      }
    ],
    "commit" : "f90bba7f390cb8848270fb5344e4daf211ebc53d",
    "line" : 127,
    "diffHunk" : "@@ -1,1 +803,807 @@    ))\n\n    // aggregateMetrics should ignore metrics from job 0\n    val aggregateMetrics = listener.liveExecutionMetrics(executionId)\n    if (aggregateMetrics.isDefined) {"
  }
]