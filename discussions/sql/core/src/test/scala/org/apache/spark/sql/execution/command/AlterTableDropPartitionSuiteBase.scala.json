[
  {
    "id" : "a379d9ee-0a9d-48ea-9ee8-1b29d48b42c7",
    "prId" : 31405,
    "prUrl" : "https://github.com/apache/spark/pull/31405#pullrequestreview-582063305",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "60696b3a-6912-489f-adff-29f11a75a77d",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "This is a bug fix. `withGlobalTempView()` doesn't remove global temp view if it is called with full path: `withGlobalTempView(\"global_temp.v2\")`",
        "createdAt" : "2021-02-03T07:20:20Z",
        "updatedAt" : "2021-02-03T07:20:20Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "becc740b9cc5e87298f4f3f9cde72ca41456f191",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +223,227 @@\n      val v2 = s\"${spark.sharedState.globalTempViewManager.database}.v2\"\n      withGlobalTempView(\"v2\") {\n        sql(s\"CREATE GLOBAL TEMP VIEW v2 AS SELECT * FROM $t\")\n        cacheRelation(v2)"
  },
  {
    "id" : "47eb25c2-19cd-4f30-9f86-980946b52975",
    "prId" : 31017,
    "prUrl" : "https://github.com/apache/spark/pull/31017#pullrequestreview-561342864",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3abf9f4d-0dce-4c99-87c2-996dfa021c2a",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I had to add `QueryTest` to `checkAnswer` because I got pretty weird error when I run the test as part of Hive's test suite:\r\n```\r\n[info] org.apache.spark.sql.hive.execution.command.AlterTableDropPartitionSuite *** ABORTED *** (19 seconds, 910 milliseconds)\r\n[info]   java.lang.AbstractMethodError: Method org/apache/spark/sql/hive/execution/command/AlterTableDropPartitionSuite.org$apache$spark$sql$execution$command$AlterTableDropPartitionSuiteBase$$super$checkAnswer(Lscala/Function0;Lscala/collection/Seq;)V is abstract\r\n[info]   at org.apache.spark.sql.hive.execution.command.AlterTableDropPartitionSuite.org$apache$spark$sql$execution$command$AlterTableDropPartitionSuiteBase$$super$checkAnswer(AlterTableDropPartitionSuite.scala)\r\n```\r\nI don't have any clues what's going on here because `checkAnswer` from the `QueryTest` is defined, and it is not abstact.",
        "createdAt" : "2021-01-04T21:03:00Z",
        "updatedAt" : "2021-01-04T21:03:01Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "271b8e543d22f49b81b8dc36d3b8cee516bcde28",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +165,169 @@      sql(s\"CACHE TABLE $t\")\n      assert(spark.catalog.isCached(t))\n      QueryTest.checkAnswer(sql(s\"SELECT * FROM $t\"), Seq(Row(0, 0), Row(1, 1)))\n      sql(s\"ALTER TABLE $t DROP PARTITION (part=0)\")\n      assert(spark.catalog.isCached(t))"
  }
]