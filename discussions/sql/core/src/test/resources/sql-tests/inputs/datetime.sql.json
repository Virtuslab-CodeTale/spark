[
  {
    "id" : "829aad3e-2c65-437e-8c7a-d2083198f391",
    "prId" : 28956,
    "prUrl" : "https://github.com/apache/spark/pull/28956#pullrequestreview-440578774",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "929f2873-bd05-4bcb-8a44-37d6622eab44",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Shall we have a test case for `allow truncation` together because this PR allows truncation for `double` type?",
        "createdAt" : "2020-07-01T04:57:01Z",
        "updatedAt" : "2020-07-01T06:34:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "1187117e-62da-4c94-b90f-5c8db64d6678",
        "parentId" : "929f2873-bd05-4bcb-8a44-37d6622eab44",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "This PR aims to allow truncation for both ANSI and legacy mode. Did I understand correctly?",
        "createdAt" : "2020-07-01T04:57:40Z",
        "updatedAt" : "2020-07-01T06:34:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "3d0b517a-f361-404e-aa95-468a2bee3072",
        "parentId" : "929f2873-bd05-4bcb-8a44-37d6622eab44",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "yes, float/double are approximate values and truncation should be always allowed.",
        "createdAt" : "2020-07-01T06:29:30Z",
        "updatedAt" : "2020-07-01T06:34:29Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "e41095d73b106c62ea9e9c8e3dce2c47be2a6ed1",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +12,16 @@select TIMESTAMP_MILLIS(-92233720368547758);\n-- truncate exception\nselect TIMESTAMP_SECONDS(0.1234567);\n-- truncation is OK for float/double\nselect TIMESTAMP_SECONDS(0.1234567d), TIMESTAMP_SECONDS(FLOAT(0.1234567));"
  },
  {
    "id" : "992b5075-aa0d-4550-80d8-2695677d9a2e",
    "prId" : 28673,
    "prUrl" : "https://github.com/apache/spark/pull/28673#pullrequestreview-421372589",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d7523fce-b86f-4db5-b802-480df6a24f9b",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "How about adding a test for the case `4<len(|y....y|)<11`?",
        "createdAt" : "2020-05-30T03:11:11Z",
        "updatedAt" : "2020-05-30T03:56:59Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "a5da8c3db37e19427c8729b645c354bce707bb28",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +165,169 @@select from_unixtime(1, 'yyyyyyyyyyy-MM-dd');\nselect date_format(timestamp '2018-11-17 13:33:33', 'yyyyyyyyyy-MM-dd HH:mm:ss');\nselect date_format(date '2018-11-17', 'yyyyyyyyyyy-MM-dd');"
  },
  {
    "id" : "4379cdc2-26a3-42bc-b3b0-431f1a444f4b",
    "prId" : 28592,
    "prUrl" : "https://github.com/apache/spark/pull/28592#pullrequestreview-415321244",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "08b68b58-cf98-484d-abe0-3e3bdf0676d9",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "shall we also fail for the parsing functions?",
        "createdAt" : "2020-05-20T11:46:28Z",
        "updatedAt" : "2020-05-22T16:23:15Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "9815ad0a-e81d-4b82-9c04-ec66687e503d",
        "parentId" : "08b68b58-cf98-484d-abe0-3e3bdf0676d9",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "This question may beyond the scope of this PR. So far, using an invalid pattern for parsing always returns `NULL`, which is also compatible with 2.4.",
        "createdAt" : "2020-05-20T12:08:30Z",
        "updatedAt" : "2020-05-22T16:23:15Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "cf2f4e3f-dc7a-4345-bdda-314f88420b91",
        "parentId" : "08b68b58-cf98-484d-abe0-3e3bdf0676d9",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "I just realize that returning NULL is also silent data change...",
        "createdAt" : "2020-05-20T12:15:59Z",
        "updatedAt" : "2020-05-22T16:23:15Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "fece224e-a141-4d46-ae40-da6f4fbee8bf",
        "parentId" : "08b68b58-cf98-484d-abe0-3e3bdf0676d9",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "For parsing and formatting, throw SparkUpgradeExeception to tell users how to restore the previous behavior or update their pattern via our online doc? How about the current approach",
        "createdAt" : "2020-05-20T13:16:18Z",
        "updatedAt" : "2020-05-22T16:23:15Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "3047f88bb3d0ca95ea4135e3c997f0602578c480",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +143,147 @@\n-- Unsupported narrow text style\nselect date_format(date '2020-05-23', 'GGGGG');\nselect date_format(date '2020-05-23', 'MMMMM');\nselect date_format(date '2020-05-23', 'LLLLL');"
  },
  {
    "id" : "ac7ce238-3935-4e3a-ad7d-84227a3da8fa",
    "prId" : 28534,
    "prUrl" : "https://github.com/apache/spark/pull/28534#pullrequestreview-415133112",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c2afe538-6ce5-40c0-b7dd-439999626a80",
        "parentId" : null,
        "authorId" : "a80e0991-f7b1-415a-8d2e-ab615cc6ef4a",
        "body" : "Is it possible to test an out-of-range case, i.e., where the *1000 or *1000000 overflows, and to show that it returns an error?",
        "createdAt" : "2020-05-20T08:10:46Z",
        "updatedAt" : "2020-05-22T08:39:27Z",
        "lastEditedBy" : "a80e0991-f7b1-415a-8d2e-ab615cc6ef4a",
        "tags" : [
        ]
      },
      {
        "id" : "299c35ee-882a-431d-8c9b-e7f0c4d5ee95",
        "parentId" : "c2afe538-6ce5-40c0-b7dd-439999626a80",
        "authorId" : "919368dc-8bac-4d8f-9fa6-be962263fc1e",
        "body" : "Maybe in `org.apache.spark.sql.SQLQuerySuite` we add the overflows test ?",
        "createdAt" : "2020-05-20T08:36:07Z",
        "updatedAt" : "2020-05-22T08:39:27Z",
        "lastEditedBy" : "919368dc-8bac-4d8f-9fa6-be962263fc1e",
        "tags" : [
        ]
      },
      {
        "id" : "39932c91-f202-4b60-ad61-836a1bbbf9c8",
        "parentId" : "c2afe538-6ce5-40c0-b7dd-439999626a80",
        "authorId" : "a80e0991-f7b1-415a-8d2e-ab615cc6ef4a",
        "body" : "The SQL test suite  can also show exceptions, so let's keep it there as well.",
        "createdAt" : "2020-05-20T08:42:43Z",
        "updatedAt" : "2020-05-22T08:39:27Z",
        "lastEditedBy" : "a80e0991-f7b1-415a-8d2e-ab615cc6ef4a",
        "tags" : [
        ]
      },
      {
        "id" : "ec6f175d-3288-46a6-8e4f-801af384a197",
        "parentId" : "c2afe538-6ce5-40c0-b7dd-439999626a80",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "+1",
        "createdAt" : "2020-05-20T09:00:05Z",
        "updatedAt" : "2020-05-22T08:39:27Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "849fa40e-d889-4bcb-aff2-3b040f89fb01",
        "parentId" : "c2afe538-6ce5-40c0-b7dd-439999626a80",
        "authorId" : "919368dc-8bac-4d8f-9fa6-be962263fc1e",
        "body" : "Ok, I will add exception check.",
        "createdAt" : "2020-05-20T09:02:26Z",
        "updatedAt" : "2020-05-22T08:39:27Z",
        "lastEditedBy" : "919368dc-8bac-4d8f-9fa6-be962263fc1e",
        "tags" : [
        ]
      }
    ],
    "commit" : "f0cc63140f867699154f0b4cc88334c3af8aba45",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +2,6 @@\n-- [SPARK-31710] TIMESTAMP_SECONDS, TIMESTAMP_MILLISECONDS and TIMESTAMP_MICROSECONDS to timestamp transfer\nselect TIMESTAMP_SECONDS(1230219000),TIMESTAMP_SECONDS(-1230219000),TIMESTAMP_SECONDS(null);\nselect TIMESTAMP_MILLIS(1230219000123),TIMESTAMP_MILLIS(-1230219000123),TIMESTAMP_MILLIS(null);\nselect TIMESTAMP_MICROS(1230219000123123),TIMESTAMP_MICROS(-1230219000123123),TIMESTAMP_MICROS(null);"
  },
  {
    "id" : "408203c5-37e6-423e-9f5c-1824b88f5b80",
    "prId" : 27939,
    "prUrl" : "https://github.com/apache/spark/pull/27939#pullrequestreview-376542198",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c3914559-ea1b-4eca-9e54-b80e0d4da01e",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "we can add a test of `uuee` to demonstrate the problem?",
        "createdAt" : "2020-03-18T03:15:11Z",
        "updatedAt" : "2020-03-18T04:39:21Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "a4c155bb-dd7d-4efa-9381-b666257ae2a0",
        "parentId" : "c3914559-ea1b-4eca-9e54-b80e0d4da01e",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "We should also highlight this problem in PR description.",
        "createdAt" : "2020-03-18T03:15:42Z",
        "updatedAt" : "2020-03-18T04:39:21Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e34db866-5f42-4985-bce2-b18d50725840",
        "parentId" : "c3914559-ea1b-4eca-9e54-b80e0d4da01e",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "updated. thanks.",
        "createdAt" : "2020-03-18T03:30:02Z",
        "updatedAt" : "2020-03-18T04:39:21Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "572759e631fb6da702c4695c3b8d7cd1e29add60",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +107,111 @@select date_format(timestamp '2019-10-06', 'yyyy-MM-dd uuee');\nselect date_format(timestamp '2019-10-06', 'yyyy-MM-dd uucc');\nselect date_format(timestamp '2019-10-06', 'yyyy-MM-dd uuuu');"
  }
]