[
  {
    "id" : "21fe37f5-f40c-4735-ad1a-c9730ec19566",
    "prId" : 29947,
    "prUrl" : "https://github.com/apache/spark/pull/29947#pullrequestreview-503446343",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2b49a913-6970-4158-b7a5-8e11f88438b9",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you add tests like this?\r\n```\r\nscala> sql(\"select * from t\").show()\r\n+---+\r\n|  v|\r\n+---+\r\n|  1|\r\n|  8|\r\n|  2|\r\n+---+\r\n\r\nscala> sql(\"select if(v > 5, raise_error('error found: ' || v), v + 1) from t\").show()\r\njava.lang.RuntimeException: error found: 8\r\n  at org.apache.spark.sql.catalyst.expressions.RaiseError.eval(misc.scala:80)\r\n```\r\nThat is because I think it is a common usecase to print out an error message with an invalid value.",
        "createdAt" : "2020-10-07T00:23:47Z",
        "updatedAt" : "2020-10-08T03:03:41Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "5b93fd49313152356a3fd2baf6c21123170c4037",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +10,14 @@select typeof(array(1, 2)), typeof(map(1, 2)), typeof(named_struct('a', 1, 'b', 'spark'));\n\n-- Spark-32793: Rewrite AssertTrue with RaiseError\nSELECT assert_true(true), assert_true(boolean(1));\nSELECT assert_true(false);"
  }
]