[
  {
    "id" : "c34dc2cc-a050-4eac-a11a-9702bb96540a",
    "prId" : 25415,
    "prUrl" : "https://github.com/apache/spark/pull/25415#pullrequestreview-273642860",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "57155383-48f2-4a98-8c6b-2d78bdbd2760",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "SPARK-28445 was wrong from the beginning, @shivusondur ?",
        "createdAt" : "2019-08-12T06:17:52Z",
        "updatedAt" : "2019-08-12T06:17:52Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "b83b0933-0aae-4e03-83e6-41fe79631c1e",
        "parentId" : "57155383-48f2-4a98-8c6b-2d78bdbd2760",
        "authorId" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "body" : "@dongjoon-hyun \r\nAfter resolving the SPARK-28445 also, test were failing and found [SPARK-28386] and [SPARK-26741] are blocking it.\r\n\r\nfor furher details follow https://github.com/apache/spark/pull/25215#issuecomment-518897609",
        "createdAt" : "2019-08-12T11:50:47Z",
        "updatedAt" : "2019-08-12T11:50:47Z",
        "lastEditedBy" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd41b268a773c262af6d7631c5ae7d94d543de8a",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +7,11 @@--\n-- This test file was converted from inputs/pgSQL/select_having.sql\n-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28386] and [SPARK-26741] is resolved.\n\n-- load test data"
  },
  {
    "id" : "93805122-85d6-4f52-87bf-8aba1eaa607e",
    "prId" : 25415,
    "prUrl" : "https://github.com/apache/spark/pull/25415#pullrequestreview-274021368",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a6e531a6-e05d-4cf5-821b-5625c8de6155",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I am a bit lost about this or I forget something.\r\nCan't we add UDF in group-by clause (resolved in SPARK-28445)?",
        "createdAt" : "2019-08-12T08:20:07Z",
        "updatedAt" : "2019-08-12T08:20:08Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "43cf8580-a9ec-4ca7-b263-6c7c328dfff7",
        "parentId" : "a6e531a6-e05d-4cf5-821b-5625c8de6155",
        "authorId" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "body" : "@HyukjinKwon \r\nFrom this \r\nhttps://github.com/apache/spark/pull/25215#issuecomment-518897609\r\nI thought I need to update todo with blocking jira numbers",
        "createdAt" : "2019-08-12T11:48:49Z",
        "updatedAt" : "2019-08-12T11:48:49Z",
        "lastEditedBy" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "tags" : [
        ]
      },
      {
        "id" : "6bf9a790-9465-4c5f-8176-3a2467458430",
        "parentId" : "a6e531a6-e05d-4cf5-821b-5625c8de6155",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Ah, right. I forgot. Can we enable all other tests with UDF in group-by and comment out the test?\r\n\r\n```\r\n-- !query 11\r\nSELECT udf(b), udf(c) FROM test_having\r\nGROUP BY udf(b), udf(c) HAVING udf(count(*)) = 1 ORDER BY udf(b), udf(c)\r\n-- !query 11 schema\r\nstruct<>\r\n-- !query 11 output\r\norg.apache.spark.sql.AnalysisException\r\ncannot resolve 'b' given input columns: [CAST(udf(cast(b as string)) AS INT), CAST(udf(cast(c as string)) AS STRING)]; line 2 pos 63\r\n```\r\n\r\nI guess we can still add some more tests?",
        "createdAt" : "2019-08-13T01:08:59Z",
        "updatedAt" : "2019-08-13T01:08:59Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd41b268a773c262af6d7631c5ae7d94d543de8a",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +7,11 @@--\n-- This test file was converted from inputs/pgSQL/select_having.sql\n-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28386] and [SPARK-26741] is resolved.\n\n-- load test data"
  },
  {
    "id" : "98a88e04-9af5-4779-b754-e04b4854902f",
    "prId" : 25161,
    "prUrl" : "https://github.com/apache/spark/pull/25161#pullrequestreview-261817261",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "646248c8-e526-45a6-ba51-9681c2d46460",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I would comment this:\r\n\r\n```\r\n--\r\n-- Portions Copyright (c) 1996-2019, PostgreSQL Global Development Group\r\n--\r\n--\r\n-- SELECT_HAVING\r\n-- https://github.com/postgres/postgres/blob/REL_12_BETA2/src/test/regress/sql/select_having.sql\r\n--\r\n-- This test file was converted from inputs/pgSQL/select_having.sql\r\n```\r\n\r\nto keep the original comment intact.",
        "createdAt" : "2019-07-15T12:43:11Z",
        "updatedAt" : "2019-07-23T03:43:11Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "5c1e3ccc-f3ac-4c04-8822-70dd62f32e4f",
        "parentId" : "646248c8-e526-45a6-ba51-9681c2d46460",
        "authorId" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "body" : "Corrected",
        "createdAt" : "2019-07-15T13:26:15Z",
        "updatedAt" : "2019-07-23T03:43:11Z",
        "lastEditedBy" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "tags" : [
        ]
      }
    ],
    "commit" : "8795d66b189712f54a55a3b0663273fb26126a8e",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +5,9 @@-- SELECT_HAVING\n-- https://github.com/postgres/postgres/blob/REL_12_BETA2/src/test/regress/sql/select_having.sql\n--\n-- This test file was converted from inputs/pgSQL/select_having.sql\n-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28445] is resolved."
  },
  {
    "id" : "a935501b-67c9-4640-88e1-3294483ce94e",
    "prId" : 25161,
    "prUrl" : "https://github.com/apache/spark/pull/25161#pullrequestreview-264635446",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "37272c7f-633b-4569-8969-7bf1649f5f66",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Can we add a comment like:\r\n\r\n```\r\n-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28445] is resolved.\r\n```",
        "createdAt" : "2019-07-22T02:36:30Z",
        "updatedAt" : "2019-07-23T03:43:11Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "da2716d3-26ba-4415-a92d-632c9fdcef03",
        "parentId" : "37272c7f-633b-4569-8969-7bf1649f5f66",
        "authorId" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "body" : "> DIFF is correct. I added more combination of queries with udf() addition, so queries increased.\r\n> Added the \"-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28445] is resolved.\" comment",
        "createdAt" : "2019-07-22T03:33:19Z",
        "updatedAt" : "2019-07-23T03:43:11Z",
        "lastEditedBy" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "tags" : [
        ]
      },
      {
        "id" : "9660dd7d-d397-4bd5-ad66-60fa967db35e",
        "parentId" : "37272c7f-633b-4569-8969-7bf1649f5f66",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "@shivusondur, let's avoid to add more combinations. `select_having.sql` file is being matched and ported from https://github.com/postgres/postgres/blob/REL_12_BETA2/src/test/regress/sql/select_having.sql\r\n\r\nIt's easier to review and check the diff if we match.\r\n\r\nIf we need, we can add separate test cases later in a different place but that's not what this JIRA targets.",
        "createdAt" : "2019-07-22T03:48:44Z",
        "updatedAt" : "2019-07-23T03:43:11Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "0ce9d539-b06a-4b16-8bbf-5b8061b03296",
        "parentId" : "37272c7f-633b-4569-8969-7bf1649f5f66",
        "authorId" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "body" : "@HyukjinKwon \r\n Now made the ../udf-select_having.sql  similar to ../select_having.sql, Only extra is udf() is added  wherever required.\r\nThanks for guiding me",
        "createdAt" : "2019-07-22T07:20:01Z",
        "updatedAt" : "2019-07-23T03:43:11Z",
        "lastEditedBy" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "tags" : [
        ]
      }
    ],
    "commit" : "8795d66b189712f54a55a3b0663273fb26126a8e",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +8,12 @@-- This test file was converted from inputs/pgSQL/select_having.sql\n-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28445] is resolved.\n\n-- load test data\nCREATE TABLE test_having (a int, b int, c string, d string) USING parquet;"
  },
  {
    "id" : "0ccc35f0-4f6d-4bf7-81d1-ae330adcd0a1",
    "prId" : 25161,
    "prUrl" : "https://github.com/apache/spark/pull/25161#pullrequestreview-265158317",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "969ae04e-e735-4bad-ace9-9eb15fd9fe40",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Can we add this todo on the top:\r\n```\r\n-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28445] is resolved.\r\n```\r\n\r\nand remove same lines below?",
        "createdAt" : "2019-07-22T11:45:44Z",
        "updatedAt" : "2019-07-23T03:43:11Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "a30e596f-cb08-42aa-8d9b-a7ec52e19f7b",
        "parentId" : "969ae04e-e735-4bad-ace9-9eb15fd9fe40",
        "authorId" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "body" : "Done",
        "createdAt" : "2019-07-23T03:43:41Z",
        "updatedAt" : "2019-07-23T03:43:41Z",
        "lastEditedBy" : "607caa0a-fca5-471d-9c8a-96acac6a23dc",
        "tags" : [
        ]
      }
    ],
    "commit" : "8795d66b189712f54a55a3b0663273fb26126a8e",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +6,10 @@-- https://github.com/postgres/postgres/blob/REL_12_BETA2/src/test/regress/sql/select_having.sql\n--\n-- This test file was converted from inputs/pgSQL/select_having.sql\n-- TODO: We should add UDFs in GROUP BY clause when [SPARK-28445] is resolved.\n"
  }
]