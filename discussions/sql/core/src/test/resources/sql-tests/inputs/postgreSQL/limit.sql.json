[
  {
    "id" : "d46c634c-1077-4faf-ba06-3ba670412554",
    "prId" : 26311,
    "prUrl" : "https://github.com/apache/spark/pull/26311#pullrequestreview-308993127",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0fb276ae-ae3a-4d54-b636-d3badc445cbe",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Filed: https://issues.apache.org/jira/browse/SPARK-29650",
        "createdAt" : "2019-10-30T06:57:44Z",
        "updatedAt" : "2019-10-30T06:57:44Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "3abbe57b6d85c6794c0598b3a22324fb0e0a4bec",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +45,49 @@-- constant, so to ensure executor is exercised, do this:\n-- [SPARK-29650] Discard a NULL constant in LIMIT\nselect * from int8_tbl limit (case when random() < 0.5 then bigint(null) end);\n-- [SPARK-28330] ANSI SQL: Top-level <result offset clause> in <query expression>\n-- select * from int8_tbl offset (case when random() < 0.5 then bigint(null) end);"
  },
  {
    "id" : "463fd957-215b-4e88-a4cf-874d5d164a95",
    "prId" : 26311,
    "prUrl" : "https://github.com/apache/spark/pull/26311#pullrequestreview-311510110",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7e728a1d-f3be-4f1f-b3ef-30fe9ed7c263",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Although I believe `Apache Spark` behavior `random()*0` == `0.0` is more natural, do we have a JIRA issue for this difference from PostgreSQL where `random()*0` == `0`?",
        "createdAt" : "2019-11-05T03:16:29Z",
        "updatedAt" : "2019-11-05T03:16:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "13d6977c-551e-428b-80b4-78795a773c15",
        "parentId" : "7e728a1d-f3be-4f1f-b3ef-30fe9ed7c263",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Sorry, but I missed your point and the result seems to be the same;\r\n```\r\nselect sum(tenthous) as s1, sum(tenthous) + random()*0 as s2\r\n  from tenk1 group by thousand order by thousand limit 3;\r\n  s1   |  s2   \r\n-------+-------\r\n 45000 | 45000\r\n 45010 | 45010\r\n 45020 | 45020\r\n(3 rows)\r\n```\r\nhttps://github.com/postgres/postgres/blob/REL_12_STABLE/src/test/regress/expected/limit.out#L497-L504\r\n\r\nAlso, I tried below;\r\n```\r\npostgres=# select * from (values (1)) t(v) where random() * 0.0 = 0.0;\r\n v \r\n---\r\n 1\r\n(1 row)\r\n\r\nscala> sql(\"\"\"select * from (values (1)) t(v) where random() * 0.0 = 0.0\"\"\").show()\r\n+---+\r\n|  v|\r\n+---+\r\n|  1|\r\n+---+\r\n```\r\nWhat's the difference here?",
        "createdAt" : "2019-11-05T05:04:06Z",
        "updatedAt" : "2019-11-05T05:04:07Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "aaa91518-6b3a-4857-a599-1592967f7438",
        "parentId" : "7e728a1d-f3be-4f1f-b3ef-30fe9ed7c263",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "The generated result is not the same in this PR.",
        "createdAt" : "2019-11-05T05:40:33Z",
        "updatedAt" : "2019-11-05T05:40:33Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "3abbe57b6d85c6794c0598b3a22324fb0e0a4bec",
    "line" : 163,
    "diffHunk" : "@@ -1,1 +161,165 @@--   from tenk1 group by thousand order by thousand limit 3;\n\nselect sum(tenthous) as s1, sum(tenthous) + random()*0 as s2\n  from tenk1 group by thousand order by thousand limit 3;"
  }
]