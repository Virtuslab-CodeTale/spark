[
  {
    "id" : "eae3760c-b8ab-4e8c-b072-d8f6a3fa6121",
    "prId" : 30280,
    "prUrl" : "https://github.com/apache/spark/pull/30280#pullrequestreview-525553013",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "99834359-7ba1-4972-b66e-3e26e8f40885",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "cc @maropu ",
        "createdAt" : "2020-11-06T18:09:10Z",
        "updatedAt" : "2020-11-06T18:09:10Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "870ee43d-6146-46c9-8e71-8af14d392ce4",
        "parentId" : "99834359-7ba1-4972-b66e-3e26e8f40885",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "BTW, @warrenzhu25 . Please describe in the PR description why you think this is wrong.",
        "createdAt" : "2020-11-06T18:10:20Z",
        "updatedAt" : "2020-11-06T18:10:20Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "2ba8c830-1c0e-47d9-abaa-0125fc947237",
        "parentId" : "99834359-7ba1-4972-b66e-3e26e8f40885",
        "authorId" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "body" : "@warrenzhu25 - Shuffled hash join will only be enabled with proper config value for `spark.sql.autoBroadcastJoinThreshold` and `spark.sql.shuffle.partitions`, and one side should be 3x smaller compared to the other side ([code](https://github.com/apache/spark/blob/master/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/optimizer/joins.scala#L368-L381)). I don't think test cases here satisfy the second condition (one side 3x smaller than the other side). Can you double check the query plan? Thanks.",
        "createdAt" : "2020-11-06T18:26:56Z",
        "updatedAt" : "2020-11-06T18:27:05Z",
        "lastEditedBy" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "tags" : [
        ]
      },
      {
        "id" : "2b6fba85-1cca-47a2-8cce-8c51194c778e",
        "parentId" : "99834359-7ba1-4972-b66e-3e26e8f40885",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "I saw from Jira description about this, maybe I misunderstood this Jira. @c21, could you help clarify more on this?",
        "createdAt" : "2020-11-06T19:05:45Z",
        "updatedAt" : "2020-11-06T19:05:46Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      },
      {
        "id" : "f7436930-5a1f-47bd-b9eb-4747a9f67d40",
        "parentId" : "99834359-7ba1-4972-b66e-3e26e8f40885",
        "authorId" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "body" : "@warrenzhu25 - I added a comment in JIRA. TLDR is I think only change config is not enough, we may need to change test input data, which is more involved and not sure whether it's worth the effort.",
        "createdAt" : "2020-11-06T19:09:48Z",
        "updatedAt" : "2020-11-06T19:09:48Z",
        "lastEditedBy" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "tags" : [
        ]
      },
      {
        "id" : "225cc8e3-4709-4936-8c78-8f2804832f2c",
        "parentId" : "99834359-7ba1-4972-b66e-3e26e8f40885",
        "authorId" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "body" : "Thanks for update. I'll close this.",
        "createdAt" : "2020-11-06T19:30:10Z",
        "updatedAt" : "2020-11-06T19:30:10Z",
        "lastEditedBy" : "cf8c9534-0cf3-4aad-8ead-54c363cfa86e",
        "tags" : [
        ]
      },
      {
        "id" : "e38bcdf6-9bb6-416c-8a4e-a0893d857097",
        "parentId" : "99834359-7ba1-4972-b66e-3e26e8f40885",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Thanks for pinging me, @dongjoon-hyun. IMO it might be worth adding a new directive (e.g., `--JOIN_TYPE`?)  for controlling physical join plans correctly via the hint logic in this test suite;\r\nhttps://github.com/apache/spark/blob/e11a24c1ba5b0f3116b46a213443902165919da5/sql/core/src/test/scala/org/apache/spark/sql/SQLQueryTestSuite.scala#L70-L88",
        "createdAt" : "2020-11-06T23:24:06Z",
        "updatedAt" : "2020-11-06T23:24:06Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "a54a3c63d31de2ef54b0e8bc124d884a880bca77",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +8,12 @@--CONFIG_DIM1 spark.sql.autoBroadcastJoinThreshold=10485760\n--CONFIG_DIM1 spark.sql.autoBroadcastJoinThreshold=10485760,spark.sql.join.preferSortMergeJoin=true\n--CONFIG_DIM1 spark.sql.autoBroadcastJoinThreshold=10485760,spark.sql.join.preferSortMergeJoin=false\n\n--CONFIG_DIM2 spark.sql.codegen.wholeStage=true"
  },
  {
    "id" : "8cc4e189-6596-4582-a7c2-7502dbd8a748",
    "prId" : 26406,
    "prUrl" : "https://github.com/apache/spark/pull/26406#pullrequestreview-314609187",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1cc4b727-3591-4d07-b2ca-897d40afc9b7",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "nit: Plz drop view in the end?",
        "createdAt" : "2019-11-10T12:08:34Z",
        "updatedAt" : "2019-11-10T12:23:57Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "4fb3eed0-94e5-4bce-ae82-6eac53ef41ac",
        "parentId" : "1cc4b727-3591-4d07-b2ca-897d40afc9b7",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> Plz drop view in the end?\r\n\r\nAbout t1, t2, t3, seems in other test file, don't drop table.",
        "createdAt" : "2019-11-10T12:24:24Z",
        "updatedAt" : "2019-11-10T12:24:24Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "65fe8600f79511eea7d9b708417dcdd2e62f92b8",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +63,67 @@    (3), (4), (6), (9)\n  as s3(id);\n\n-- correlated IN subquery\n-- different JOIN in parent side"
  }
]