[
  {
    "id" : "8ce9baf0-0b8c-4c94-9363-760778d379ff",
    "prId" : 26933,
    "prUrl" : "https://github.com/apache/spark/pull/26933#pullrequestreview-342374863",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0a617592-0b1d-4bee-a878-4a0d5d826233",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I tried it in pgsql\r\n```\r\ncloud0fan=# select cast('nan' as float);\r\n float8 \r\n--------\r\n    NaN\r\n```\r\n\r\nAnyway this is an existing bug, let's fix it in another PR.",
        "createdAt" : "2020-01-08T12:18:34Z",
        "updatedAt" : "2020-01-08T13:27:44Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "8c92f48b-079d-4bde-a459-f87f66a8731d",
        "parentId" : "0a617592-0b1d-4bee-a878-4a0d5d826233",
        "authorId" : "832e1988-205f-40f9-89d5-c37ea16224c9",
        "body" : "I will check this issue.",
        "createdAt" : "2020-01-08T13:32:33Z",
        "updatedAt" : "2020-01-08T13:32:33Z",
        "lastEditedBy" : "832e1988-205f-40f9-89d5-c37ea16224c9",
        "tags" : [
        ]
      },
      {
        "id" : "875cee74-fcee-4f0c-84be-d150d177113f",
        "parentId" : "0a617592-0b1d-4bee-a878-4a0d5d826233",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "sorry I misread the code, pgsql does fail for `cast('nan' as int)`",
        "createdAt" : "2020-01-14T09:03:00Z",
        "updatedAt" : "2020-01-14T09:03:01Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "0cb4edc3a42badfff3f2ecca7b2ec468ad0f0c2d",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +502,506 @@-- !query 38 output\norg.apache.spark.sql.AnalysisException\nfailed to evaluate expression CAST('nan' AS INT): invalid input syntax for type numeric: nan; line 3 pos 6"
  },
  {
    "id" : "bae4f643-5ad2-4863-abb5-6a759f737354",
    "prId" : 26238,
    "prUrl" : "https://github.com/apache/spark/pull/26238#pullrequestreview-308401067",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "83d08fa0-8dd8-45be-9b5b-8d89a7b85669",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "diff?: https://github.com/postgres/postgres/blob/REL_12_STABLE/src/test/regress/expected/window.out#L3787",
        "createdAt" : "2019-10-28T05:22:11Z",
        "updatedAt" : "2019-10-29T23:32:18Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "5d7286c1-61eb-4c62-9042-dab8a8d94a40",
        "parentId" : "83d08fa0-8dd8-45be-9b5b-8d89a7b85669",
        "authorId" : "36bbfc8a-d8be-48af-9a36-3413dadd8525",
        "body" : "@maropu I think that it is related to Spark handling 'NaN' as value zero in sum, such that:\r\n`0+1=1, 1+2=3, 2+'NaN'=2, 3+'NaN'=3, 4+3=7`. Should I JIRA that?\r\n",
        "createdAt" : "2019-10-28T10:20:10Z",
        "updatedAt" : "2019-10-29T23:32:18Z",
        "lastEditedBy" : "36bbfc8a-d8be-48af-9a36-3413dadd8525",
        "tags" : [
        ]
      },
      {
        "id" : "430913c9-1a1a-4b65-a636-126b03b62c23",
        "parentId" : "83d08fa0-8dd8-45be-9b5b-8d89a7b85669",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Ur, I see. I think its worth filing it (Or, we already have any jira for that?) cc: @dongjoon-hyun @HyukjinKwon ",
        "createdAt" : "2019-10-29T05:46:11Z",
        "updatedAt" : "2019-10-29T23:32:18Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "8c6a4f85-6acb-4830-aa7f-1d4a19670963",
        "parentId" : "83d08fa0-8dd8-45be-9b5b-8d89a7b85669",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, let's file a JIRA and note. Even if we don't want to fix in Spark, let's better to file a JIRA and reolsve it as `Won't Fix` for trackability.",
        "createdAt" : "2019-10-29T09:32:55Z",
        "updatedAt" : "2019-10-29T23:32:18Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "7522db04-d014-486d-b559-4ccc852d4834",
        "parentId" : "83d08fa0-8dd8-45be-9b5b-8d89a7b85669",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Yea, I think so. Thanks for the suggestion!",
        "createdAt" : "2019-10-29T10:18:17Z",
        "updatedAt" : "2019-10-29T23:32:18Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "3dfa624c8fbc8d3efbf0cfd18dda690585b2f572",
    "line" : 501,
    "diffHunk" : "@@ -1,1 +499,503 @@FROM (VALUES(1,1),(2,2),(3,(cast('nan' as int))),(4,3),(5,4)) t(a,b)\n-- !query 38 schema\nstruct<a:int,b:int,sum(b) OVER (ORDER BY A ASC NULLS FIRST ROWS BETWEEN 1 PRECEDING AND CURRENT ROW):bigint>\n-- !query 38 output\n1\t1\t1"
  }
]