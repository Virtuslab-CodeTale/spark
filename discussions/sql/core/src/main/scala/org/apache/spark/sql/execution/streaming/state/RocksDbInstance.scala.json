[
  {
    "id" : "942a3f96-73e1-45b9-b217-3ff3d2ca2d85",
    "prId" : 24922,
    "prUrl" : "https://github.com/apache/spark/pull/24922#pullrequestreview-258706888",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5e70ce76-0930-430c-9cc0-e2fbcf1f6ac2",
        "parentId" : null,
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "Not yet understand why this needed in 3 different places?",
        "createdAt" : "2019-07-05T12:40:30Z",
        "updatedAt" : "2019-09-26T06:35:25Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      },
      {
        "id" : "4dc56452-0b91-496e-aa46-8f6bc7b64428",
        "parentId" : "5e70ce76-0930-430c-9cc0-e2fbcf1f6ac2",
        "authorId" : "be7041e0-9315-4dbe-8cde-5135813054ec",
        "body" : "We need to make sure Rocksdb libraries are loaded before we make any operation on top of it. Calling it twice is a no-op. I have added loadLibrary at all possible entry point. \r\n```\r\n /**\r\n   * Loads the necessary library files.\r\n   * Calling this method twice will have no effect.\r\n   * By default the method extracts the shared library for loading at\r\n   * java.io.tmpdir, however, you can override this temporary location by\r\n   * setting the environment variable ROCKSDB_SHAREDLIB_DIR.\r\n   */\r\n  public static void loadLibrary() {\r\n    if (libraryLoaded.get() == LibraryState.LOADED) {\r\n      return;\r\n    }\r\n```",
        "createdAt" : "2019-07-08T06:29:08Z",
        "updatedAt" : "2019-09-26T06:35:25Z",
        "lastEditedBy" : "be7041e0-9315-4dbe-8cde-5135813054ec",
        "tags" : [
        ]
      }
    ],
    "commit" : "45e0d054a38958ac9e1b7c6a9429a3a3df9b8ff1",
    "line" : 397,
    "diffHunk" : "@@ -1,1 +395,399 @@object RocksDbInstance {\n\n  RocksDB.loadLibrary()\n\n  val COMMIT_FILE_NAME = \"commit\""
  }
]