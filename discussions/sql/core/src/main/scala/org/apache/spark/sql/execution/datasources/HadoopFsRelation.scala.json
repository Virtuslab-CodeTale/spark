[
  {
    "id" : "8db7f608-478e-488b-b1e6-4024905f3470",
    "prId" : 25460,
    "prUrl" : "https://github.com/apache/spark/pull/25460#pullrequestreview-275788798",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8682015-c796-42aa-b4f8-f88bbe4e6be1",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "The point @maropu and I were making is, `location.sizeInBytes == sqlContext.conf.defaultSizeInBytes` doesn't mean the table stats are not available. `sqlContext.conf.defaultSizeInBytes` is configurable, and it's possible that the table stats are the same as `sqlContext.conf.defaultSizeInBytes`, in which case we shouldn't fallback to HDFS.",
        "createdAt" : "2019-08-16T06:03:19Z",
        "updatedAt" : "2019-08-16T06:03:19Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "1ba18dbd-47fa-4ea0-8442-4efb15b57041",
        "parentId" : "c8682015-c796-42aa-b4f8-f88bbe4e6be1",
        "authorId" : "d0d56018-475d-4da3-93a6-5e843402b7f2",
        "body" : "Yes, I agree. my point was, if the table statistics is not empty, it will not fallback to hdfs even without the condition. So, the PR itself isn't necessary. I will close this to #24715 \r\nThanks @dongjoon-hyun , @cloud-fan @maropu for the feedbacks",
        "createdAt" : "2019-08-16T06:15:39Z",
        "updatedAt" : "2019-08-16T06:15:39Z",
        "lastEditedBy" : "d0d56018-475d-4da3-93a6-5e843402b7f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "5a98bddf90688d0453f66d6068acbf663c6720af",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +74,78 @@    location match {\n      case cfi: CatalogFileIndex if sparkSession.sessionState.conf.fallBackToHdfsForStatsEnabled &&\n          location.sizeInBytes == sqlContext.conf.defaultSizeInBytes =>\n        CommandUtils.getSizeInBytesFallBackToHdfs(sparkSession, new Path(cfi.table.location),\n          defaultSize)"
  }
]