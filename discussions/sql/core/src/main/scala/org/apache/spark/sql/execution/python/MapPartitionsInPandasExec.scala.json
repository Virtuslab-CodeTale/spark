[
  {
    "id" : "9a7ce86f-510c-429a-8872-77548c7d7517",
    "prId" : 24997,
    "prUrl" : "https://github.com/apache/spark/pull/24997#pullrequestreview-256307461",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "89d0902b-0248-4105-b9c8-ce429944e039",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Is this correct? After the python udf, I think the partitioning is unknown? ",
        "createdAt" : "2019-07-01T09:40:18Z",
        "updatedAt" : "2019-07-01T13:07:21Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "732fc91c-b5f5-4b08-86d8-fd33dfbcdba0",
        "parentId" : "89d0902b-0248-4105-b9c8-ce429944e039",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Hm, I just noticed other Python UDFs set it as unknown partitioning whereas `dapply` in R (without and with Arrow) and `MapPartitions` specify child output partitioning. I haven't taken a close look but matching it to `mapPartitions` should be fine. The partitioning and distribution looks not going to be affected because it maps one partition to the other but maybe I miss something.\r\n\r\n",
        "createdAt" : "2019-07-01T12:33:10Z",
        "updatedAt" : "2019-07-01T13:09:00Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "cb403690b2e570298941914c7c7420caf7362416",
    "line" : 53,
    "diffHunk" : "@@ -1,1 +51,55 @@  private val batchSize = conf.arrowMaxRecordsPerBatch\n\n  override def outputPartitioning: Partitioning = child.outputPartitioning\n\n  override protected def doExecute(): RDD[InternalRow] = {"
  }
]