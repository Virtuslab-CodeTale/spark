[
  {
    "id" : "941cdcac-4852-44b2-8946-1a88ec5793e8",
    "prId" : 27530,
    "prUrl" : "https://github.com/apache/spark/pull/27530#pullrequestreview-356936659",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "67ccb79a-7d02-4140-8d0c-421d26c21f19",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Maybe, `unsafeRows.isEmpty`? Otherwise I have to look at the difference between `unsafeRows` and `rows`.",
        "createdAt" : "2020-02-11T10:18:28Z",
        "updatedAt" : "2020-02-11T19:35:55Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "36d55728-54d2-4ef0-8b7f-e6ddae4347b1",
        "parentId" : "67ccb79a-7d02-4140-8d0c-421d26c21f19",
        "authorId" : "80d631a6-73e8-46a6-a01b-a80d1f1cc6cc",
        "body" : "This way we avoid materializing the `unsafeRows` lazy val.",
        "createdAt" : "2020-02-11T19:34:53Z",
        "updatedAt" : "2020-02-11T19:35:55Z",
        "lastEditedBy" : "80d631a6-73e8-46a6-a01b-a80d1f1cc6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "6d46dec2061054da6b8c041b5649d0778d2e9471",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +47,51 @@\n  @transient private lazy val rdd: RDD[InternalRow] = {\n    if (rows.isEmpty) {\n      sqlContext.sparkContext.emptyRDD\n    } else {"
  },
  {
    "id" : "3f0a67f6-b4fd-4c94-af2f-d22a82611563",
    "prId" : 27530,
    "prUrl" : "https://github.com/apache/spark/pull/27530#pullrequestreview-356572713",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b791fe68-00be-4a33-b9a4-65e8b19f226a",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Just in case, does it make sense to put this code (handling empty rows) inside of `parallelize`?",
        "createdAt" : "2020-02-11T10:19:58Z",
        "updatedAt" : "2020-02-11T19:35:55Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "d6d9b2f5-c5c7-44c6-873b-c0855f844098",
        "parentId" : "b791fe68-00be-4a33-b9a4-65e8b19f226a",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "`parallelize` need to respect the `numSlices` parameter, even if the data is empty.",
        "createdAt" : "2020-02-11T11:09:32Z",
        "updatedAt" : "2020-02-11T19:35:55Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "6d46dec2061054da6b8c041b5649d0778d2e9471",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +51,55 @@    } else {\n      val numSlices = math.min(unsafeRows.length, sqlContext.sparkContext.defaultParallelism)\n      sqlContext.sparkContext.parallelize(unsafeRows, numSlices)\n    }\n  }"
  },
  {
    "id" : "c86c0e95-a134-4c89-9db3-8cdac58d67ce",
    "prId" : 25913,
    "prUrl" : "https://github.com/apache/spark/pull/25913#pullrequestreview-292752455",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41eba484-1cc7-4916-91dc-d88924dee710",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Is it ok to return different values in a driver and executors? How about computing this value in a driver then passing into executors?",
        "createdAt" : "2019-09-24T22:57:01Z",
        "updatedAt" : "2019-09-25T00:49:30Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "5a312dfe-8995-45d6-8122-75711abc871e",
        "parentId" : "41eba484-1cc7-4916-91dc-d88924dee710",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "The value except `output` should be meaningless, otherwise assumption in related comments goes wrong and we should serialize the rows. I guess that's only for visual.",
        "createdAt" : "2019-09-24T23:00:53Z",
        "updatedAt" : "2019-09-25T00:49:30Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "0d9eab9151a0cd375625cd0fe8f21aca1a56cc3e",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +63,67 @@    if (rows == null) {\n      Iterator(\"<unknown>\", output)\n    } else if (rows.isEmpty) {\n      Iterator(\"<empty>\", output)\n    } else {"
  }
]