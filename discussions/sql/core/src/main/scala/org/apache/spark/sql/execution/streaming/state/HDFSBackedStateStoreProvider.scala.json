[
  {
    "id" : "184e8fec-a617-4203-be9d-e17ac8a85114",
    "prId" : 33038,
    "prUrl" : "https://github.com/apache/spark/pull/33038#pullrequestreview-696973992",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f98d6c3c-1972-4c89-823c-08fe63324ad8",
        "parentId" : null,
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Do we accept passing an empty keySchema? Or it's just want to make the assertion safe?",
        "createdAt" : "2021-06-30T14:20:45Z",
        "updatedAt" : "2021-06-30T14:32:01Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      },
      {
        "id" : "8724383c-76bd-4dd2-a2a1-9fa8d6a0a685",
        "parentId" : "f98d6c3c-1972-4c89-823c-08fe63324ad8",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Passing empty key schema is possible via groupBy with no column - I also noticed this in existing UT.",
        "createdAt" : "2021-07-01T00:19:44Z",
        "updatedAt" : "2021-07-01T00:19:44Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "f4b8e8f0-0bea-46cc-baf0-ce84c318bf77",
        "parentId" : "f98d6c3c-1972-4c89-823c-08fe63324ad8",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Copy that. Thanks for the explanation.",
        "createdAt" : "2021-07-01T08:36:30Z",
        "updatedAt" : "2021-07-01T08:36:30Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "42c105c4755542e657d7e3069cc4dd522f1f5ab3",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +241,245 @@    this.numberOfVersionsToRetainInMemory = storeConf.maxVersionsToRetainInMemory\n\n    require((keySchema.length == 0 && numColsPrefixKey == 0) ||\n      (keySchema.length > numColsPrefixKey), \"The number of columns in the key must be \" +\n      \"greater than the number of columns for prefix key!\")"
  },
  {
    "id" : "323bc1e8-fa6e-436f-a208-172fa7dda5c7",
    "prId" : 28707,
    "prUrl" : "https://github.com/apache/spark/pull/28707#pullrequestreview-432499198",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cfedf4ad-011c-4d13-acaa-f53223b54d7b",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Can we add a TODO that this validation should be moved to a higher level so that it works for all state store implementations?",
        "createdAt" : "2020-06-17T12:02:52Z",
        "updatedAt" : "2020-06-18T01:32:17Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "321b8174-e235-4790-8093-c02dd74f69a2",
        "parentId" : "cfedf4ad-011c-4d13-acaa-f53223b54d7b",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Thanks, add the TODO in fd74ff9.",
        "createdAt" : "2020-06-17T15:06:13Z",
        "updatedAt" : "2020-06-18T01:32:17Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "557eb3099b3d0abe1fd2d7d91754fa747e05d200",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +262,266 @@  // TODO: The validation should be moved to a higher level so that it works for all state store\n  // implementations\n  @volatile private var isValidated = false\n\n  private lazy val loadedMaps = new util.TreeMap[Long, MapType](Ordering[Long].reverse)"
  },
  {
    "id" : "8aaba908-712b-42e5-b492-258c0cd7b4be",
    "prId" : 26935,
    "prUrl" : "https://github.com/apache/spark/pull/26935#pullrequestreview-517713412",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "26b2ee68-009f-46b3-829c-c152aa0bb45d",
        "parentId" : null,
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "Nit: Just a final thing, don't we need a `toString` like `HDFSBackedStateStore`?",
        "createdAt" : "2020-10-27T13:40:23Z",
        "updatedAt" : "2020-10-29T23:31:56Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "a58e9e1914d7a97a83e121d2ed10fa56e1d9445d",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +98,102 @@      s\"HDFSReadStateStore[id=(op=${id.operatorId},part=${id.partitionId}),dir=$baseDir]\"\n    }\n  }\n\n  /** Implementation of [[StateStore]] API which is backed by an HDFS-compatible file system */"
  }
]