[
  {
    "id" : "8660b8e3-49fb-45b6-902b-d6c04445fee4",
    "prId" : 31156,
    "prUrl" : "https://github.com/apache/spark/pull/31156#pullrequestreview-567150475",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f4c428d-06e4-45c4-b784-387826bbf33d",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "This seems to fix a separate issue?",
        "createdAt" : "2021-01-13T10:02:37Z",
        "updatedAt" : "2021-01-13T10:04:14Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "c9da683a-49cb-4d0b-a1a3-c062657090db",
        "parentId" : "2f4c428d-06e4-45c4-b784-387826bbf33d",
        "authorId" : "c12eb4aa-c39d-4fa9-8470-ed071c0be24a",
        "body" : "We use `SparkListenerSQLExecutionStart` event to add `ExecutionListenerBus.activeQueryExecutionIds` here, if we don't send `SparkListenerSQLExecutionStart` event messages when an exception throw, some tests will be failed.",
        "createdAt" : "2021-01-13T11:56:13Z",
        "updatedAt" : "2021-01-13T11:56:13Z",
        "lastEditedBy" : "c12eb4aa-c39d-4fa9-8470-ed071c0be24a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b7463da93ea5d7b6bc29a2907c99e1bc74f8fb0f",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +96,100 @@          // failed. we should send SparkListenerSQLExecutionStart event to listener bus when we\n          // catch an exception.\n          val sparkPlanInfo = try {\n            SparkPlanInfo.fromSparkPlan(queryExecution.executedPlan)\n          } catch {"
  },
  {
    "id" : "79328244-435e-420e-9f6a-e23d9109d30c",
    "prId" : 31156,
    "prUrl" : "https://github.com/apache/spark/pull/31156#pullrequestreview-567918052",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7477cca2-a3ca-40d0-962e-9afa012ddca9",
        "parentId" : null,
        "authorId" : "c12eb4aa-c39d-4fa9-8470-ed071c0be24a",
        "body" : "We send `SparkListenerSQLExecutionStart` event through `sparkSession.listenerManager.post`, this method will only send SQL executions event to the listener manager created by the SQL launched session, not all of the listener managers.",
        "createdAt" : "2021-01-14T07:18:48Z",
        "updatedAt" : "2021-01-14T07:18:49Z",
        "lastEditedBy" : "c12eb4aa-c39d-4fa9-8470-ed071c0be24a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b7463da93ea5d7b6bc29a2907c99e1bc74f8fb0f",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +103,107 @@          }\n\n          sparkSession.listenerManager.post(SparkListenerSQLExecutionStart(\n            executionId = executionId,\n            description = desc,"
  },
  {
    "id" : "ffa466eb-a17f-4797-a4d3-5e7f78f5fd2f",
    "prId" : 27516,
    "prUrl" : "https://github.com/apache/spark/pull/27516#pullrequestreview-355751108",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36746738-5241-4e9d-ad69-fb2bfa49c72c",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "if the `originalSession` is empty, shall we also remove the active session to be consistent?",
        "createdAt" : "2020-02-10T05:45:04Z",
        "updatedAt" : "2020-02-10T08:15:48Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "0fe7036d-6bb7-419e-9396-661ea7ef9fae",
        "parentId" : "36746738-5241-4e9d-ad69-fb2bfa49c72c",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Make sense, done in 51f7fc8.",
        "createdAt" : "2020-02-10T08:22:10Z",
        "updatedAt" : "2020-02-10T08:22:11Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "51f7fc8ed925766d07ef6820439833ce3b1f67e4",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +185,189 @@      // reset active session and local props.\n      sc.setLocalProperties(originalLocalProps)\n      if (originalSession.nonEmpty) {\n        SparkSession.setActiveSession(originalSession.get)\n      } else {"
  }
]