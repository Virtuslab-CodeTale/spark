[
  {
    "id" : "e3b2a038-fd25-426d-a7f4-1fcb3d7c0210",
    "prId" : 30972,
    "prUrl" : "https://github.com/apache/spark/pull/30972#pullrequestreview-559945318",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f34f580d-59b3-4983-9f4e-a5c41d35203a",
        "parentId" : null,
        "authorId" : "a6465a0a-3afb-45b9-b60f-b4381e348b5a",
        "body" : "intentionally to be synchronized as StringCache is singleton....",
        "createdAt" : "2020-12-30T08:04:42Z",
        "updatedAt" : "2020-12-30T17:24:37Z",
        "lastEditedBy" : "a6465a0a-3afb-45b9-b60f-b4381e348b5a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b84f63bb2ed6421397e52462a42604e5a9f29cda",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +58,62 @@      writer: OutputStreamWriter,\n      dataSchema: StructType,\n      params: CSVOptions): UnivocityGenerator = this.synchronized {\n    NormalizedString.getCache.setMaxStringLength(maxLength)\n    new UnivocityGenerator(dataSchema, writer, params)"
  },
  {
    "id" : "c8ddd83e-85aa-46f5-b766-bf9fd8d3891f",
    "prId" : 30972,
    "prUrl" : "https://github.com/apache/spark/pull/30972#pullrequestreview-560133961",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a3ab5128-e24d-4fe3-a4ba-d3d35a03748f",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Is the max string length a global setting? If it is, it means `maxColumnNameLength` at different queries can conflict each others?",
        "createdAt" : "2020-12-30T08:12:13Z",
        "updatedAt" : "2020-12-30T17:24:37Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "2bfa88c9-18c2-449b-a043-9dec0d0443b9",
        "parentId" : "a3ab5128-e24d-4fe3-a4ba-d3d35a03748f",
        "authorId" : "a6465a0a-3afb-45b9-b60f-b4381e348b5a",
        "body" : "yeah, it's a good question and valid concern...it will\r\n\r\none possible way is to always take the biggest value passed by the user to this config?",
        "createdAt" : "2020-12-30T17:17:56Z",
        "updatedAt" : "2020-12-30T17:24:37Z",
        "lastEditedBy" : "a6465a0a-3afb-45b9-b60f-b4381e348b5a",
        "tags" : [
        ]
      }
    ],
    "commit" : "b84f63bb2ed6421397e52462a42604e5a9f29cda",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +60,64 @@      params: CSVOptions): UnivocityGenerator = this.synchronized {\n    NormalizedString.getCache.setMaxStringLength(maxLength)\n    new UnivocityGenerator(dataSchema, writer, params)\n  }\n}"
  },
  {
    "id" : "069eb09e-1d59-48e4-8920-a4aea16de6f7",
    "prId" : 30972,
    "prUrl" : "https://github.com/apache/spark/pull/30972#pullrequestreview-560662356",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30e85e55-6628-497a-9d52-ed4407bb4b98",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Looks like it will have to be a static SQL config .. if we have to expose this as an option.",
        "createdAt" : "2020-12-31T00:30:39Z",
        "updatedAt" : "2020-12-31T00:30:39Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "a625ac69-b5bd-4ce2-8be7-bf168baa17bb",
        "parentId" : "30e85e55-6628-497a-9d52-ed4407bb4b98",
        "authorId" : "a6465a0a-3afb-45b9-b60f-b4381e348b5a",
        "body" : "eh..may I ask why? is it a convention that we should expose all static configuration as static SQL config?",
        "createdAt" : "2021-01-02T05:51:48Z",
        "updatedAt" : "2021-01-02T05:51:49Z",
        "lastEditedBy" : "a6465a0a-3afb-45b9-b60f-b4381e348b5a",
        "tags" : [
        ]
      },
      {
        "id" : "237565ee-21f7-4864-b6a9-c3a33d15e701",
        "parentId" : "30e85e55-6628-497a-9d52-ed4407bb4b98",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Because of https://github.com/apache/spark/pull/30972#discussion_r550017618 .. this property looks it works as a global variable...",
        "createdAt" : "2021-01-03T00:32:21Z",
        "updatedAt" : "2021-01-03T00:32:21Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "b84f63bb2ed6421397e52462a42604e5a9f29cda",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +59,63 @@      dataSchema: StructType,\n      params: CSVOptions): UnivocityGenerator = this.synchronized {\n    NormalizedString.getCache.setMaxStringLength(maxLength)\n    new UnivocityGenerator(dataSchema, writer, params)\n  }"
  }
]