[
  {
    "id" : "41a0e015-9400-4da9-9fbf-8156c25ef1da",
    "prId" : 28705,
    "prUrl" : "https://github.com/apache/spark/pull/28705#pullrequestreview-423390301",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ac36c10e-c2b3-4b2e-b604-17f9ceb5b9ce",
        "parentId" : null,
        "authorId" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "body" : "SparkSQLCLIDriver is the only non-test user of this function, and if we want the CLI to always use the new Java 8 date-time APIs, I think we could better explicitly set it there, rather than cloning the session, and cloning the Dataset here to do it.",
        "createdAt" : "2020-06-02T19:48:19Z",
        "updatedAt" : "2020-06-03T19:35:17Z",
        "lastEditedBy" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "tags" : [
        ]
      },
      {
        "id" : "480243a9-ae55-4112-ae00-ff1d0c902780",
        "parentId" : "ac36c10e-c2b3-4b2e-b604-17f9ceb5b9ce",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "+1. This also reminds me of https://github.com/apache/spark/pull/28671. Is it possible to always enable java 8 time API in the thrifter server?",
        "createdAt" : "2020-06-03T07:23:45Z",
        "updatedAt" : "2020-06-03T19:35:17Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "a8eb0847-239d-487b-83c8-7a0043a7a80f",
        "parentId" : "ac36c10e-c2b3-4b2e-b604-17f9ceb5b9ce",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "This is what I did originally in previous PR https://github.com/apache/spark/pull/27552/commits/916838a3d43aeac59cdc799fed0de8d279b0ad66 but somehow we came up to the conclusion of cloning session and set Java 8 Api in `hiveResultString()` locally.",
        "createdAt" : "2020-06-03T09:44:43Z",
        "updatedAt" : "2020-06-03T19:35:17Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "74dfe4d428000ec31c6cdaac8c35301b904d1d1d",
    "line" : 75,
    "diffHunk" : "@@ -1,1 +76,80 @@            .map(_.mkString(\"\\t\"))\n        }\n    }\n  }\n"
  },
  {
    "id" : "dbaec545-76b3-474a-8ecb-cf9bd1ae7d07",
    "prId" : 28024,
    "prUrl" : "https://github.com/apache/spark/pull/28024#pullrequestreview-381746360",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36a9c009-b141-4e2d-b0bc-ee4646a2b553",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "@MaxGekk, which codes path access `SQLConf.get` here? Seems like we should clarify in the documentation that we should take other sessions into account since `TimestampFormatter` behaviours can be dependent on SQL configuration when this instance is created..",
        "createdAt" : "2020-03-26T01:20:43Z",
        "updatedAt" : "2020-03-26T01:20:43Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "5929748c-5846-4559-ae22-cb3dbe152297",
        "parentId" : "36a9c009-b141-4e2d-b0bc-ee4646a2b553",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "It's SQLConf.get.sessionLocalTimeZone",
        "createdAt" : "2020-03-26T07:07:01Z",
        "updatedAt" : "2020-03-26T07:07:02Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "58f3cb76-ab44-41af-8b75-9dbc3ae4d196",
        "parentId" : "36a9c009-b141-4e2d-b0bc-ee4646a2b553",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Ah, damn, sure. Yes.",
        "createdAt" : "2020-03-26T07:11:47Z",
        "updatedAt" : "2020-03-26T07:11:47Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "74b98f52b9e40d0ce63b48381e883ab6e3aed133",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +62,66 @@  private def zoneId = DateTimeUtils.getZoneId(SQLConf.get.sessionLocalTimeZone)\n  private def dateFormatter = DateFormatter(zoneId)\n  private def timestampFormatter = TimestampFormatter.getFractionFormatter(zoneId)\n\n  /** Formats a datum (based on the given data type) and returns the string representation. */"
  }
]