[
  {
    "id" : "83ea3890-8838-4f39-bc01-4adb6645908f",
    "prId" : 28208,
    "prUrl" : "https://github.com/apache/spark/pull/28208#pullrequestreview-413217835",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6a2e2fcc-0f75-42ea-b734-b5f008286a84",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Actually after https://github.com/apache/spark/pull/28037, part of the metrics name is in the value...\r\nI can see the json output like:\r\n```\r\n{\r\n\"nodeId\": 9,\r\n\"nodeName\": \"WholeStageCodegen (1)\",\r\n\"metrics\": [\r\n{\r\n\"name\": \"duration\",\r\n\"value\": \"total (min, med, max (stageId: taskId))\\n4.3 s (269 ms, 270 ms, 272 ms (stage 3.0: task 16))\"\r\n}\r\n]\r\n}\r\n```\r\nBut this is not strongly related to this PR. We can just fix it in another PR.",
        "createdAt" : "2020-05-12T08:33:06Z",
        "updatedAt" : "2020-05-18T00:46:15Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "87f78da0-4df1-496d-9f21-80305014b547",
        "parentId" : "6a2e2fcc-0f75-42ea-b734-b5f008286a84",
        "authorId" : "3a0e513c-8344-4f12-854d-dc5bdf789035",
        "body" : "Yes, sounds good.",
        "createdAt" : "2020-05-18T00:41:36Z",
        "updatedAt" : "2020-05-18T00:46:15Z",
        "lastEditedBy" : "3a0e513c-8344-4f12-854d-dc5bdf789035",
        "tags" : [
        ]
      }
    ],
    "commit" : "2f9522f4da807260b133085dd70011785f7823c5",
    "line" : 103,
    "diffHunk" : "@@ -1,1 +120,124 @@      metricValues.get(accumulatorId).map( mv => {\n        val metricValue = if (mv.startsWith(\"\\n\")) mv.substring(1, mv.length) else mv\n        Metric(metricName, metricValue)\n      })\n    }"
  },
  {
    "id" : "3577af75-9fc5-4a52-b941-a1a811067d79",
    "prId" : 28208,
    "prUrl" : "https://github.com/apache/spark/pull/28208#pullrequestreview-414123302",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "909ca9e7-7d30-4e35-8f5b-02a65ca98c39",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "@erenavsarogullari  one last comment: why do we have extra option \"planDescription\" here. It seems reasonable to be covered by the option \"details\"",
        "createdAt" : "2020-05-19T05:01:50Z",
        "updatedAt" : "2020-05-19T05:01:51Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "42764e40-34c8-44e9-b16e-bf914c96063e",
        "parentId" : "909ca9e7-7d30-4e35-8f5b-02a65ca98c39",
        "authorId" : "3a0e513c-8344-4f12-854d-dc5bdf789035",
        "body" : "@gengliangwang Thanks for the review.\r\n\r\nPlease find my comments as follows:\r\n**1-** `planDescription` exposes Physical Plan which covers dataset `column-names`. Column Names can be thought as customer sensitive data so with this option, end-users can disable in the light of their use-cases when they still access metrics.\r\n**2-** For complex queries, `planDescription` can be big string and create network overhead. In this case, it can be disabled where it is not required and metrics are required(e.g: time-series monitoring - metrics need to be persisted & exposed but Physical Plan does not) (if makes sense)",
        "createdAt" : "2020-05-19T06:00:23Z",
        "updatedAt" : "2020-05-19T06:15:11Z",
        "lastEditedBy" : "3a0e513c-8344-4f12-854d-dc5bdf789035",
        "tags" : [
        ]
      }
    ],
    "commit" : "2f9522f4da807260b133085dd70011785f7823c5",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +36,40 @@  def sqlList(\n      @DefaultValue(\"true\") @QueryParam(\"details\") details: Boolean,\n      @DefaultValue(\"true\") @QueryParam(\"planDescription\") planDescription: Boolean,\n      @DefaultValue(\"0\") @QueryParam(\"offset\") offset: Int,\n      @DefaultValue(\"20\") @QueryParam(\"length\") length: Int): Seq[ExecutionData] = {"
  }
]