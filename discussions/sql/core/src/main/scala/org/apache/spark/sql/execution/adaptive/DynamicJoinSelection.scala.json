[
  {
    "id" : "69cbc568-9a29-4e64-8f96-e6f92094e9b6",
    "prId" : 32550,
    "prUrl" : "https://github.com/apache/spark/pull/32550#pullrequestreview-667955678",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a99abef0-007a-4a53-8d6e-59b977d3fc73",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "It seems possible that both sides have `PREFER_SHUFFLE_HASH` hint. How do we decide the build side?",
        "createdAt" : "2021-05-25T14:36:04Z",
        "updatedAt" : "2021-05-25T14:36:04Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "793f3dfb-f19b-454c-9866-63ed28c4d396",
        "parentId" : "a99abef0-007a-4a53-8d6e-59b977d3fc73",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "The same question applies to `SHUFFLE_HASH` as well, but that's an existing problem.",
        "createdAt" : "2021-05-25T14:37:07Z",
        "updatedAt" : "2021-05-25T14:37:07Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "6d94e695-abae-408a-9d9b-de65694b3357",
        "parentId" : "a99abef0-007a-4a53-8d6e-59b977d3fc73",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "e.g. `SHUFFLE_HASH(t1, t2)` with an inner join, do we always pick the left side as the build side, even if the right side is smaller?",
        "createdAt" : "2021-05-25T14:47:13Z",
        "updatedAt" : "2021-05-25T14:47:14Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "7d5e9eb7-cc58-40e4-9372-73a2626f220f",
        "parentId" : "a99abef0-007a-4a53-8d6e-59b977d3fc73",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Ah sorry I misread the code. At the end we call `getBuildSide`, and pick the smaller side as the build side, if both sides are be the build side.",
        "createdAt" : "2021-05-25T14:48:45Z",
        "updatedAt" : "2021-05-25T14:48:45Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "67441835-1666-4399-9d6e-10648a2b4b8a",
        "parentId" : "a99abef0-007a-4a53-8d6e-59b977d3fc73",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "yea, and has already added a test before [c747a23](https://github.com/apache/spark/pull/32550/commits/c747a23be0e59bcb7edb6e9bb377d2aed7248c96)",
        "createdAt" : "2021-05-25T15:12:15Z",
        "updatedAt" : "2021-05-25T15:12:15Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "957215452e9df57f5e0424f63556897ea928744f",
    "line" : 87,
    "diffHunk" : "@@ -1,1 +85,89 @@            Some(hint.rightHint.getOrElse(HintInfo()).copy(strategy = Some(strategy))))\n        }\n      }\n      if (newHint.ne(hint)) {\n        j.copy(hint = newHint)"
  }
]