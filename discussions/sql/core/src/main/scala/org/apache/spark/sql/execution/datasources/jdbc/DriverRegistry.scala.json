[
  {
    "id" : "418e4835-39f7-478b-af90-f265215bf14b",
    "prId" : 30024,
    "prUrl" : "https://github.com/apache/spark/pull/30024#pullrequestreview-512338548",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ad73a962-3564-4593-94c7-45813b16240d",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "The change seems okay but why do we need to do? It just moves the codes around.",
        "createdAt" : "2020-10-20T02:29:57Z",
        "updatedAt" : "2020-10-20T02:29:57Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "51e3e86c-fcba-4558-bb2d-328ef3a4adda",
        "parentId" : "ad73a962-3564-4593-94c7-45813b16240d",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "I'm actually in favor of this change - `DriverRegistry` deals with wrapping on register, and this will also let `DriverRegistry` deal with unwrapping on get. `JdbcUtils` no longer needs to know about these details - it just needs to know that it should use `DriverRegistry` instead of `DriverManager`.",
        "createdAt" : "2020-10-20T03:04:37Z",
        "updatedAt" : "2020-10-20T03:04:51Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "d3bc75be-6264-472f-bb09-78edbd3c3d15",
        "parentId" : "ad73a962-3564-4593-94c7-45813b16240d",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "That said, why don't we look up `wrapperMap` before iterating through `DriverManager.getDrivers`?",
        "createdAt" : "2020-10-20T03:07:11Z",
        "updatedAt" : "2020-10-20T03:07:11Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "963ffe6d-50de-44ce-8a19-5e74d23e9e9a",
        "parentId" : "ad73a962-3564-4593-94c7-45813b16240d",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I am okay either way but I more mean that I wanted to know how it relates to the PR description/title and JIRA",
        "createdAt" : "2020-10-20T04:24:56Z",
        "updatedAt" : "2020-10-20T04:24:56Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "52229d83-42e0-4210-a947-6fe55fa3cfc3",
        "parentId" : "ad73a962-3564-4593-94c7-45813b16240d",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "This block actually contains one-line change:\r\n`case d: DriverWrapper if d.wrapped.getClass.getCanonicalName == className => d.wrapped`",
        "createdAt" : "2020-10-20T04:39:30Z",
        "updatedAt" : "2020-10-20T04:39:30Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "0c7af1f8-7903-4c21-a0b0-559d9ecd87b1",
        "parentId" : "ad73a962-3564-4593-94c7-45813b16240d",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "oh! got it",
        "createdAt" : "2020-10-20T05:21:16Z",
        "updatedAt" : "2020-10-20T05:21:16Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "3d7463f8476c4ffa67a39c2a26e124cd49a951f1",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +61,65 @@  }\n\n  def get(className: String): Driver = {\n    DriverManager.getDrivers.asScala.collectFirst {\n      case d: DriverWrapper if d.wrapped.getClass.getCanonicalName == className => d.wrapped"
  }
]