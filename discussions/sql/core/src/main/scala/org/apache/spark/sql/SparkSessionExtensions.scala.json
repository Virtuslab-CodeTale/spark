[
  {
    "id" : "8dab04c4-ef65-4a72-a008-e491f2666066",
    "prId" : 33140,
    "prUrl" : "https://github.com/apache/spark/pull/33140#pullrequestreview-699940066",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "97698593-3590-439c-bd7e-e215c227c3f9",
        "parentId" : null,
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "need to update javadoc above",
        "createdAt" : "2021-07-06T13:16:53Z",
        "updatedAt" : "2021-07-06T13:16:53Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      }
    ],
    "commit" : "0988acdafd41581cd02baa4b339497e6e54e7015",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +112,116 @@  type ColumnarRuleBuilder = SparkSession => ColumnarRule\n  type QueryStagePrepRuleBuilder = SparkSession => Rule[SparkPlan]\n  type PostStageCreationRuleBuilder = SparkSession => Rule[SparkPlan]\n\n  private[this] val columnarRuleBuilders = mutable.Buffer.empty[ColumnarRuleBuilder]"
  },
  {
    "id" : "5f394f76-bf33-4f2c-bbcc-69dc3e286ec3",
    "prId" : 33140,
    "prUrl" : "https://github.com/apache/spark/pull/33140#pullrequestreview-701433275",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c53ffe6a-3c13-4091-beb9-56a9742111a3",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "just for curiosity: do you still need to add custom query stage preparation rules? We can't remove this API right away but we can deprecate it if it's fully replaced by custom post query stage creation rules.",
        "createdAt" : "2021-07-06T17:41:47Z",
        "updatedAt" : "2021-07-06T17:41:47Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e1dc0af5-acd5-4345-8684-6dbc474bf71c",
        "parentId" : "c53ffe6a-3c13-4091-beb9-56a9742111a3",
        "authorId" : "7e060620-bf02-418e-832f-c68dddfa2611",
        "body" : "Yes, we still need to apply rules at the query prep stage. ",
        "createdAt" : "2021-07-07T20:47:01Z",
        "updatedAt" : "2021-07-07T20:47:01Z",
        "lastEditedBy" : "7e060620-bf02-418e-832f-c68dddfa2611",
        "tags" : [
        ]
      }
    ],
    "commit" : "0988acdafd41581cd02baa4b339497e6e54e7015",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +115,119 @@\n  private[this] val columnarRuleBuilders = mutable.Buffer.empty[ColumnarRuleBuilder]\n  private[this] val queryStagePrepRuleBuilders = mutable.Buffer.empty[QueryStagePrepRuleBuilder]\n  private[this] val postStageCreationRuleBuilders =\n    mutable.Buffer.empty[PostStageCreationRuleBuilder]"
  },
  {
    "id" : "7ce2867c-50fd-4d86-a193-6bd9bdb12394",
    "prId" : 30808,
    "prUrl" : "https://github.com/apache/spark/pull/30808#pullrequestreview-556312443",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8bf4adba-8bae-4db1-b418-aef2e17c1bd8",
        "parentId" : null,
        "authorId" : "4a94765a-5775-4d88-b283-6ee68d76ecc7",
        "body" : "I added that the rule will be executed once to the docs.",
        "createdAt" : "2020-12-21T11:28:12Z",
        "updatedAt" : "2020-12-21T11:28:12Z",
        "lastEditedBy" : "4a94765a-5775-4d88-b283-6ee68d76ecc7",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcd0b7c5fa972572d53c8322071b85169d6682ff",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +209,213 @@  /**\n   * Inject an optimizer `Rule` builder that rewrites logical plans into the [[SparkSession]].\n   * The injected rules will be executed once after the operator optimization batch and\n   * before any cost-based optimization rules that depend on stats.\n   */"
  }
]