[
  {
    "id" : "8dab04c4-ef65-4a72-a008-e491f2666066",
    "prId" : 33140,
    "prUrl" : "https://github.com/apache/spark/pull/33140#pullrequestreview-699940066",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "97698593-3590-439c-bd7e-e215c227c3f9",
        "parentId" : null,
        "authorId" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "body" : "need to update javadoc above",
        "createdAt" : "2021-07-06T13:16:53Z",
        "updatedAt" : "2021-07-06T13:16:53Z",
        "lastEditedBy" : "bea80117-7be3-4703-8d54-02b7bf73632c",
        "tags" : [
        ]
      }
    ],
    "commit" : "0988acdafd41581cd02baa4b339497e6e54e7015",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +112,116 @@  type ColumnarRuleBuilder = SparkSession => ColumnarRule\n  type QueryStagePrepRuleBuilder = SparkSession => Rule[SparkPlan]\n  type PostStageCreationRuleBuilder = SparkSession => Rule[SparkPlan]\n\n  private[this] val columnarRuleBuilders = mutable.Buffer.empty[ColumnarRuleBuilder]"
  },
  {
    "id" : "5f394f76-bf33-4f2c-bbcc-69dc3e286ec3",
    "prId" : 33140,
    "prUrl" : "https://github.com/apache/spark/pull/33140#pullrequestreview-701433275",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c53ffe6a-3c13-4091-beb9-56a9742111a3",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "just for curiosity: do you still need to add custom query stage preparation rules? We can't remove this API right away but we can deprecate it if it's fully replaced by custom post query stage creation rules.",
        "createdAt" : "2021-07-06T17:41:47Z",
        "updatedAt" : "2021-07-06T17:41:47Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e1dc0af5-acd5-4345-8684-6dbc474bf71c",
        "parentId" : "c53ffe6a-3c13-4091-beb9-56a9742111a3",
        "authorId" : "7e060620-bf02-418e-832f-c68dddfa2611",
        "body" : "Yes, we still need to apply rules at the query prep stage. ",
        "createdAt" : "2021-07-07T20:47:01Z",
        "updatedAt" : "2021-07-07T20:47:01Z",
        "lastEditedBy" : "7e060620-bf02-418e-832f-c68dddfa2611",
        "tags" : [
        ]
      }
    ],
    "commit" : "0988acdafd41581cd02baa4b339497e6e54e7015",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +115,119 @@\n  private[this] val columnarRuleBuilders = mutable.Buffer.empty[ColumnarRuleBuilder]\n  private[this] val queryStagePrepRuleBuilders = mutable.Buffer.empty[QueryStagePrepRuleBuilder]\n  private[this] val postStageCreationRuleBuilders =\n    mutable.Buffer.empty[PostStageCreationRuleBuilder]"
  },
  {
    "id" : "7ce2867c-50fd-4d86-a193-6bd9bdb12394",
    "prId" : 30808,
    "prUrl" : "https://github.com/apache/spark/pull/30808#pullrequestreview-556312443",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8bf4adba-8bae-4db1-b418-aef2e17c1bd8",
        "parentId" : null,
        "authorId" : "4a94765a-5775-4d88-b283-6ee68d76ecc7",
        "body" : "I added that the rule will be executed once to the docs.",
        "createdAt" : "2020-12-21T11:28:12Z",
        "updatedAt" : "2020-12-21T11:28:12Z",
        "lastEditedBy" : "4a94765a-5775-4d88-b283-6ee68d76ecc7",
        "tags" : [
        ]
      }
    ],
    "commit" : "dcd0b7c5fa972572d53c8322071b85169d6682ff",
    "line" : 27,
    "diffHunk" : "@@ -1,1 +209,213 @@  /**\n   * Inject an optimizer `Rule` builder that rewrites logical plans into the [[SparkSession]].\n   * The injected rules will be executed once after the operator optimization batch and\n   * before any cost-based optimization rules that depend on stats.\n   */"
  },
  {
    "id" : "2829e040-2693-46aa-968d-e5ae258d9edf",
    "prId" : 30577,
    "prUrl" : "https://github.com/apache/spark/pull/30577#pullrequestreview-546056599",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "948200fd-ba65-48f7-a81e-19ddcf515440",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you update the description above, too?\r\nhttps://github.com/apache/spark/blob/29096a8869c95221dc75ce7fd3d098680bef4f55/sql/core/src/main/scala/org/apache/spark/sql/SparkSessionExtensions.scala#L37-L48",
        "createdAt" : "2020-12-07T01:34:49Z",
        "updatedAt" : "2020-12-07T11:23:03Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "6364c9fc-7980-48bb-98f7-cf88e0b94a88",
        "parentId" : "948200fd-ba65-48f7-a81e-19ddcf515440",
        "authorId" : "4a94765a-5775-4d88-b283-6ee68d76ecc7",
        "body" : "Done, thanks for catching this!",
        "createdAt" : "2020-12-07T11:24:07Z",
        "updatedAt" : "2020-12-07T11:24:16Z",
        "lastEditedBy" : "4a94765a-5775-4d88-b283-6ee68d76ecc7",
        "tags" : [
        ]
      }
    ],
    "commit" : "6b38928a7a72862a9b2408dfc931d0ef5961b466",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +200,204 @@    optimizerRules += builder\n  }\n\n  private[this] val dataSourceRewriteRules = mutable.Buffer.empty[RuleBuilder]\n"
  },
  {
    "id" : "0b739aaf-1b9d-4e10-b9f3-3a0a903ed7c9",
    "prId" : 29224,
    "prUrl" : "https://github.com/apache/spark/pull/29224#pullrequestreview-455003126",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "815c695e-8c00-4978-aeaa-296468ed834b",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Please update the document (at line 47) accordingly.",
        "createdAt" : "2020-07-24T15:38:39Z",
        "updatedAt" : "2020-07-24T15:50:57Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "e77a440d-352f-4843-98d0-a1581c55b6f0",
        "parentId" : "815c695e-8c00-4978-aeaa-296468ed834b",
        "authorId" : "7e060620-bf02-418e-832f-c68dddfa2611",
        "body" : "Thanks. I pushed an update for this.",
        "createdAt" : "2020-07-24T15:57:45Z",
        "updatedAt" : "2020-07-24T15:57:45Z",
        "lastEditedBy" : "7e060620-bf02-418e-832f-c68dddfa2611",
        "tags" : [
        ]
      }
    ],
    "commit" : "182d4f93e20a359ea42620eaf054b3d74c1ab746",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +98,102 @@  type FunctionDescription = (FunctionIdentifier, ExpressionInfo, FunctionBuilder)\n  type ColumnarRuleBuilder = SparkSession => ColumnarRule\n  type QueryStagePrepRuleBuilder = SparkSession => Rule[SparkPlan]\n\n  private[this] val columnarRuleBuilders = mutable.Buffer.empty[ColumnarRuleBuilder]"
  },
  {
    "id" : "8698f061-1a20-4418-96df-99dec4af3a90",
    "prId" : 29224,
    "prUrl" : "https://github.com/apache/spark/pull/29224#pullrequestreview-468250342",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "60d86feb-53ec-42ef-afd4-220a264ebba1",
        "parentId" : null,
        "authorId" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "body" : "This is a public API. I think we also need to add a version information.\r\n\r\n",
        "createdAt" : "2020-08-17T03:06:36Z",
        "updatedAt" : "2020-08-17T03:06:36Z",
        "lastEditedBy" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "tags" : [
        ]
      },
      {
        "id" : "0c792df7-1254-4068-a52f-9557de69530c",
        "parentId" : "60d86feb-53ec-42ef-afd4-220a264ebba1",
        "authorId" : "80d631a6-73e8-46a6-a01b-a80d1f1cc6cc",
        "body" : "It is marked as unstable and experimental. Do we need to add version information in that case? I am fine with doing so, but then we should add it everywhere.",
        "createdAt" : "2020-08-17T08:05:09Z",
        "updatedAt" : "2020-08-17T08:05:09Z",
        "lastEditedBy" : "80d631a6-73e8-46a6-a01b-a80d1f1cc6cc",
        "tags" : [
        ]
      }
    ],
    "commit" : "182d4f93e20a359ea42620eaf054b3d74c1ab746",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +98,102 @@  type FunctionDescription = (FunctionIdentifier, ExpressionInfo, FunctionBuilder)\n  type ColumnarRuleBuilder = SparkSession => ColumnarRule\n  type QueryStagePrepRuleBuilder = SparkSession => Rule[SparkPlan]\n\n  private[this] val columnarRuleBuilders = mutable.Buffer.empty[ColumnarRuleBuilder]"
  },
  {
    "id" : "7539c523-8fa9-492a-95d6-b96a4dbe21d2",
    "prId" : 29224,
    "prUrl" : "https://github.com/apache/spark/pull/29224#pullrequestreview-468140618",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8201ed3b-0277-4ad6-84de-e381b6d06ebd",
        "parentId" : null,
        "authorId" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "body" : "Nit: the the => the ",
        "createdAt" : "2020-08-17T03:07:18Z",
        "updatedAt" : "2020-08-17T03:07:18Z",
        "lastEditedBy" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "tags" : [
        ]
      }
    ],
    "commit" : "182d4f93e20a359ea42620eaf054b3d74c1ab746",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +125,129 @@\n  /**\n   * Inject a rule that can override the the query stage preparation phase of adaptive query\n   * execution.\n   */"
  }
]