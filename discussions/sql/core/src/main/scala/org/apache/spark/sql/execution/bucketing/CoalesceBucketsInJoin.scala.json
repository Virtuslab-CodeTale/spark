[
  {
    "id" : "c6337b55-a099-43e7-a7ac-3e6b2e98eb03",
    "prId" : 29079,
    "prUrl" : "https://github.com/apache/spark/pull/29079#pullrequestreview-452704222",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fac8bb44-46ad-4e25-a9c8-3f4997755dbf",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "\"The order doesn't matter\", looks correct. But I'm not sure why it is related to `EnsureRequirements`? `EnsureRequirements` should not modify the order of hash partitioning expressions.",
        "createdAt" : "2020-07-21T16:25:03Z",
        "updatedAt" : "2020-07-21T16:58:06Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "b6caf3b0-1d88-4d4a-a3bd-7e681933db51",
        "parentId" : "fac8bb44-46ad-4e25-a9c8-3f4997755dbf",
        "authorId" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "body" : "@viirya - [`EnsureRequirements. reorderJoinPredicates`](https://github.com/apache/spark/blob/master/sql/core/src/main/scala/org/apache/spark/sql/execution/exchange/EnsureRequirements.scala#L194) will reorder join keys to match children output partitioning. BTW this was a comment added in #28123, and I am doing some refactoring here.",
        "createdAt" : "2020-07-21T16:31:23Z",
        "updatedAt" : "2020-07-21T16:58:06Z",
        "lastEditedBy" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "tags" : [
        ]
      },
      {
        "id" : "edead12c-b8e3-48e6-b83a-17f4e6f209ee",
        "parentId" : "fac8bb44-46ad-4e25-a9c8-3f4997755dbf",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Oh, I see. Missed that part. Yeah, it is correct that we need to reorder it to make sure the required distribution is met.",
        "createdAt" : "2020-07-21T17:54:23Z",
        "updatedAt" : "2020-07-21T17:54:24Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "278abe53-8f23-44bc-bfee-5081ddd0ccef",
        "parentId" : "fac8bb44-46ad-4e25-a9c8-3f4997755dbf",
        "authorId" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "body" : "@viirya - yes, no worries, thanks for careful review on this.",
        "createdAt" : "2020-07-21T18:03:16Z",
        "updatedAt" : "2020-07-21T18:03:16Z",
        "lastEditedBy" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "tags" : [
        ]
      }
    ],
    "commit" : "b1a8a927f283b095716a638a26f9c5d5e9cc380c",
    "line" : 135,
    "diffHunk" : "@@ -1,1 +133,137 @@  /**\n   * The join keys should match with expressions for output partitioning. Note that\n   * the ordering does not matter because it will be handled in `EnsureRequirements`.\n   */\n  private def satisfiesOutputPartitioning("
  }
]