[
  {
    "id" : "b8487eef-358f-429a-86d1-a92516a41572",
    "prId" : 28781,
    "prUrl" : "https://github.com/apache/spark/pull/28781#pullrequestreview-436238934",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d2fb2c6-ce16-4aa9-8002-4870f5364db5",
        "parentId" : null,
        "authorId" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "body" : "Make `sparkListenerBus `optional. When loaded by History Server, spark use the `ReplayListenerBus` instead of `LiveListenerBus`. In live ui, streaming query post the event into `StreamingQueryListenerBus`, and the `StreamingQueryListenerBus` will post these events into `LiveListenerBus`. `StreamingQueryListenerBus` also subscribes to `LiveListenerBus` events thus getting back the posted event in a different thread. In history ui, `StreamingQueryListenerBus` will subscribes to the `ReplayListenerBus`, and process those events through `onOtherEvent()` directly.",
        "createdAt" : "2020-06-10T09:21:50Z",
        "updatedAt" : "2020-12-02T03:57:49Z",
        "lastEditedBy" : "49d9f262-8467-4955-9309-d5e793a4e15e",
        "tags" : [
        ]
      },
      {
        "id" : "491d704c-57b0-44fa-a7be-9d68112880f5",
        "parentId" : "8d2fb2c6-ce16-4aa9-8002-4870f5364db5",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Nit: how about keep `live: Boolean` here to divide the live and history scenario explicitly?",
        "createdAt" : "2020-06-11T01:01:37Z",
        "updatedAt" : "2020-12-02T03:57:49Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      },
      {
        "id" : "3e9ac733-62bc-4d40-9198-901d1bc8af97",
        "parentId" : "8d2fb2c6-ce16-4aa9-8002-4870f5364db5",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "@uncleGen Could you update the comment for `StreamingQueryListenerBus`?",
        "createdAt" : "2020-06-24T00:04:15Z",
        "updatedAt" : "2020-12-02T03:57:49Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      }
    ],
    "commit" : "e2758d76a05a9793147b95d83e63118eee5f2d4f",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +41,45 @@ * replay all streaming query event from eventLog.\n */\nclass StreamingQueryListenerBus(sparkListenerBus: Option[LiveListenerBus])\n  extends SparkListener with ListenerBus[StreamingQueryListener, StreamingQueryListener.Event] {\n"
  }
]