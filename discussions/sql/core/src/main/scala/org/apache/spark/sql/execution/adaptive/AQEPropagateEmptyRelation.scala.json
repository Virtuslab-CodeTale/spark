[
  {
    "id" : "8ceebd65-8607-4611-9dac-362337eec53b",
    "prId" : 32742,
    "prUrl" : "https://github.com/apache/spark/pull/32742#pullrequestreview-687077182",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6acc0f2-555a-4cdc-8567-f154bd06ada1",
        "parentId" : null,
        "authorId" : "8b518862-583d-43a2-a10e-b33ef1b6d824",
        "body" : "This looks correct, but may not have good pruning power?  How about:\r\n\r\nt = > t.containsAllPatterns(LOGICAL_QUERY_STAGE, JOIN, AND_OR, NULL_CHECK)\r\n      || t.containsAnyPatterns(LOCAL_RELATION, TRUE_OR_FALSE_LITERAL)\r\n\r\nThe first condition covers eliminateSingleColumnNullAwareAntiJoin while the second covers commonApplyFunc.",
        "createdAt" : "2021-06-18T06:47:39Z",
        "updatedAt" : "2021-06-18T06:49:54Z",
        "lastEditedBy" : "8b518862-583d-43a2-a10e-b33ef1b6d824",
        "tags" : [
        ]
      }
    ],
    "commit" : "1e28a8fa65a016dc4c7aa64b601e3ed3a6a6b0b7",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +61,65 @@    // and `AQEPropagateEmptyRelation.eliminateSingleColumnNullAwareAntiJoin`\n    // Note that, We can not specify ruleId here since the LogicalQueryStage is not immutable.\n    _.containsAnyPattern(LOGICAL_QUERY_STAGE, LOCAL_RELATION, TRUE_OR_FALSE_LITERAL)) {\n    eliminateSingleColumnNullAwareAntiJoin.orElse(commonApplyFunc)\n  }"
  }
]