[
  {
    "id" : "e31dfb53-1f53-4a75-a204-e9ce7aea1f7c",
    "prId" : 31451,
    "prUrl" : "https://github.com/apache/spark/pull/31451#pullrequestreview-636929725",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ddbcf9d0-8b21-4b9d-b947-625b83a766e1",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "nit: this can be merged to the line above.",
        "createdAt" : "2021-04-15T10:34:21Z",
        "updatedAt" : "2021-04-20T06:45:33Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "7700e044-ada6-45f6-93b9-6e8a2df978c4",
        "parentId" : "ddbcf9d0-8b21-4b9d-b947-625b83a766e1",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "merged.",
        "createdAt" : "2021-04-15T17:05:02Z",
        "updatedAt" : "2021-04-20T06:45:33Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "06eb9c79a3fdd807ec08540deb2234939396325a",
    "line" : 92,
    "diffHunk" : "@@ -1,1 +291,295 @@    val aggregatedMetrics = allMetrics.map { case (id, values) =>\n      id -> metricAggregationMethods(id)(values, maxMetricsFromAllStages.getOrElse(id,\n        Array.empty[Long]))\n    }.toMap\n"
  },
  {
    "id" : "c6f3cad2-9f5a-4441-9ee4-790af5aabef0",
    "prId" : 26821,
    "prUrl" : "https://github.com/apache/spark/pull/26821#pullrequestreview-331022756",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d04e343d-862c-46c9-89bb-b32a28bf37ec",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "I think this should be after `foreach` statement.",
        "createdAt" : "2019-12-12T09:09:27Z",
        "updatedAt" : "2019-12-12T09:24:31Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "b6b2c5a3cc46d25595bfa7e187846187dd5ac806",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +69,73 @@        exec.metricsValues = aggregateMetrics(exec)\n        exec.write(kvstore, now)\n        if (appId != null) {\n          kvstore.write(new SQLAppStatusListenerData(appId, attemptId,\n            liveExecutions, stageMetrics))"
  },
  {
    "id" : "92b8d466-99a4-432b-99da-6cb83a14f5ba",
    "prId" : 26821,
    "prUrl" : "https://github.com/apache/spark/pull/26821#pullrequestreview-331022756",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b2e90c3b-e633-4534-9d17-a2204a6f7bb8",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "same here",
        "createdAt" : "2019-12-12T09:09:45Z",
        "updatedAt" : "2019-12-12T09:22:06Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "b6b2c5a3cc46d25595bfa7e187846187dd5ac806",
    "line" : 30,
    "diffHunk" : "@@ -1,1 +79,83 @@  def initialize(appId: String, attemptId: Option[String]): Unit = {\n    if (!live) {\n      this.appId = appId\n      this.attemptId = attemptId\n      try {"
  },
  {
    "id" : "501ec94e-b352-4b59-abbb-3794f95247e2",
    "prId" : 26821,
    "prUrl" : "https://github.com/apache/spark/pull/26821#pullrequestreview-331022756",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ebd7b438-b499-4f89-842a-ea3cde2a488d",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "exec.metricsValues may need to be reset to null, see comment on `kvstore.onFlush`",
        "createdAt" : "2019-12-12T09:10:49Z",
        "updatedAt" : "2019-12-12T09:22:06Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "b6b2c5a3cc46d25595bfa7e187846187dd5ac806",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +85,89 @@          Array(Some(appId), attemptId))\n        listenerData.liveExecutions.entrySet().asScala.foreach { entry =>\n          liveExecutions.put(entry.getKey, entry.getValue)\n        }\n        listenerData.stageMetrics.entrySet().asScala.foreach { entry =>"
  }
]