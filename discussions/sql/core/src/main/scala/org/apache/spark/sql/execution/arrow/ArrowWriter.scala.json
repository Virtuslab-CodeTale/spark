[
  {
    "id" : "9f1ede4c-67da-45e5-871b-53fb31dd7908",
    "prId" : 31285,
    "prUrl" : "https://github.com/apache/spark/pull/31285#pullrequestreview-575682078",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fc5d600e-9809-40c9-b526-68ab227b525e",
        "parentId" : null,
        "authorId" : "43998e22-6c2f-401d-9914-8cecf6fad929",
        "body" : "As `NullVector` has a fixed field name `\"$data$\"` for some reason, we have to refer the schema from `VectorSchemaRoot` instead.",
        "createdAt" : "2021-01-22T01:52:32Z",
        "updatedAt" : "2021-01-22T01:52:32Z",
        "lastEditedBy" : "43998e22-6c2f-401d-9914-8cecf6fad929",
        "tags" : [
        ]
      },
      {
        "id" : "8a7c225c-7941-4da1-aba7-4c2cc82bf13e",
        "parentId" : "fc5d600e-9809-40c9-b526-68ab227b525e",
        "authorId" : "0c293c45-22a6-4358-8a40-adbf7c470575",
        "body" : "This shouldn't be the case. I made https://issues.apache.org/jira/browse/ARROW-11382 to be able to change the field name. It's probably better to create from the schema as you did here anyway though.",
        "createdAt" : "2021-01-25T18:20:53Z",
        "updatedAt" : "2021-01-25T18:21:09Z",
        "lastEditedBy" : "0c293c45-22a6-4358-8a40-adbf7c470575",
        "tags" : [
        ]
      }
    ],
    "commit" : "419bb920cafd975404f764cf5a33aedd991ec42f",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +82,86 @@class ArrowWriter(val root: VectorSchemaRoot, fields: Array[ArrowFieldWriter]) {\n\n  def schema: StructType = ArrowUtils.fromArrowSchema(root.getSchema())\n\n  private var count: Int = 0"
  },
  {
    "id" : "6086f626-03c1-4753-81b4-96778048c07d",
    "prId" : 26512,
    "prUrl" : "https://github.com/apache/spark/pull/26512#pullrequestreview-321894888",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c717d251-fe77-487c-9581-46fd6642a974",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "can't we set null for a map vector?",
        "createdAt" : "2019-11-22T07:23:45Z",
        "updatedAt" : "2019-12-18T07:20:58Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "f00a4223-d464-44bb-90af-a9fae7782817",
        "parentId" : "c717d251-fe77-487c-9581-46fd6642a974",
        "authorId" : "0cfab362-97a8-4db7-9914-48f37816e889",
        "body" : "map vector implemented as an extension of list vector. it is represented as list of struct. it seems we can not set key as null. I found following comments in code,  \r\n```\r\nif a map is set at a given index, there must be an entry. In other words, the StructVector data is non-nullable. \r\n```\r\n\r\n- https://github.com/apache/arrow/blob/master/java/vector/src/main/java/org/apache/arrow/vector/complex/MapVector.java#L36",
        "createdAt" : "2019-11-23T05:14:34Z",
        "updatedAt" : "2019-12-18T07:20:58Z",
        "lastEditedBy" : "0cfab362-97a8-4db7-9914-48f37816e889",
        "tags" : [
        ]
      }
    ],
    "commit" : "76b2a93f92c6e29ad8889811d60ea7c608421963",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +355,359 @@    val valueWriter: ArrowFieldWriter) extends ArrowFieldWriter {\n\n  override def setNull(): Unit = {}\n\n  override def setValue(input: SpecializedGetters, ordinal: Int): Unit = {"
  }
]