[
  {
    "id" : "69bb6320-518e-4239-8080-fa6e5558c4c9",
    "prId" : 25703,
    "prUrl" : "https://github.com/apache/spark/pull/25703#pullrequestreview-284628391",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "09972917-bf6d-4ebe-afa7-3528ab5977c2",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "we can avoid `var`?\r\n```\r\n      val maybeNewHint = if (!hint.leftHint.exists(_.strategy.isDefined) && shouldDemote(left)) {\r\n        hint.copy(leftHint =\r\n          Some(hint.leftHint.getOrElse(HintInfo()).copy(strategy = Some(NO_BROADCAST_HASH))))\r\n      } else if (!hint.rightHint.exists(_.strategy.isDefined) && shouldDemote(right)) {\r\n        hint.copy(rightHint =\r\n          Some(hint.rightHint.getOrElse(HintInfo()).copy(strategy = Some(NO_BROADCAST_HASH))))\r\n      } else {\r\n        hint\r\n      }\r\n      if (maybeNewHint.ne(hint)) {\r\n        j.copy(hint = maybeNewHint)\r\n      } else {\r\n        j\r\n      }\r\n```",
        "createdAt" : "2019-09-05T23:52:46Z",
        "updatedAt" : "2019-09-06T13:27:00Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "c2474447-23e2-470e-bea2-ff5d4ab5fe13",
        "parentId" : "09972917-bf6d-4ebe-afa7-3528ab5977c2",
        "authorId" : "4916859c-0e27-4e9d-ac39-ad95bc1382d3",
        "body" : "You might have misunderstood the logic here. Left and right aren't exclusive here, so it's not an \"if-else\" logic. ",
        "createdAt" : "2019-09-06T02:21:30Z",
        "updatedAt" : "2019-09-06T13:27:00Z",
        "lastEditedBy" : "4916859c-0e27-4e9d-ac39-ad95bc1382d3",
        "tags" : [
        ]
      },
      {
        "id" : "abaaf1c6-b591-45cb-aa28-3aecafdd5f87",
        "parentId" : "09972917-bf6d-4ebe-afa7-3528ab5977c2",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Ur, I see.",
        "createdAt" : "2019-09-06T02:25:44Z",
        "updatedAt" : "2019-09-06T13:27:00Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "4b011ab3570f3d9ae3f30e88987cd05a47ec1a87",
    "line" : 45,
    "diffHunk" : "@@ -1,1 +43,47 @@  def apply(plan: LogicalPlan): LogicalPlan = plan.transformDown {\n    case j @ Join(left, right, _, _, hint) =>\n      var newHint = hint\n      if (!hint.leftHint.exists(_.strategy.isDefined) && shouldDemote(left)) {\n        newHint = newHint.copy(leftHint ="
  }
]