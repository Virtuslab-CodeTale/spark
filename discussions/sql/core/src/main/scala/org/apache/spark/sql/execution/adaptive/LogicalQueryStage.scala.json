[
  {
    "id" : "7c478e40-832b-4f41-8185-d0d05c327c54",
    "prId" : 33651,
    "prUrl" : "https://github.com/apache/spark/pull/33651#pullrequestreview-723950484",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc77451c-2bf8-4542-870b-3d912775f29b",
        "parentId" : null,
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "If there is other physical nodes above `QueryStageExec` the stats is not accurate. Seems the only node can exist here is aggregate, so the maxRows is still accurate.",
        "createdAt" : "2021-08-06T02:59:09Z",
        "updatedAt" : "2021-08-06T02:59:10Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      },
      {
        "id" : "7923bf99-1286-4417-aee9-6e49b245f230",
        "parentId" : "cc77451c-2bf8-4542-870b-3d912775f29b",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "We should trust the existing framework. If the `maxRows` stats can be wrong, then `EliminateLimits` is also wrong even without AQE.\r\n\r\nI don't think we need to highlight `LogicalQueryStage` in the doc of `EliminateLimits`. We just need to follow the existing framework and make sure the `maxRows` is not under-estimated.",
        "createdAt" : "2021-08-06T03:11:55Z",
        "updatedAt" : "2021-08-06T03:11:56Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "2b697c30-da1b-47af-a38a-2c94799c1d1e",
        "parentId" : "cc77451c-2bf8-4542-870b-3d912775f29b",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "OK, cleaned the comment of `EliminateLimits `",
        "createdAt" : "2021-08-06T03:23:52Z",
        "updatedAt" : "2021-08-06T03:23:52Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f28a37f420f781486c3e8c102156e02d9f830d7",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +56,60 @@  }\n\n  override def maxRows: Option[Long] = stats.rowCount.map(_.min(Long.MaxValue).toLong)\n}"
  }
]