[
  {
    "id" : "1711a3b2-b745-496f-a68d-048e17a842ff",
    "prId" : 30812,
    "prUrl" : "https://github.com/apache/spark/pull/30812#pullrequestreview-555135811",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "83bc9602-f7e7-4d2f-8842-c2a1d7eb4bcb",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "If I understand correctly, we can simply do the round robin and achieve the same thing. \r\n\r\nInitialize the new immutable array or list from `context.getExecutorIds()` (if `context.getExecutorIds()` is also immutable this is also not necessary as well), and have a variable for index while would move by one per assignment (like `++idx % count`).",
        "createdAt" : "2020-12-18T02:07:13Z",
        "updatedAt" : "2020-12-18T17:37:24Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "d4e7735b-7350-423b-8685-34de47df2634",
        "parentId" : "83bc9602-f7e7-4d2f-8842-c2a1d7eb4bcb",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Btw, what we'd like to achieve is trying to distribute state across all executors, then this PR looks to miss accounting executors containing active state. We'll want to also increase the count for the case `stateStoreLocs` is available as well. Probably better than simple round robin.",
        "createdAt" : "2020-12-18T02:14:55Z",
        "updatedAt" : "2020-12-18T17:37:24Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "4013c24f-9099-4055-af0c-1e097dcb5891",
        "parentId" : "83bc9602-f7e7-4d2f-8842-c2a1d7eb4bcb",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Good point. I will update this.",
        "createdAt" : "2020-12-18T02:41:28Z",
        "updatedAt" : "2020-12-18T17:37:24Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "3dd75b138eb7d43e196162178ecd9cabdfc5460e",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +215,219 @@      extends ZippedPartitionsBaseRDD[V](sc, List(rdd1, rdd2)) {\n\n    lazy private val executorMap: mutable.HashMap[String, Int] = {\n      val map = mutable.HashMap.empty[String, Int]\n      context.getExecutorIds().map(map(_) = 0)"
  }
]