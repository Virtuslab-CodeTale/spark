[
  {
    "id" : "8358adc7-eefe-4366-8095-9764528c570b",
    "prId" : 31638,
    "prUrl" : "https://github.com/apache/spark/pull/31638#pullrequestreview-649705386",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0909b6d4-8c48-434a-a601-526cf2f1ecd7",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "This looks to be different from 2.4:\r\n\r\nhttps://github.com/apache/spark/blob/branch-2.4/sql/core/src/main/scala/org/apache/spark/sql/execution/streaming/FileStreamSink.scala\r\n\r\nDo you have specific exceptions to catch here? I can't imagine any SparkException from above logic.",
        "createdAt" : "2021-04-26T01:18:41Z",
        "updatedAt" : "2021-05-06T08:34:32Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "b85daffe-32e4-495f-b641-687547f9c2f5",
        "parentId" : "0909b6d4-8c48-434a-a601-526cf2f1ecd7",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "This is added for fixing the UT `org.apache.spark.sql.streaming.StreamingQuerySuite.detect escaped path and report the migration guide`, which expects to have a SparkException thrown in `checkEscapedMetadataPath`.",
        "createdAt" : "2021-04-30T13:21:25Z",
        "updatedAt" : "2021-05-06T08:34:32Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      },
      {
        "id" : "844873f6-45e6-462e-8434-6bdc71b4080c",
        "parentId" : "0909b6d4-8c48-434a-a601-526cf2f1ecd7",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Ah OK I've missed that `checkEscapedMetadataPath` throws SparkException. My bad.",
        "createdAt" : "2021-05-01T01:52:33Z",
        "updatedAt" : "2021-05-06T08:34:32Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa42b0fb48270ba75e454f37b7ae654edd296696",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +53,57 @@          }\n        } catch {\n          case e: SparkException => throw e\n          case NonFatal(e) =>\n            logWarning(s\"Assume no metadata directory. Error while looking for \" +"
  }
]