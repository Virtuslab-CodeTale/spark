[
  {
    "id" : "ad228587-c7ab-4e70-b6ff-22ef85c14674",
    "prId" : 26548,
    "prUrl" : "https://github.com/apache/spark/pull/26548#pullrequestreview-318830276",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1c7ade1a-2eb0-4fd1-9d01-e1b51fabff4c",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "for better perf, shall we move the if out of the while loop? e.g.\r\n```\r\nif (LITTLE_ENDIAN) {\r\n  while ...\r\n    return Long.compareUnsigned(Long.reverseBytes(v1), Long.reverseBytes(v2))\r\n} else {\r\n  while ...\r\n    return Long.compareUnsigned(v1, v2);\r\n}\r\n```",
        "createdAt" : "2019-11-18T16:10:24Z",
        "updatedAt" : "2019-11-19T03:02:40Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "8f1b22e6-6077-47cc-9ef9-fa741f819a10",
        "parentId" : "1c7ade1a-2eb0-4fd1-9d01-e1b51fabff4c",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "hmm maybe doesn't matter as it's a constant. cc @kiszk @rednaxelafx ",
        "createdAt" : "2019-11-18T16:13:05Z",
        "updatedAt" : "2019-11-19T03:02:40Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "76f0ba94-1eff-40cf-a375-c6db5901ebf2",
        "parentId" : "1c7ade1a-2eb0-4fd1-9d01-e1b51fabff4c",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Probably won't matter much as this executes only once per comparison, when we know it's going to stop one way or the other.",
        "createdAt" : "2019-11-18T16:25:23Z",
        "updatedAt" : "2019-11-19T03:02:40Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "8108e45b-f165-45da-9c4c-986a74456c9c",
        "parentId" : "1c7ade1a-2eb0-4fd1-9d01-e1b51fabff4c",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ah you are right. then nvm",
        "createdAt" : "2019-11-18T17:07:53Z",
        "updatedAt" : "2019-11-19T03:02:40Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "6807a5b8-c0b0-4cf9-9bc0-235ad5a58bbc",
        "parentId" : "1c7ade1a-2eb0-4fd1-9d01-e1b51fabff4c",
        "authorId" : "3a12ce0f-9e73-4cfb-a4b4-b19368cddc2f",
        "body" : "Just to note: `LITTLE_ENDIAN` is declared as `static final boolean` here, which allows it to be a JIT-compile-time constant, so during JIT compilation this condition check can be completely folded away. So don't worry about it.",
        "createdAt" : "2019-11-19T07:37:01Z",
        "updatedAt" : "2019-11-19T07:37:02Z",
        "lastEditedBy" : "3a12ce0f-9e73-4cfb-a4b4-b19368cddc2f",
        "tags" : [
        ]
      }
    ],
    "commit" : "753883d7f84552c7392295aa42f5023c0909c615",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +58,62 @@        long v2 = Platform.getLong(rightObj, rightOff + i);\n        if (v1 != v2) {\n          if (LITTLE_ENDIAN) {\n            // if read as little-endian, we have to reverse bytes so that the long comparison result\n            // is equivalent to byte-by-byte comparison result."
  }
]