[
  {
    "id" : "978e1342-6d2d-47fa-bf4d-8174a68724e2",
    "prId" : 33006,
    "prUrl" : "https://github.com/apache/spark/pull/33006#pullrequestreview-690233633",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d6769cba-1cb6-4229-bb6d-5c82ba82cdda",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "To avoid boxing, we can assign the valueCount to a local variale and return it, e.g.\r\n```\r\nint pageValueCount = 0;\r\npage.accept(new DataPage.Visitor<Integer>() {\r\n  ...\r\n  pageValueCount = readPageV1(dataPageV1);\r\n  return null;\r\n  ...\r\n}\r\nreturn pageValueCount;\r\n```",
        "createdAt" : "2021-06-22T07:45:58Z",
        "updatedAt" : "2021-06-22T07:45:59Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "24cd5b23-907f-447b-a66b-73d55f53a758",
        "parentId" : "d6769cba-1cb6-4229-bb6d-5c82ba82cdda",
        "authorId" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "body" : "I'm not sure you can do that, since the variable has to be final in order to be accessed within inner class.\r\n\r\nAlso it probably doesn't matter that much since this is not the hot path (I'm very tempted to remove the visitor pattern here though...)",
        "createdAt" : "2021-06-22T17:08:15Z",
        "updatedAt" : "2021-06-22T17:08:15Z",
        "lastEditedBy" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "tags" : [
        ]
      },
      {
        "id" : "fe0cd474-6a1c-4bbc-8fa4-9e10e6960c4e",
        "parentId" : "d6769cba-1cb6-4229-bb6d-5c82ba82cdda",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ah I see, let's leave it then.",
        "createdAt" : "2021-06-23T05:48:00Z",
        "updatedAt" : "2021-06-23T05:48:00Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "f5e97b77005456894cce6e01bc54160ee0cf1d01",
    "line" : 154,
    "diffHunk" : "@@ -1,1 +216,220 @@    return page.accept(new DataPage.Visitor<Integer>() {\n      @Override\n      public Integer visit(DataPageV1 dataPageV1) {\n        try {\n          return readPageV1(dataPageV1);"
  },
  {
    "id" : "50eb80ec-3fd3-4054-841c-f00f2d9ae481",
    "prId" : 32753,
    "prUrl" : "https://github.com/apache/spark/pull/32753#pullrequestreview-694469249",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fbdff462-7b1c-4072-818a-99c531673ae0",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Hmm, based on the comment (`rowId != 0`) below, do we need to update it? ",
        "createdAt" : "2021-06-28T23:22:31Z",
        "updatedAt" : "2021-06-28T23:22:31Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "556e7e25-2322-40bc-853b-6e65463b19f2",
        "parentId" : "fbdff462-7b1c-4072-818a-99c531673ae0",
        "authorId" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "body" : "Oh yeah, I need to update the comment too",
        "createdAt" : "2021-06-28T23:25:35Z",
        "updatedAt" : "2021-06-28T23:25:35Z",
        "lastEditedBy" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "tags" : [
        ]
      }
    ],
    "commit" : "6541d99bd6788ae7ee3da1ccc76d30e9b39b9cb5",
    "line" : 64,
    "diffHunk" : "@@ -1,1 +180,184 @@        // TIMESTAMP_MILLIS encoded as INT64 can't be lazily decoded as we need to post process\n        // the values to add microseconds precision.\n        if (column.hasDictionary() || (startRowId == pageFirstRowIndex &&\n            isLazyDecodingSupported(typeName))) {\n          // Column vector supports lazy decoding of dictionary values so just set the dictionary."
  }
]