[
  {
    "id" : "bdb49568-aef6-435c-9ebf-5d97aeffde22",
    "prId" : 24990,
    "prUrl" : "https://github.com/apache/spark/pull/24990#pullrequestreview-391343805",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "36372b66-322e-4a12-905d-37b87a095c52",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I came from the PR you pointed out. Why is it `state`? Can batch query use this source?",
        "createdAt" : "2020-04-09T12:20:14Z",
        "updatedAt" : "2020-12-14T04:55:26Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "2188e224-1914-4759-80b8-84389188f6be",
        "parentId" : "36372b66-322e-4a12-905d-37b87a095c52",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "\"state\" is the one of the \"terms\" of \"structured streaming\" (not actually tied to structured streaming but tied to recent streaming technology). It's being created and used from structured streaming, but there're some cases we want to modify the state \"outside\" of the streaming query, like changing schema, repartitioning, etc. This data source will allow \"batch query\" to do it. (So the data source is not even designed to use from streaming query by intention.)",
        "createdAt" : "2020-04-09T22:45:36Z",
        "updatedAt" : "2020-12-14T04:55:26Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "996fc128-5dfb-4d8d-8a86-5b31b84d757b",
        "parentId" : "36372b66-322e-4a12-905d-37b87a095c52",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I see. So, it's designed for batch query for the state generated from structured streaming.\r\n@HeartSaVioR, could I ask to post a working example in PR or JIRA description? I think one working example will clarify what this source/PR targets.",
        "createdAt" : "2020-04-10T07:51:04Z",
        "updatedAt" : "2020-12-14T04:55:26Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "612071bb-1dff-4a39-87e4-163d3580f3a4",
        "parentId" : "36372b66-322e-4a12-905d-37b87a095c52",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "I would do when I get any actual reviewer who is willing to be a shepherd on this issue - the only request I got for this feature was asking for SPIP.\r\n\r\nhttps://github.com/HeartSaVioR/spark-state-tools\r\n\r\nAbove repository contains entire functionalities (though it's tied to Spark 2.4 and some weird usage because Spark doesn't provide schema information) and explanation.",
        "createdAt" : "2020-04-10T07:54:46Z",
        "updatedAt" : "2020-12-14T04:55:26Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "0710b8a3-04cb-4044-a14f-ed7b8420d308",
        "parentId" : "36372b66-322e-4a12-905d-37b87a095c52",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I was thinking showing an example can actually clarify the importance of this source easily and hopefully we can get more review and attention. But okay, we can wait for the review first too.",
        "createdAt" : "2020-04-10T09:01:14Z",
        "updatedAt" : "2020-12-14T04:55:26Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "a495f6d56411f2f3bb1e271babe9efad008b3959",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +6,10 @@org.apache.spark.sql.execution.datasources.v2.parquet.ParquetDataSourceV2\norg.apache.spark.sql.execution.datasources.v2.text.TextDataSourceV2\norg.apache.spark.sql.execution.datasources.v2.state.StateDataSourceV2\norg.apache.spark.sql.execution.streaming.ConsoleSinkProvider\norg.apache.spark.sql.execution.streaming.sources.RateStreamProvider"
  }
]