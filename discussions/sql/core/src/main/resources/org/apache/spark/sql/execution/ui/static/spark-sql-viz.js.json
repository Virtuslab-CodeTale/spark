[
  {
    "id" : "9c24603d-af39-43ac-8f3f-4572127c0068",
    "prId" : 28333,
    "prUrl" : "https://github.com/apache/spark/pull/28333#pullrequestreview-400429686",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4cf7be64-6a87-45a6-a389-490271ed7cde",
        "parentId" : null,
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "Nice catch. Thanks!",
        "createdAt" : "2020-04-25T11:30:37Z",
        "updatedAt" : "2020-04-25T11:57:46Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "61c06a14-98db-43ec-9439-e971036ce810",
        "parentId" : "4cf7be64-6a87-45a6-a389-490271ed7cde",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Is this a bug fix that needs to be backported?",
        "createdAt" : "2020-04-25T13:33:16Z",
        "updatedAt" : "2020-04-25T13:33:16Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "898df367-d84f-464b-8353-3222bacf3221",
        "parentId" : "4cf7be64-6a87-45a6-a389-490271ed7cde",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "I think it's not a bug but improvement to avoid `$(\"#stageId-and-taskId-checkboc\")` twice.\r\nThis is introduced by #28039 and merged into `master` and `branch-3.0` so I think it's better to backport this change into `branch-3.0`.",
        "createdAt" : "2020-04-25T14:42:20Z",
        "updatedAt" : "2020-04-25T14:42:21Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "d89dc8c9-4ecf-4cc1-b1f0-b1ca9f0dcd55",
        "parentId" : "4cf7be64-6a87-45a6-a389-490271ed7cde",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Yes it's an improvement",
        "createdAt" : "2020-04-25T20:42:37Z",
        "updatedAt" : "2020-04-25T20:42:37Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      }
    ],
    "commit" : "2abcef1f5c21023ea90f13559b9eba2c020b06f6",
    "line" : 36,
    "diffHunk" : "@@ -1,1 +210,214 @@  });\n  var isChecked = window.localStorage.getItem(\"stageId-and-taskId-checked\") === \"true\";\n  checkboxNode.prop(\"checked\", isChecked);\n  onClickAdditionalMetricsCheckbox(checkboxNode);\n}"
  },
  {
    "id" : "133893d1-e357-4c3b-9deb-ea01e0328ecc",
    "prId" : 27927,
    "prUrl" : "https://github.com/apache/spark/pull/27927#pullrequestreview-378977637",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9649683c-3765-4bf5-96d3-8f4be167a847",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Could you explain more about the `labelSeparator` as \"\\x01\" here? It seem that the label of cluster will contain the `<span class='stageId-and-taskId-metrics'>` as well. ",
        "createdAt" : "2020-03-18T08:20:48Z",
        "updatedAt" : "2020-03-22T07:14:10Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "ce8463af-a53d-4d18-86a9-5b3ca7cff992",
        "parentId" : "9649683c-3765-4bf5-96d3-8f4be167a847",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : ">  It seem that the label of cluster will contain the <span class='stageId-and-taskId-metrics'> as well\r\n\r\nYes, but we can't add `<span class='stageId-and-and-taskId-metrics'>` here because the label type of cluster is not `html`.\r\nI tried to make the label type `html` but I found that the DAG had broken layout.\r\n\r\nThe width of boxes are determined based on the length of text by `dagre-d3`.\r\nSo if the separator character has width (graphical), the width of boxes are slightly widened against the original texts.                                                                                                          ",
        "createdAt" : "2020-03-22T07:12:11Z",
        "updatedAt" : "2020-03-22T07:14:10Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      }
    ],
    "commit" : "377fb499b6e26eb438cc337963c9f1ffe40882a1",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +73,77 @@\n// labelSeparator should be a non-graphical character in order not to affect the width of boxes.\nvar labelSeparator = \"\\x01\";\nvar stageAndTaskMetricsPattern = \"^(.*)(\\\\(stage.*attempt.*task[^)]*\\\\))(.*)$\";\n"
  },
  {
    "id" : "7d9665f5-7a3a-48a3-af96-6d9d29201b14",
    "prId" : 27927,
    "prUrl" : "https://github.com/apache/spark/pull/27927#pullrequestreview-382220377",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "88246abf-71fc-4534-825c-202bf15e5f30",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Not related to this PR, but a minor comment: now we display task info like `stage 1 (attempt 2): task 3`. A more standard (and simpler) way to refer to a stage is `stage 1.2: task 3`.\r\n\r\n@sarutak can you help fix it?",
        "createdAt" : "2020-03-26T13:56:20Z",
        "updatedAt" : "2020-03-26T13:56:20Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "5a3e14e2-fbad-4dd9-bb46-d88624d4c461",
        "parentId" : "88246abf-71fc-4534-825c-202bf15e5f30",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "That makes sense. I'll fix it.",
        "createdAt" : "2020-03-26T17:05:14Z",
        "updatedAt" : "2020-03-26T17:05:14Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      }
    ],
    "commit" : "377fb499b6e26eb438cc337963c9f1ffe40882a1",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +74,78 @@// labelSeparator should be a non-graphical character in order not to affect the width of boxes.\nvar labelSeparator = \"\\x01\";\nvar stageAndTaskMetricsPattern = \"^(.*)(\\\\(stage.*attempt.*task[^)]*\\\\))(.*)$\";\n\n/*"
  },
  {
    "id" : "b20c3c8d-5070-4a1c-ac1c-9f901b97098d",
    "prId" : 27490,
    "prUrl" : "https://github.com/apache/spark/pull/27490#pullrequestreview-355307507",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7a77d471-70dd-4cf7-8ec1-105ec66070c8",
        "parentId" : null,
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "setting the value from 90 to 70 to make the graph neater.",
        "createdAt" : "2020-02-07T09:23:37Z",
        "updatedAt" : "2020-02-07T23:45:02Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "bff0014f-5ac1-4299-b6a7-0eeb68490a33",
        "parentId" : "7a77d471-70dd-4cf7-8ec1-105ec66070c8",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "A gap between an arrow and a node in a whole-stage-codegen node seems to be broader than before (e.g. SerializeFromObject and its forwarding arrow in the screenshot).\r\nIt's a little bit ugly so I think it's better to narrow those gaps if you can.\r\n\r\nI wanted to insert a blank line between `WholeStageCodegen(#)` and its metrics description like other operator nodes so I proposed that change.\r\nBut I don't have strong opinion to insert a blank line if there is no way to keep the code simple.",
        "createdAt" : "2020-02-07T17:13:00Z",
        "updatedAt" : "2020-02-07T23:45:02Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "f004cc5e-0a59-48a6-a4cc-4bb39a676c9f",
        "parentId" : "7a77d471-70dd-4cf7-8ec1-105ec66070c8",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Got it.",
        "createdAt" : "2020-02-07T17:13:10Z",
        "updatedAt" : "2020-02-07T23:45:02Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b4c8836798d09eafbeb845d711d17848f718423",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +82,86 @@ */\nfunction preprocessGraphLayout(g) {\n  g.graph().ranksep = \"70\";\n  var nodes = g.nodes();\n  for (var i = 0; i < nodes.length; i++) {"
  }
]