[
  {
    "id" : "3b3e4f2d-04b8-445e-bb94-ad76b6777f47",
    "prId" : 31308,
    "prUrl" : "https://github.com/apache/spark/pull/31308#pullrequestreview-579760213",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fc9d12a9-4388-44f4-806f-ace1ca66ac4a",
        "parentId" : null,
        "authorId" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "body" : "can we move this to  `org.apache.spark.sql.CachedTableSuite`? the truncate table command is not limited to Hive.",
        "createdAt" : "2021-01-26T10:23:12Z",
        "updatedAt" : "2021-01-26T10:23:20Z",
        "lastEditedBy" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "tags" : [
        ]
      },
      {
        "id" : "5f5cb192-fb05-4d25-830d-81a765d49f1e",
        "parentId" : "fc9d12a9-4388-44f4-806f-ace1ca66ac4a",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Do you mean copy-paste the test there?",
        "createdAt" : "2021-01-26T10:34:52Z",
        "updatedAt" : "2021-01-26T10:34:53Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "d88f25b8-d7a0-40e5-843c-3698fe97ba3a",
        "parentId" : "fc9d12a9-4388-44f4-806f-ace1ca66ac4a",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "BTW, I am going to write unified tests for `TRUNCATE TABLE` command, and move the test there to run it for both v1 In-Memory and Hive external catalogs.",
        "createdAt" : "2021-01-26T10:37:52Z",
        "updatedAt" : "2021-01-26T10:37:52Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "004bf9a7-266f-4ff9-916c-2c69a7277ffd",
        "parentId" : "fc9d12a9-4388-44f4-806f-ace1ca66ac4a",
        "authorId" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "body" : "OK sounds good. We can keep it for now then.",
        "createdAt" : "2021-01-26T10:45:26Z",
        "updatedAt" : "2021-01-26T10:45:27Z",
        "lastEditedBy" : "9ae00886-75a7-4f39-aed7-d47b26b67afb",
        "tags" : [
        ]
      },
      {
        "id" : "073ebe98-635a-4794-b85d-787f5c8b1017",
        "parentId" : "fc9d12a9-4388-44f4-806f-ace1ca66ac4a",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "@sunchao Here is the PR https://github.com/apache/spark/pull/31387 which unifies the `TRUNCATE TABLE` tests.",
        "createdAt" : "2021-01-30T14:12:51Z",
        "updatedAt" : "2021-01-30T14:12:51Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "25b8583d65246372f8b6ac35071ead118b1c97f2",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +503,507 @@  }\n\n  test(\"SPARK-34215: keep table cached after truncation\") {\n    withTable(\"tbl\") {\n      sql(\"CREATE TABLE tbl (c0 int)\")"
  }
]