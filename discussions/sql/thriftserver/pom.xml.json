[
  {
    "id" : "cbc2f005-f58a-4a48-8d85-a87b8263bf67",
    "prId" : 26340,
    "prUrl" : "https://github.com/apache/spark/pull/26340#pullrequestreview-312406369",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7b78c5ac-87e5-48b3-aebd-28e4e2b1e6cb",
        "parentId" : null,
        "authorId" : "813f0961-9a16-4e42-a167-961d914c472c",
        "body" : "Our `thriftserver` module is similar to `hive-service`. Could we adapt `hive-beeline` and `hive-jdbc` to this module?",
        "createdAt" : "2019-11-06T11:46:47Z",
        "updatedAt" : "2019-11-07T07:23:57Z",
        "lastEditedBy" : "813f0961-9a16-4e42-a167-961d914c472c",
        "tags" : [
        ]
      },
      {
        "id" : "f243d71b-9186-4120-aaba-c0839eecd2a9",
        "parentId" : "7b78c5ac-87e5-48b3-aebd-28e4e2b1e6cb",
        "authorId" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "body" : ":+1: for doing that - to have our own client as a separate module, but not in the scope of this.\r\n\r\nFor now (in one of followup PR to this), we could start by pulling the client side into a new module (sql/jdbc-client?). I think `thriftserver` doesn't need to depend on `hive-service` and `hive-beeline`. These are needed only for a client.",
        "createdAt" : "2019-11-06T12:21:18Z",
        "updatedAt" : "2019-11-07T07:23:57Z",
        "lastEditedBy" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "tags" : [
        ]
      },
      {
        "id" : "e1830209-320f-4de9-b0cd-365a98bf6bd4",
        "parentId" : "7b78c5ac-87e5-48b3-aebd-28e4e2b1e6cb",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> Our `thriftserver` module is similar to `hive-service`. Could we adapt `hive-beeline` and `hive-jdbc` to this module?\r\n\r\nCan't agree more to do this. Will make spark more independent, and we can have our own jdbc schema as `jdbc:spark` such as impala and presto.",
        "createdAt" : "2019-11-06T12:52:34Z",
        "updatedAt" : "2019-11-07T07:23:57Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "d0de49f814a896bbfa4f2c1fbd074e7ac5e354ec",
    "line" : 82,
    "diffHunk" : "@@ -1,1 +80,84 @@        <dependency>\n        <groupId>${hive.group}</groupId>\n        <artifactId>hive-service</artifactId>\n            <version>${hive.version}</version>\n            <scope>test</scope>"
  },
  {
    "id" : "8535252d-83b4-460e-a8b6-9bfe4656ad9f",
    "prId" : 26221,
    "prUrl" : "https://github.com/apache/spark/pull/26221#pullrequestreview-306600685",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "064c41ef-eca6-4b1f-9ed5-c6647713ded9",
        "parentId" : null,
        "authorId" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "body" : "what is the dependency on spark-hive still? Is it just for metastore?",
        "createdAt" : "2019-10-24T11:30:12Z",
        "updatedAt" : "2019-10-27T03:36:39Z",
        "lastEditedBy" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "tags" : [
        ]
      },
      {
        "id" : "10652275-35f0-4479-b6b3-040eecfcd386",
        "parentId" : "064c41ef-eca6-4b1f-9ed5-c6647713ded9",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> what is the dependency on spark-hive still? Is it just for metastore?\r\n\r\nIn current thriftserver some place use `Hiveutils` `Hive` and `HiveDelegationTokenProvider`,\r\nthey are from `spark-hive`.  \r\n\r\nIf the final implementation does not need these, we can remove them later.\r\n",
        "createdAt" : "2019-10-24T14:05:22Z",
        "updatedAt" : "2019-10-27T03:36:39Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +38,42 @@        <dependency>\n            <groupId>org.apache.spark</groupId>\n            <artifactId>spark-hive_${scala.binary.version}</artifactId>\n            <version>${project.version}</version>\n        </dependency>"
  },
  {
    "id" : "b29aa86d-a596-4aaf-b658-324890f5af30",
    "prId" : 26221,
    "prUrl" : "https://github.com/apache/spark/pull/26221#pullrequestreview-306956487",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cb42580a-65ab-4f85-b3d5-3a39e76954c0",
        "parentId" : null,
        "authorId" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "body" : "The hive- dependencies are only for beeline now, and for testing with Hive JDBC client?\r\n",
        "createdAt" : "2019-10-24T11:39:35Z",
        "updatedAt" : "2019-10-27T03:36:39Z",
        "lastEditedBy" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "tags" : [
        ]
      },
      {
        "id" : "30282efa-c479-488b-8645-77147c8c6b87",
        "parentId" : "cb42580a-65ab-4f85-b3d5-3a39e76954c0",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> The hive- dependencies are only for beeline now, and for testing with Hive JDBC client?\r\n\r\nCurrent beeline still need these dependencies. In first version we can't do all the thing, so copy this from `sql/hive-thriftserver` . First step is to replace old one.",
        "createdAt" : "2019-10-24T13:45:38Z",
        "updatedAt" : "2019-10-27T03:36:39Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      },
      {
        "id" : "ae19fa6d-3081-435b-8c23-ef74fec669fd",
        "parentId" : "cb42580a-65ab-4f85-b3d5-3a39e76954c0",
        "authorId" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "body" : "Maybe we could consider separating the server and the client in separate modules? A `sql/jdbc` module would have `hive-beeline` and `hive-jdbc` and `hive-service` and be used to provide `bin/beeline`, but it will only be a testing dependency of thriftserver, to provide the client for testing - that would further separate the server code from Hive. Could then the existing sql/hive-thriftserver also be depending on it?\r\n@wangyum @gatorsmile what do you think? (definitely in a separate PR from this one)",
        "createdAt" : "2019-10-24T14:51:37Z",
        "updatedAt" : "2019-10-27T03:36:39Z",
        "lastEditedBy" : "e5beb795-ac0e-4bd6-ad66-708215b8ae58",
        "tags" : [
        ]
      },
      {
        "id" : "f8f6889d-d8fc-4622-8ab3-e39c9fab3b47",
        "parentId" : "cb42580a-65ab-4f85-b3d5-3a39e76954c0",
        "authorId" : "813f0961-9a16-4e42-a167-961d914c472c",
        "body" : "+1",
        "createdAt" : "2019-10-25T02:38:12Z",
        "updatedAt" : "2019-10-27T03:36:39Z",
        "lastEditedBy" : "813f0961-9a16-4e42-a167-961d914c472c",
        "tags" : [
        ]
      }
    ],
    "commit" : "6f7d48a987fd0cabef7e0cd4ee8af54197d66eaa",
    "line" : 79,
    "diffHunk" : "@@ -1,1 +77,81 @@            <groupId>${hive.group}</groupId>\n            <artifactId>hive-beeline</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.eclipse.jetty</groupId>"
  }
]