[
  {
    "id" : "09b8ea51-3c32-418b-b43c-7f0bfdf98f86",
    "prId" : 27747,
    "prUrl" : "https://github.com/apache/spark/pull/27747#pullrequestreview-366901287",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e3591788-01ff-4df7-b2f1-b9a7e9572496",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "BTW, @HeartSaVioR . How do you want to handle SPARK-30986 after SPARK-30993?",
        "createdAt" : "2020-03-01T23:49:04Z",
        "updatedAt" : "2020-03-02T06:39:33Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "0de2848d-e192-4d0a-a60e-3a80a6a43bc2",
        "parentId" : "e3591788-01ff-4df7-b2f1-b9a7e9572496",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Actually I missed the existence of SPARK-30986 and created SPARK-30993. I left my issue as it is, because SPARK-30986 is describing only one of issue SPARK-30993 could incur - SPARK-30993 has a broader coverage.\r\n\r\nI can maybe add E2E test for SPARK-30986 here (though not sure we want to use two JIRA issues here), but wondering is it preferable to add SS test if it can be reproduced in batch query test. From my side it's easier to add SS test, because SPARK-30986 has it - just need to refine a bit.",
        "createdAt" : "2020-03-01T23:53:17Z",
        "updatedAt" : "2020-03-02T06:39:33Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "12d7b447-92a1-49b4-af2b-7e4b90b14221",
        "parentId" : "e3591788-01ff-4df7-b2f1-b9a7e9572496",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Please let me know if we would like to use SPARK-30986 instead - I can simply mark SPARK-30993 as duplicated and change the PR title as well as the code. Thanks!",
        "createdAt" : "2020-03-02T00:15:33Z",
        "updatedAt" : "2020-03-02T06:39:33Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "d724fa48dc8d9b419e46efd2a9d7858003908245",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +102,106 @@  }\n\n  test(\"SPARK-30993: UserDefinedType matched to fixed length SQL type shouldn't be corrupted\") {\n    val schema1 = new StructType(Array(\n      StructField(\"date\", new WrappedDateTimeUDT),"
  },
  {
    "id" : "5d3d1260-3651-4008-bf4b-6e46bd792c3c",
    "prId" : 27747,
    "prUrl" : "https://github.com/apache/spark/pull/27747#pullrequestreview-366902620",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e148d5ef-bac1-442f-82f1-6861d3334d1e",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Can we have end-to-end test for this issue? Is it easily to reproduce it?",
        "createdAt" : "2020-03-02T00:22:56Z",
        "updatedAt" : "2020-03-02T06:39:33Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "ce97d5d9-680e-4af0-a340-040b1c1ba7c7",
        "parentId" : "e148d5ef-bac1-442f-82f1-6861d3334d1e",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "I've left comment regarding this. https://github.com/apache/spark/pull/27747#discussion_r386154074\r\n\r\nIt's no-brainer to have E2E test with SS mapWithState as we already got report from actual code (and I confirmed it failed without this patch and it passed with this patch), but if we would like to have simpler batch query to reproduce I may need to try out.",
        "createdAt" : "2020-03-02T00:27:57Z",
        "updatedAt" : "2020-03-02T06:39:33Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      }
    ],
    "commit" : "d724fa48dc8d9b419e46efd2a9d7858003908245",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +116,120 @@    val intRow2 = new GenericInternalRow(Array[Any](2))\n\n    testConcat(schema1, proj1.apply(intRow1), schema2, proj2.apply(intRow2))\n  }\n"
  }
]