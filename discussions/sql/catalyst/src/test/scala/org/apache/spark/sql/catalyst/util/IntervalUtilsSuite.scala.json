[
  {
    "id" : "24fb92d6-ae90-4317-986e-d791c737c8c9",
    "prId" : 27672,
    "prUrl" : "https://github.com/apache/spark/pull/27672#pullrequestreview-363942673",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d8b87c22-3536-4582-bad5-1905ff636c6f",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "we should use `intercept` to assert a failure. I'm OK to leave it as we already use `try-catch` in this test case.",
        "createdAt" : "2020-02-25T08:22:31Z",
        "updatedAt" : "2020-02-25T08:22:31Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "9db1f370107b14e6d5f772441455b6f89afc6070",
    "line" : 64,
    "diffHunk" : "@@ -1,1 +308,312 @@      ((Int.MaxValue / 9.0) * MICROS_PER_DAY).round))\n    try {\n      divideExact(interval, 0.9)\n      fail(\"Expected to throw an exception on integer overflow\")\n    } catch {"
  },
  {
    "id" : "bedd3551-cb8e-475e-9fe8-ed6d1888d6d4",
    "prId" : 26815,
    "prUrl" : "https://github.com/apache/spark/pull/26815#pullrequestreview-371759382",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1a4d88f2-f9df-4538-a6c5-de96f33b6899",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "for multi-unit syntax, do we support `1 day \\t 2 hours`?",
        "createdAt" : "2020-03-10T08:22:49Z",
        "updatedAt" : "2020-03-10T08:22:50Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "9bcda295-4eb0-4acc-a8a3-8f356852d4e1",
        "parentId" : "1a4d88f2-f9df-4538-a6c5-de96f33b6899",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "yes. My opinion is that the interval string in multi-unit syntax, we parse each value and each unit separately and they can be produced by the providers separately too so the whitespaces can be in the middle of each part. In year-month and day-time syntax, the string should be considered as a whole part so the whitespaces only appear on both ends, not in the middle.\r\n\r\ntake java.sql.Timestamp for an example, the timestamp string is treated as a whole\r\n\r\n```\r\nscala> java.sql.Timestamp.valueOf(\"2011-11-11 11:11:11.11\\t\")\r\nres8: java.sql.Timestamp = 2011-11-11 11:11:11.11\r\n\r\nscala> java.sql.Timestamp.valueOf(\"2011-11-11 \\t 11:11:11.11\\t\")\r\njava.lang.NumberFormatException: For input string: \"\t 11\"\r\n  at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n  at java.lang.Integer.parseInt(Integer.java:569)\r\n  at java.lang.Integer.parseInt(Integer.java:615)\r\n  at java.sql.Timestamp.valueOf(Timestamp.java:243)\r\n  ... 28 elided\r\n```\r\n\r\nAlso, we do the same in Spark\r\n\r\n```\r\nspark-sql> select timestamp '2013-01-02 \\t 00:00:00';\r\nError in query:\r\nCannot parse the TIMESTAMP value: 2013-01-02 \t 00:00:00(line 1, pos 7)\r\n\r\n== SQL ==\r\nselect timestamp '2013-01-02 \\t 00:00:00'\r\n-------^^^\r\n\r\nspark-sql> select timestamp '2013-01-02 00:00:00 \\t';\r\n2013-01-02 00:00:00\r\n```",
        "createdAt" : "2020-03-10T08:39:39Z",
        "updatedAt" : "2020-03-10T08:39:39Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "4556ad4f01dcbb68892ccc9f25ad4ae92384e8c0",
    "line" : 23,
    "diffHunk" : "@@ -1,1 +325,329 @@    // whitespaces\n    check(\"\\t +5 12:40\\t \", DAY, MINUTE, \"5 days 12 hours 40 minutes\")\n    checkFail(\"+5\\t 12:40\", DAY, MINUTE, \"must match day-time format\")\n\n  }"
  },
  {
    "id" : "8b3854d3-c1ff-41a7-8456-4fc6148cc546",
    "prId" : 26662,
    "prUrl" : "https://github.com/apache/spark/pull/26662#pullrequestreview-322806758",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3d3c8fb6-9b47-4dd0-ac5a-c78f0bfd7bc8",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "why remove some test cases?",
        "createdAt" : "2019-11-26T08:45:02Z",
        "updatedAt" : "2019-11-26T12:25:48Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "0c9aeb74-7015-4f1b-8fde-6f2ac83c35ee",
        "parentId" : "3d3c8fb6-9b47-4dd0-ac5a-c78f0bfd7bc8",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ah i see, it's covered in the new one",
        "createdAt" : "2019-11-26T08:45:32Z",
        "updatedAt" : "2019-11-26T12:25:48Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "08aabe69e7aad7b1892a929572bf861af793fa6d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +80,84 @@    checkFromInvalidString(null, \"cannot be null\")\n\n    for (input <- Seq(\"\", \"interval\", \"foo\", \"foo 1 day\")) {\n      checkFromInvalidString(input, \"Error parsing\")\n    }"
  }
]