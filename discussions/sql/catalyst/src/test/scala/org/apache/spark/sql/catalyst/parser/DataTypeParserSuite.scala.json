[
  {
    "id" : "45c9586c-3201-42e9-ac67-fb65896d7542",
    "prId" : 28833,
    "prUrl" : "https://github.com/apache/spark/pull/28833#pullrequestreview-431178356",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2b9561e5-9320-4221-961e-8f50654dd2ac",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you add end-2-end tests, too, just like this?\r\n```\r\nscala> sql(\"create table t (v void)\")\r\nscala> sql(\"insert into t values (null), (null), (null)\")\r\nscala> sql(\"select * from t\").show()\r\n// Checks result output\r\n```",
        "createdAt" : "2020-06-16T00:31:26Z",
        "updatedAt" : "2020-07-08T00:27:04Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "88f518f5-d07e-422e-b9b2-e04cc4fe43b8",
        "parentId" : "2b9561e5-9320-4221-961e-8f50654dd2ac",
        "authorId" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "body" : "The result output above is `Row(null) :: Row(null) :: Row(null) :: Nil`.\r\nBut I remember we shouldn't allow `create table t (v void)` https://github.com/apache/spark/pull/17953#issuecomment-306056712. So it needs additional PR to throw exception. #25198 is the PR which to do that.",
        "createdAt" : "2020-06-16T02:01:03Z",
        "updatedAt" : "2020-07-08T00:27:04Z",
        "lastEditedBy" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "tags" : [
        ]
      },
      {
        "id" : "63588ce2-aa1d-4002-9a9c-3a53877e8a69",
        "parentId" : "2b9561e5-9320-4221-961e-8f50654dd2ac",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "If so, could we fix the issue, too, in this PR?",
        "createdAt" : "2020-06-16T02:03:34Z",
        "updatedAt" : "2020-07-08T00:27:04Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "2ca89ef1-54a5-42b8-9753-a54a2f235053",
        "parentId" : "2b9561e5-9320-4221-961e-8f50654dd2ac",
        "authorId" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "body" : "Sure, I will complete it.",
        "createdAt" : "2020-06-16T02:05:49Z",
        "updatedAt" : "2020-07-08T00:27:04Z",
        "lastEditedBy" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "tags" : [
        ]
      },
      {
        "id" : "871ef276-08d7-45c4-89cb-f07e4aec0d84",
        "parentId" : "2b9561e5-9320-4221-961e-8f50654dd2ac",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Thanks!",
        "createdAt" : "2020-06-16T02:14:42Z",
        "updatedAt" : "2020-07-08T00:27:04Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "6a7ce06f-b21c-4af0-9c68-2a441c17ea25",
        "parentId" : "2b9561e5-9320-4221-961e-8f50654dd2ac",
        "authorId" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "body" : "After reviewed #25198, I find @ulysses-you had performed much work for that. I have to do a similar fixing in this PR. @ulysses-you do you want to continue to complete that?",
        "createdAt" : "2020-06-16T02:15:42Z",
        "updatedAt" : "2020-07-08T00:27:04Z",
        "lastEditedBy" : "0223d15f-93d2-46b2-bee2-7f40fcd0335a",
        "tags" : [
        ]
      },
      {
        "id" : "1775bfa3-92eb-45f6-8359-9f1bc76201d8",
        "parentId" : "2b9561e5-9320-4221-961e-8f50654dd2ac",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "I don't know what is needed, in other word I don't know what is needed to be compatible with Hive. It may be the reason why this thing was left. \r\n\r\nThere are 2 different things between Spark and Hive.\r\n1. Hive support both table and view with `Void` type, like `create table t as select null as c`, `create view v as select null as c`. Spark doesn't support both.\r\n2. For null value type, Hive use `Void` and Spark use `NullType`\r\n\r\nAs @cloud-fan said, we shouldn't support `NullType` for tables. But may compatible with Hive in some DDLs like `desc table`, `show create talbe` ?\r\n\r\nI think we should discuss what things to be compatible with Hive first and then move.",
        "createdAt" : "2020-06-16T05:52:22Z",
        "updatedAt" : "2020-07-08T00:27:04Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "9ad57d17bac47ea0f801004ec0aba9197e631bc7",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +62,66 @@  checkDataType(\"cHaR(27)\", StringType)\n  checkDataType(\"BINARY\", BinaryType)\n  checkDataType(\"void\", NullType)\n  checkDataType(\"interval\", CalendarIntervalType)\n"
  }
]