[
  {
    "id" : "9827db5c-ab97-4acc-8111-c809b1b86748",
    "prId" : 29414,
    "prUrl" : "https://github.com/apache/spark/pull/29414#pullrequestreview-466522241",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1cb7534d-810c-4629-a46b-2af2da2abb5a",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you add some indents for readability?\r\n```\r\nSELECT TRANSFORM(a, b, c)\r\n  ROW FORMAT DELIMITED\r\n  FIELDS TERMINATED BY '\\t'\r\n  COLLECTION ITEMS TERMINATED BY '\\u0002'\r\n  MAP KEYS TERMINATED BY '\\u0003'\r\n  LINES TERMINATED BY '\\n'\r\n  NULL DEFINED AS 'null'\r\n  USING 'cat' AS (a, b, c)\r\n  ROW FORMAT DELIMITED\r\n  FIELDS TERMINATED BY '\\t'\r\n  COLLECTION ITEMS TERMINATED BY '\\u0004'\r\n  MAP KEYS TERMINATED BY '\\u0005'\r\n  LINES TERMINATED BY '\\n'\r\n  NULL DEFINED AS 'NULL'\r\nFROM testData\r\n```",
        "createdAt" : "2020-08-13T07:49:38Z",
        "updatedAt" : "2020-12-15T02:12:58Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "a10c5a6012663287351c7f46a12ae0592d4320ea",
    "line" : 84,
    "diffHunk" : "@@ -1,1 +1103,1107 @@        |  NULL DEFINED AS 'NULL'\n        |FROM testData\n      \"\"\".stripMargin,\n      ScriptTransformation(\n        Seq('a, 'b, 'c),"
  },
  {
    "id" : "24054842-d911-4e9d-8c3b-30f4da6fbacd",
    "prId" : 29414,
    "prUrl" : "https://github.com/apache/spark/pull/29414#pullrequestreview-466546420",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c124a7ab-c643-4e63-bf49-719fae81043b",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "ditto:\r\n```\r\nSELECT TRANSFORM(a, b, c)\r\n  ROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.OpenCSVSerde'\r\n  WITH SERDEPROPERTIES(\r\n    \"separatorChar\" = \"\\t\",\r\n    \"quoteChar\" = \"'\",\r\n    \"escapeChar\" = \"\\\\\")\r\n  USING 'cat' AS (a, b, c)\r\n  ROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.OpenCSVSerde'\r\n  WITH SERDEPROPERTIES(\r\n    \"separatorChar\" = \"\\t\",\r\n    \"quoteChar\" = \"'\",\r\n    \"escapeChar\" = \"\\\\\")\r\nFROM testData\r\n```",
        "createdAt" : "2020-08-13T07:50:30Z",
        "updatedAt" : "2020-12-15T02:12:58Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "7c6efd95-db87-4386-8099-347444115947",
        "parentId" : "c124a7ab-c643-4e63-bf49-719fae81043b",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "Done",
        "createdAt" : "2020-08-13T08:24:08Z",
        "updatedAt" : "2020-12-15T02:12:58Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "a10c5a6012663287351c7f46a12ae0592d4320ea",
    "line" : 122,
    "diffHunk" : "@@ -1,1 +1141,1145 @@        |FROM testData\n      \"\"\".stripMargin,\n      \"TRANSFORM with serde is only supported in hive mode\")\n  }\n}"
  },
  {
    "id" : "a77a0f53-a29b-46ad-b770-478b938ed9d7",
    "prId" : 29087,
    "prUrl" : "https://github.com/apache/spark/pull/29087#pullrequestreview-561041791",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "76f5a8e8-c201-4b9b-83c4-d90d89455546",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Why do we need to update this?",
        "createdAt" : "2021-01-04T13:43:35Z",
        "updatedAt" : "2021-03-25T08:21:50Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "00e7e606-26db-4491-b33d-f0b675cb2ae3",
        "parentId" : "76f5a8e8-c201-4b9b-83c4-d90d89455546",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> Why do we need to update this?\r\n\r\nSince in parser level, we pass UnresolvedStar to replace all output of child's output and then resolve this in Analyzer level to realize supporting aggregation with transform",
        "createdAt" : "2021-01-04T13:49:20Z",
        "updatedAt" : "2021-03-25T08:21:50Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "12787053aec9d015506d5c59c58e91dd23d5bb82",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +1062,1066 @@      \"\"\".stripMargin,\n      ScriptTransformation(\n        Seq(UnresolvedStar(None)),\n        \"cat\",\n        Seq(AttributeReference(\"key\", StringType)(),"
  },
  {
    "id" : "20ffd144-0909-4763-9f16-c852fc508aaa",
    "prId" : 27920,
    "prUrl" : "https://github.com/apache/spark/pull/27920#pullrequestreview-409669774",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9f15bade-f22c-4bde-b252-60cab6ec5b67",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "how to interpret `\\\\\\n`? An escaped slash and a new-line symbol?",
        "createdAt" : "2020-05-07T04:33:55Z",
        "updatedAt" : "2020-05-07T04:33:55Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "cc9e430b-54f1-47bd-b22b-d0fea44886ba",
        "parentId" : "9f15bade-f22c-4bde-b252-60cab6ec5b67",
        "authorId" : "b078fc4e-1006-4a0c-920c-e812492ec34e",
        "body" : "Thats correct. Inline strings need to be escaped. ",
        "createdAt" : "2020-05-12T03:14:45Z",
        "updatedAt" : "2020-05-12T03:14:45Z",
        "lastEditedBy" : "b078fc4e-1006-4a0c-920c-e812492ec34e",
        "tags" : [
        ]
      }
    ],
    "commit" : "0571f21a0c058e0e1c14efd54e174d64f9420b01",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +63,67 @@  test(\"single comment case two\") {\n    val plan = table(\"a\").select(star())\n    assertEqual(\"-- single comment\\\\\\nwith line continuity\\nSELECT * FROM a\", plan)\n  }\n"
  },
  {
    "id" : "cd0f6a27-d85e-4580-843c-c7aa77af1c0b",
    "prId" : 27495,
    "prUrl" : "https://github.com/apache/spark/pull/27495#pullrequestreview-355541043",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you add end-to-end tests in `SQLQueryTestSuite` (e.g., `sql-tests/inputs/comments`)?",
        "createdAt" : "2020-02-08T08:49:37Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "0414ab49-07db-4af2-91ce-1cd19d64ff72",
        "parentId" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "authorId" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "body" : "Is it enough with sql/core/src/test/resources/sql-tests/inputs/postgreSQL/comments.sql ？",
        "createdAt" : "2020-02-08T08:53:09Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "tags" : [
        ]
      },
      {
        "id" : "452c6ff7-ba68-4302-9687-76893e4ddccf",
        "parentId" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "You forgot to update the golden file?",
        "createdAt" : "2020-02-08T08:56:29Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "7187444f-a191-48d7-9ab7-2630f7f6c3bb",
        "parentId" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "authorId" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "body" : "I want update with https://github.com/apache/spark/pull/27481 after this PR merged.",
        "createdAt" : "2020-02-08T09:01:33Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "tags" : [
        ]
      },
      {
        "id" : "6d30e916-9f5c-4e37-97a5-b3c79202d493",
        "parentId" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Why did you split it into the two PRs? Any reason? Its ok to update the golden file in this PR.",
        "createdAt" : "2020-02-08T09:04:58Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "5955db02-a3bb-4824-aef1-59079f23115b",
        "parentId" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "authorId" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "body" : "Because that PR mainly to improve `SQLQueryTestSuite`. `SQLQueryTestSuite` not support comments correct.",
        "createdAt" : "2020-02-08T09:14:38Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "tags" : [
        ]
      },
      {
        "id" : "22188b57-9519-411a-a402-906df273b18d",
        "parentId" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "I probably miss something though, why does not this change affect `postgreSQL/comments.sql.out`? It seems they have nested bracketed comments.\r\n\r\n> Is it enough with sql/core/src/test/resources/sql-tests/inputs/postgreSQL/comments.sql ？\r\n\r\nThey are regression tests just ported from the pgSQL codebase to check behaviour differences beteween Spark/PostgreSQL. So, to check new behaviours implemented by this pr, I think its ok to put some basic end-to-end tests in `sql-tests/inputs/comments.sql`.",
        "createdAt" : "2020-02-08T10:01:25Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "0da38abd-b033-4d37-8b75-8c773bfa8e95",
        "parentId" : "e00c548b-9242-46b7-af84-d73b2609bb6c",
        "authorId" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "body" : "OK. I will create `sql-tests/inputs/comments.sql`.",
        "createdAt" : "2020-02-08T10:16:12Z",
        "updatedAt" : "2020-02-21T11:33:15Z",
        "lastEditedBy" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "tags" : [
        ]
      }
    ],
    "commit" : "48814c356794ea97191c09416958296be5b01e7f",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +152,156 @@        |SELECT * FROM a\n      \"\"\".stripMargin, plan)\n  }\n\n  test(\"case insensitive\") {"
  },
  {
    "id" : "ea9bd4e0-8c61-4a6c-a432-f9d2c3dfed18",
    "prId" : 24911,
    "prUrl" : "https://github.com/apache/spark/pull/24911#pullrequestreview-251931416",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8c5405f7-5f58-4695-8d62-9e513bb60505",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "This is the change of error message, but it looks okay. The previous error message is the following.\r\n```\r\nspark-sql> select ltrim(both 'S' from 'SS abc S';\r\nError in query:\r\nmissing ')' at '<EOF>'(line 1, pos 37)\r\n\r\n== SQL ==\r\nselect ltrim(both 'S' from 'SS abc S'\r\n-------------------------------------^^^\r\n```",
        "createdAt" : "2019-06-19T19:44:27Z",
        "updatedAt" : "2019-06-19T19:44:44Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "57cb08a1ac415a9b7773f640e986c2dd424823ce",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +711,715 @@\n    intercept(\"select ltrim(both 'S' from 'SS abc S'\", \"mismatched input 'from' expecting {')'\")\n    intercept(\"select rtrim(trailing 'S' from 'SS abc S'\", \"mismatched input 'from' expecting {')'\")\n\n    assertTrimPlans("
  },
  {
    "id" : "5ea46b0d-0efe-4cef-9046-53134e38c434",
    "prId" : 24842,
    "prUrl" : "https://github.com/apache/spark/pull/24842#pullrequestreview-249492748",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a89bddc9-65b5-489c-92a3-e07883ea5137",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Thank you for consolidating both `cte` functions into one!",
        "createdAt" : "2019-06-13T17:21:03Z",
        "updatedAt" : "2019-06-13T17:21:03Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a00a036148e898bd88bf3dd6e7b7ca0c67fa270",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +43,47 @@    interceptParseException(parsePlan)(sqlCommand, messages: _*)\n\n  private def cte(plan: LogicalPlan, namedPlans: (String, (LogicalPlan, Seq[String]))*): With = {\n    val ctes = namedPlans.map {\n      case (name, (cte, columnAliases)) =>"
  },
  {
    "id" : "f7764c55-2e9e-4635-ab05-60bdee93a0a5",
    "prId" : 24348,
    "prUrl" : "https://github.com/apache/spark/pull/24348#pullrequestreview-225642762",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b1e5b1f5-c029-4dc4-b2af-2a57a3b0c6c0",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Thank you for adding this.",
        "createdAt" : "2019-04-11T16:22:13Z",
        "updatedAt" : "2019-04-11T16:22:13Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "b35cabf6bb4c52f71c423861b1d3a416a1eb8ff8",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +142,146 @@        table(\"a\").where('s < 10).select(star()).insertInto(\"tbl2\")))\n    assertEqual(\n      \"select * from (from a select * select *)\",\n      table(\"a\").select(star())\n        .union(table(\"a\").select(star()))"
  },
  {
    "id" : "56218c31-f612-4726-99dc-df73000b5e30",
    "prId" : 24348,
    "prUrl" : "https://github.com/apache/spark/pull/24348#pullrequestreview-241538402",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "42205ea4-7cea-4e37-8999-ad8f749c0c80",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "you know what? cannot is correct too and more usual :-).",
        "createdAt" : "2019-05-24T02:56:43Z",
        "updatedAt" : "2019-05-24T02:56:43Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "cd93d4e8-4e53-494d-8b92-32f451b3f9d1",
        "parentId" : "42205ea4-7cea-4e37-8999-ad8f749c0c80",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "this is copied from the old error message: https://github.com/apache/spark/pull/24348/files#diff-9847f5cef7cf7fbc5830fbc6b779ee10L133\r\n\r\nWe can update this",
        "createdAt" : "2019-05-24T03:17:58Z",
        "updatedAt" : "2019-05-24T03:17:59Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "c30676d7-7852-4d68-bc05-0f589c8ae8a3",
        "parentId" : "42205ea4-7cea-4e37-8999-ad8f749c0c80",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "it's fine. I didn't mean we should fix now. just wanted to say it :-).",
        "createdAt" : "2019-05-24T03:26:01Z",
        "updatedAt" : "2019-05-24T03:26:01Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "b35cabf6bb4c52f71c423861b1d3a416a1eb8ff8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +133,137 @@    intercept(\n      \"from a select * select * from x where a.s < 10\",\n      \"This select statement can not have FROM cause as its already specified upfront\")\n    intercept(\n      \"from a select * from b\","
  }
]