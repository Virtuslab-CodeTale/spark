[
  {
    "id" : "aa64d44d-254d-439c-aaff-298448ad16dd",
    "prId" : 31860,
    "prUrl" : "https://github.com/apache/spark/pull/31860#pullrequestreview-613936659",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "78d2c1ec-c0fe-46af-aa5e-8df6a4018f06",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Before this PR, this test passes in `HiveExternalSessionCatalogSuite`, but fails in `InMemorySessionCatalogSuite`",
        "createdAt" : "2021-03-17T05:40:53Z",
        "updatedAt" : "2021-03-17T05:42:01Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "af346314b9969e9b90cdc1e44ba629cd51123000",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +707,711 @@\n      // If database doesn't exist, return false instead of failing.\n      assert(!catalog.tableExists(TableIdentifier(\"tbl1\", Some(\"non-exist\"))))\n    }\n  }"
  },
  {
    "id" : "660226b6-fb7b-44ce-9d0b-ae282028faf1",
    "prId" : 31265,
    "prUrl" : "https://github.com/apache/spark/pull/31265#pullrequestreview-575122902",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "aee4ea6c-3e6a-42a6-9363-43aab9abfff7",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "This doesn't seem like a good test because Spark will never put (global) temp views in the relation cache.",
        "createdAt" : "2021-01-25T07:04:40Z",
        "updatedAt" : "2021-01-25T07:04:41Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "a520cbc2-66ad-4a84-a0ee-48174b0d707b",
        "parentId" : "aee4ea6c-3e6a-42a6-9363-43aab9abfff7",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "The test is not about to put a temp view into the relation cache. It is about existence of a temp view and a table in the relation cache with the same name. And it checks that refreshing the view, does not invalidate table's entry in the cache.\r\n\r\nThis is a unit test, and it should check all possible input parameters/cases for the functions. If you are saying that some situations are not possible outside of function, that does not mean we should't test them. And it doesn't mean that the situation could become valid one in the future.",
        "createdAt" : "2021-01-25T07:33:35Z",
        "updatedAt" : "2021-01-25T07:36:10Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "4c3350e2302beef9864349e7d5b17ff98fb00892",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +1692,1696 @@      catalog.createGlobalTempView(\"tbl2\", Range(2, 10, 1, 10), false)\n      val qualifiedName2 = QualifiedTableName(catalog.globalTempViewManager.database, \"tbl2\")\n      catalog.cacheTable(qualifiedName2, Range(2, 10, 1, 10))\n      catalog.refreshTable(TableIdentifier(\"tbl2\", Some(catalog.globalTempViewManager.database)))\n      assert(catalog.getCachedTable(qualifiedName2) != null)"
  }
]