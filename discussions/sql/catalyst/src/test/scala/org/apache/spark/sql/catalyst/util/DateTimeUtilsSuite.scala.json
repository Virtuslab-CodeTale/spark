[
  {
    "id" : "c85ab9d0-5f1e-46df-8194-7ec5bc60cb34",
    "prId" : 33490,
    "prUrl" : "https://github.com/apache/spark/pull/33490#pullrequestreview-715752028",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1dcd588f-14f9-475c-964c-4080b8286243",
        "parentId" : null,
        "authorId" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "body" : "Maybe we can do some special handling to allow this.",
        "createdAt" : "2021-07-23T04:36:56Z",
        "updatedAt" : "2021-07-23T04:36:56Z",
        "lastEditedBy" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "tags" : [
        ]
      },
      {
        "id" : "740e7835-3c33-46a1-b6ca-26d24b5ad502",
        "parentId" : "1dcd588f-14f9-475c-964c-4080b8286243",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Is this valid? doesn't quite look like it",
        "createdAt" : "2021-07-23T11:36:38Z",
        "updatedAt" : "2021-07-23T11:36:58Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "f09a1f43-dea3-42f5-b0d8-2c358f717dc9",
        "parentId" : "1dcd588f-14f9-475c-964c-4080b8286243",
        "authorId" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "body" : "@srowen, thanks for reviewing. Personally I think it's invalid and this usage is blocked in my PR. But since previously it's allowed in the test case, so maybe someone will argue we should still allow it",
        "createdAt" : "2021-07-26T05:09:07Z",
        "updatedAt" : "2021-07-26T10:24:25Z",
        "lastEditedBy" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "tags" : [
        ]
      },
      {
        "id" : "6916bd61-77f9-4223-99a7-6760ffc8b9c8",
        "parentId" : "1dcd588f-14f9-475c-964c-4080b8286243",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Was it previously allowed? this test is new",
        "createdAt" : "2021-07-26T12:58:26Z",
        "updatedAt" : "2021-07-26T12:58:26Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "c4c3b52e-dc55-456f-9b3c-9b40fe55402a",
        "parentId" : "1dcd588f-14f9-475c-964c-4080b8286243",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "It was previously allowed: https://github.com/apache/spark/pull/33490/files#diff-95555ac355a4972b9a61cad3e6599b0ac3c242877c1a393ecc5a77842e90091eL185",
        "createdAt" : "2021-07-27T10:33:50Z",
        "updatedAt" : "2021-07-27T10:33:50Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "48e73572a18b3d4a2083014388f2750f8eab6589",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +292,296 @@      checkStringToTimestamp(\"+\", None)\n      checkStringToTimestamp(\"T\", None)\n      checkStringToTimestamp(\"2015-03-18T\", None)\n      checkStringToTimestamp(\"12::\", None)\n      checkStringToTimestamp(\"2015-03-18T12:03:17-8:\", None)"
  },
  {
    "id" : "8e027b70-e8ba-4b8d-b0bc-aa110e8657a9",
    "prId" : 32959,
    "prUrl" : "https://github.com/apache/spark/pull/32959#pullrequestreview-688053401",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "33ca8e99-621e-4ef9-99b1-89047ba10d0b",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "we also need end-to-end test",
        "createdAt" : "2021-06-21T06:00:27Z",
        "updatedAt" : "2021-06-21T06:00:28Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "538463a405c2eac1ddfccba8d82ca846f81e5a22",
    "line" : 102,
    "diffHunk" : "@@ -1,1 +341,345 @@    checkStringToTimestamp(\"2021-01-01T12:30:4294967297+4294967297:30\", None)\n  }\n\n  test(\"SPARK-15379: special invalid date string\") {\n    // Test stringToDate"
  },
  {
    "id" : "0c73eacb-3ac4-4aae-b30e-5decef830b15",
    "prId" : 32814,
    "prUrl" : "https://github.com/apache/spark/pull/32814#pullrequestreview-678221125",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3b636b98-65ba-4531-b021-c636e6db5de2",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "let's test negative value as well.",
        "createdAt" : "2021-06-08T08:11:34Z",
        "updatedAt" : "2021-06-08T08:11:34Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "a2326e0abc8cca80032213476d53ee5b0b9228ea",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +639,643 @@    assert(microsToLocalDateTime(100) ==  LocalDateTime.parse(\"1970-01-01T00:00:00.0001\"))\n    assert(microsToLocalDateTime(100000000) ==  LocalDateTime.parse(\"1970-01-01T00:01:40\"))\n    assert(microsToLocalDateTime(100000000000L) ==  LocalDateTime.parse(\"1970-01-02T03:46:40\"))\n    assert(microsToLocalDateTime(253402300799999999L) ==\n      LocalDateTime.parse(\"9999-12-31T23:59:59.999999\"))"
  },
  {
    "id" : "78bcf708-3f4f-4710-8d58-a69b8c506763",
    "prId" : 30303,
    "prUrl" : "https://github.com/apache/spark/pull/30303#pullrequestreview-527363704",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b8458fa3-4dfb-4e4a-b9ad-31e2f9aea3bd",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "The checks for millis and micros don't fail when I reverted your fix. I guess because zone offset has seconds precision.",
        "createdAt" : "2020-11-10T07:21:29Z",
        "updatedAt" : "2020-11-10T16:54:36Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "0be74e50-7577-4b2b-b76e-b89b32b606ac",
        "parentId" : "b8458fa3-4dfb-4e4a-b9ad-31e2f9aea3bd",
        "authorId" : "898aa86e-30e8-495b-8406-2922eef22253",
        "body" : "Yeah your guess is right.",
        "createdAt" : "2020-11-10T16:09:26Z",
        "updatedAt" : "2020-11-10T16:54:36Z",
        "lastEditedBy" : "898aa86e-30e8-495b-8406-2922eef22253",
        "tags" : [
        ]
      }
    ],
    "commit" : "493654073293c8bf6b5e24b4688e5fc9f1967f03",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +538,542 @@        testTrunc(DateTimeUtils.TRUNC_TO_SECOND, \"1769-10-17T17:10:02\", inputTS.get, zid)\n        testTrunc(DateTimeUtils.TRUNC_TO_MILLISECOND, \"1769-10-17T17:10:02.123\", inputTS.get, zid)\n        testTrunc(DateTimeUtils.TRUNC_TO_MICROSECOND, \"1769-10-17T17:10:02.123456\",\n          inputTS.get, zid)\n      }"
  },
  {
    "id" : "04058470-8a8d-4126-a01d-54284e3a50ef",
    "prId" : 28189,
    "prUrl" : "https://github.com/apache/spark/pull/28189#pullrequestreview-392034725",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "304b4449-031d-4d3c-b8ff-8f350b809b85",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "<img width=\"797\" alt=\"Screenshot 2020-04-11 at 19 01 34\" src=\"https://user-images.githubusercontent.com/1580697/79048599-f046e180-7c26-11ea-9940-eddee9785fb4.png\">\r\n",
        "createdAt" : "2020-04-11T16:02:45Z",
        "updatedAt" : "2020-04-13T08:52:46Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "0024728f-e902-4b0c-adb2-4099c83d1cfb",
        "parentId" : "304b4449-031d-4d3c-b8ff-8f350b809b85",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "what's the behavior of Spark 2.4?",
        "createdAt" : "2020-04-13T06:16:29Z",
        "updatedAt" : "2020-04-13T08:52:46Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e195dc39-f998-4510-b1e8-c89d61149767",
        "parentId" : "304b4449-031d-4d3c-b8ff-8f350b809b85",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "See the same test in 2.4 https://github.com/apache/spark/blob/branch-2.4/sql/catalyst/src/test/scala/org/apache/spark/sql/catalyst/util/DateTimeUtilsSuite.scala#L580-L581 but it sets PST time zone.",
        "createdAt" : "2020-04-13T06:28:18Z",
        "updatedAt" : "2020-04-13T08:52:46Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "561e1587-98a7-4cae-ad61-2e6a975774bf",
        "parentId" : "304b4449-031d-4d3c-b8ff-8f350b809b85",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "as we have looked into the JDK code before, PST is treated as LA. So the behavior is the same as 2.4, and it's great!\r\n\r\ncan we highlight it in the `Does this PR introduce any user-facing change?` section? Say it's changed back to the 2.4 behavior.",
        "createdAt" : "2020-04-13T06:31:18Z",
        "updatedAt" : "2020-04-13T08:52:46Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "0657685d-52f5-4515-b536-724f81e283c7",
        "parentId" : "304b4449-031d-4d3c-b8ff-8f350b809b85",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "done",
        "createdAt" : "2020-04-13T08:57:44Z",
        "updatedAt" : "2020-04-13T08:57:45Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "a28f2a1bd7d053051cc252f37de4e412abef9ce6",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +497,501 @@      test(\"2016-03-13 03:00:00\", tz, \"2016-03-13 10:00:00.0\")\n      test(\"2016-11-06 00:59:59\", tz, \"2016-11-06 07:59:59.0\")\n      test(\"2016-11-06 01:00:00\", tz, \"2016-11-06 09:00:00.0\")\n      test(\"2016-11-06 01:59:59\", tz, \"2016-11-06 09:59:59.0\")\n      test(\"2016-11-06 02:00:00\", tz, \"2016-11-06 10:00:00.0\")"
  },
  {
    "id" : "cbd0e3aa-2794-4a5a-a7b0-38820fe0901f",
    "prId" : 27980,
    "prUrl" : "https://github.com/apache/spark/pull/27980#pullrequestreview-379042226",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "80a8e9c3-df7a-4c81-a24b-d2e7c27d7c34",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Here, I restored the code of Spark 2.4: https://github.com/apache/spark/blob/branch-2.4/sql/catalyst/src/test/scala/org/apache/spark/sql/catalyst/util/DateTimeUtilsSuite.scala#L88",
        "createdAt" : "2020-03-22T20:04:59Z",
        "updatedAt" : "2020-03-24T07:33:21Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "46b6613e4025f91487ce58e09cf0a1bccb17897e",
    "line" : 11,
    "diffHunk" : "@@ -1,1 +91,95 @@    def checkFromToJavaDate(d1: Date): Unit = {\n      val d2 = toJavaDate(fromJavaDate(d1))\n      assert(d2.toString === d1.toString)\n    }\n"
  }
]