[
  {
    "id" : "fae57634-c0d7-4763-8f18-93b754631c47",
    "prId" : 33022,
    "prUrl" : "https://github.com/apache/spark/pull/33022#pullrequestreview-690180987",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3a885340-9db9-45c2-8f08-df114407b601",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Maybe it's too late to ask now, but why `TryCast` is tested with `AnsiCastSuiteBase`? it's not ansi actually.",
        "createdAt" : "2021-06-22T16:48:49Z",
        "updatedAt" : "2021-06-22T16:48:58Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "680ac22b-5acc-467c-8fc7-bef27d18e6f0",
        "parentId" : "3a885340-9db9-45c2-8f08-df114407b601",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Yes `TryCast` is identical to CAST with configuration `spark.sql.ansi.enabled` as true. For the test cases in AnsiCastSuiteBase are suitable for `TryCastSuite` except that all the exceptions should not happen in the test suite. There is a hack for overriding `checkExceptionInExpression` in `TryCastSuite` to ensure that.",
        "createdAt" : "2021-06-23T03:32:19Z",
        "updatedAt" : "2021-06-23T03:32:20Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      }
    ],
    "commit" : "79c02b75fbaa208a70926ff7b00ae9dc1178d02f",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +30,34 @@ *   1. [[Cast]] with ANSI mode enabled\n *   2. [[AnsiCast]]\n *   3. [[TryCast]]\n * Note: for new test cases that work for [[Cast]], [[AnsiCast]] and [[TryCast]], please add them\n *       in `CastSuiteBase` instead of this file to ensure the test coverage."
  },
  {
    "id" : "09789385-ba51-4006-aa21-3701ebfa3eac",
    "prId" : 32918,
    "prUrl" : "https://github.com/apache/spark/pull/32918#pullrequestreview-684165668",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8e0d1f3e-9b98-4311-aa33-4959132c489e",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "we can override the `test` method in `AnsiCastSuiteBase` to automatically add the \"ANSI mode:\" prefix in the test name.",
        "createdAt" : "2021-06-15T15:18:13Z",
        "updatedAt" : "2021-06-15T15:18:13Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "cbc06c01-0f51-4662-87ca-4005921ab32a",
        "parentId" : "8e0d1f3e-9b98-4311-aa33-4959132c489e",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "Hmm, that will affect the common test cases in CastSuiteBase which are not ANSI-mode-specific behavior. ",
        "createdAt" : "2021-06-15T15:25:30Z",
        "updatedAt" : "2021-06-15T15:25:30Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "35c8a417-1b32-4309-940b-67b8ee67b8db",
        "parentId" : "8e0d1f3e-9b98-4311-aa33-4959132c489e",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "oh I see",
        "createdAt" : "2021-06-15T15:29:41Z",
        "updatedAt" : "2021-06-15T15:29:41Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "6428b1675481401b5f0421cc6431d9c9fea3072f",
    "line" : 54,
    "diffHunk" : "@@ -1,1 +52,56 @@  }\n\n  test(\"ANSI mode: Throw exception on casting out-of-range value to byte type\") {\n    testIntMaxAndMin(ByteType)\n    Seq(Byte.MaxValue + 1, Byte.MinValue - 1).foreach { value =>"
  }
]