[
  {
    "id" : "93177093-26c0-4658-b299-97e10fc0f76b",
    "prId" : 27030,
    "prUrl" : "https://github.com/apache/spark/pull/27030#pullrequestreview-343028021",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "81a18bef-23eb-4405-9b21-53a70a29e538",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Ur, is this a valid test case? What happens when we try to create `CatalogTypes.emptyTablePartitionSpec`?",
        "createdAt" : "2020-01-13T01:57:07Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "c6ba5943-c751-455f-8078-de1a4eec541d",
        "parentId" : "81a18bef-23eb-4405-9b21-53a70a29e538",
        "authorId" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "body" : "agree with you, `CatalogTypes.emptyTablePartitionSpec` is not good option for unit test.  I have changed it. ",
        "createdAt" : "2020-01-13T20:47:29Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "tags" : [
        ]
      },
      {
        "id" : "8431e587-3408-4742-a080-386bc993e905",
        "parentId" : "81a18bef-23eb-4405-9b21-53a70a29e538",
        "authorId" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "body" : "Despite this, I think that empty partition creation should also produce the event. ",
        "createdAt" : "2020-01-13T20:51:53Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "tags" : [
        ]
      },
      {
        "id" : "f70d6331-6e4f-4e93-8a60-8c184b25ae96",
        "parentId" : "81a18bef-23eb-4405-9b21-53a70a29e538",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Does it happen in the real world? Can you give me an SQL example to create the empty partition?\r\n> Despite this, I think that empty partition creation should also produce the event.",
        "createdAt" : "2020-01-14T23:02:10Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "d9a2cff8-fc6d-4bb4-a3a5-c0eb83f56290",
        "parentId" : "81a18bef-23eb-4405-9b21-53a70a29e538",
        "authorId" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "body" : "hm, I cannot find an example, that's why I also think it isn't happening in the real world.",
        "createdAt" : "2020-01-15T07:33:19Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "tags" : [
        ]
      }
    ],
    "commit" : "30686b4a19edf7ceb13cd1d86838d4a1dd5c861b",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +238,242 @@    checkEvents(CreateTablePreEvent(\"db5\", \"tbl1\") :: CreateTableEvent(\"db5\", \"tbl1\") :: Nil)\n\n    catalog.createPartitions(\"db5\", \"tbl1\", Seq(partition), ignoreIfExists = false)\n    checkEvents(CreatePartitionPreEvent(\"db5\", \"tbl1\", Seq(partition)) ::\n      CreatePartitionEvent(\"db5\", \"tbl1\", Seq(partition)) :: Nil)"
  },
  {
    "id" : "9ee7bb94-9dbe-4df2-963f-9fcec3902ec6",
    "prId" : 27030,
    "prUrl" : "https://github.com/apache/spark/pull/27030#pullrequestreview-344376064",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "19c15739-39dd-41af-8787-afa61d79e727",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "This also sounds like `empty spec` to `key1=1 , key2=2`. Is this valid?",
        "createdAt" : "2020-01-13T01:59:21Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "107fe1f3-1548-449f-a684-99371877b4cb",
        "parentId" : "19c15739-39dd-41af-8787-afa61d79e727",
        "authorId" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "body" : "now it looks like `key=0`  to `key1=1, key2=2`",
        "createdAt" : "2020-01-13T20:48:46Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "tags" : [
        ]
      },
      {
        "id" : "eb457deb-e48d-4506-8bd6-be72b7428014",
        "parentId" : "19c15739-39dd-41af-8787-afa61d79e727",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Could you give me the real SQL statement for that?",
        "createdAt" : "2020-01-14T23:03:55Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "725efae0-72c6-4d05-995e-26f656f1d404",
        "parentId" : "19c15739-39dd-41af-8787-afa61d79e727",
        "authorId" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "body" : "So, I could not find the real SQL statement for that, that's why I changed this unit tests.",
        "createdAt" : "2020-01-17T05:56:13Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "tags" : [
        ]
      }
    ],
    "commit" : "30686b4a19edf7ceb13cd1d86838d4a1dd5c861b",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +250,254 @@      storage = CatalogStorageFormat.empty)\n\n    catalog.renamePartitions(\"db5\", \"tbl1\", Seq(partition.spec), Seq(newPartition.spec))\n    checkEvents(\n      RenamePartitionPreEvent(\"db5\", \"tbl1\", Seq(partition.spec), Seq(newPartition.spec)) ::"
  },
  {
    "id" : "e466d6b4-2386-4b55-98c2-8bfe6022ad34",
    "prId" : 27030,
    "prUrl" : "https://github.com/apache/spark/pull/27030#pullrequestreview-348352499",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "6f7bb957-77a1-4e30-a324-31bdef0d2dc5",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Ur, is this correct? We already created the same `partition` at line 240 and we tried with `ignoreIfExists=true` here. I guess `CreatePartitionEvent` should not occur.",
        "createdAt" : "2020-01-24T04:27:24Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "7ba2180c-ab84-40b0-bc7d-078b9d73025c",
        "parentId" : "6f7bb957-77a1-4e30-a324-31bdef0d2dc5",
        "authorId" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "body" : "I agree with you, it looks incorrect, but we can not check if the partition has been created or not created in case of using  `ignoreIfExists=true`",
        "createdAt" : "2020-01-25T14:32:58Z",
        "updatedAt" : "2020-01-25T14:42:29Z",
        "lastEditedBy" : "c4496f50-d6b8-41cb-bce8-beb0fad088a1",
        "tags" : [
        ]
      },
      {
        "id" : "04a5f5f7-f350-4d20-8ca1-16398508eb8f",
        "parentId" : "6f7bb957-77a1-4e30-a324-31bdef0d2dc5",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "If then, this is not helpful in that case because we cannot distinguish the difference.",
        "createdAt" : "2020-01-26T00:32:49Z",
        "updatedAt" : "2020-01-26T00:32:49Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "30686b4a19edf7ceb13cd1d86838d4a1dd5c861b",
    "line" : 38,
    "diffHunk" : "@@ -1,1 +244,248 @@    catalog.createPartitions(\"db5\", \"tbl1\", Seq(partition), ignoreIfExists = true)\n    checkEvents(CreatePartitionPreEvent(\"db5\", \"tbl1\", Seq(partition)) ::\n      CreatePartitionEvent(\"db5\", \"tbl1\", Seq(partition)) :: Nil)\n\n    // RENAME"
  }
]