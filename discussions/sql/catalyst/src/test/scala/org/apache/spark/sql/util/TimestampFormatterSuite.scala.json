[
  {
    "id" : "4e3d80d8-2fde-49fa-8511-908d80e46a61",
    "prId" : 27906,
    "prUrl" : "https://github.com/apache/spark/pull/27906#pullrequestreview-375738082",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3df88ad1-eacd-49d3-b8fd-8435330f81e6",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "is this really needed? The test input is fixed: `2018-12-02T10:11:12.001234`",
        "createdAt" : "2020-03-17T04:17:37Z",
        "updatedAt" : "2020-03-17T07:11:18Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "9bedd170-c80f-4fcd-90e2-fbd61cf0670f",
        "parentId" : "3df88ad1-eacd-49d3-b8fd-8435330f81e6",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "We are not going to use fixed-length formatter for parsing right?  So I guess test that one is not needed anymore. the var-length formatter should work fine with fixed inputs.",
        "createdAt" : "2020-03-17T04:47:32Z",
        "updatedAt" : "2020-03-17T07:11:18Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec4408341fc8589becdc67e8fa7231cd07ec4d7f",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +46,50 @@        \"yyyy-MM-dd'T'HH:mm:ss.SSSSSS\",\n        DateTimeUtils.getZoneId(zoneId),\n        needVarLengthSecondFraction = true)\n      val microsSinceEpoch = formatter.parse(localDate)\n      assert(microsSinceEpoch === expectedMicros(zoneId))"
  },
  {
    "id" : "9f27b536-3df4-4c05-a458-c3a74c7f0195",
    "prId" : 27906,
    "prUrl" : "https://github.com/apache/spark/pull/27906#pullrequestreview-375754082",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "48209eb8-00ce-43d0-818f-7a0ec802cca5",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ditto",
        "createdAt" : "2020-03-17T04:18:06Z",
        "updatedAt" : "2020-03-17T07:11:18Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "b1a3ffda-79b4-4736-aee6-19da9ce8b01e",
        "parentId" : "48209eb8-00ce-43d0-818f-7a0ec802cca5",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "this change is needed because it is how the actual roundtrip goes no matter what the input is",
        "createdAt" : "2020-03-17T05:11:41Z",
        "updatedAt" : "2020-03-17T07:11:18Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "82aae295-5006-49ea-b6b4-771fbe57ade6",
        "parentId" : "48209eb8-00ce-43d0-818f-7a0ec802cca5",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ok makes sense.",
        "createdAt" : "2020-03-17T05:46:32Z",
        "updatedAt" : "2020-03-17T07:11:18Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec4408341fc8589becdc67e8fa7231cd07ec4d7f",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +87,91 @@          val timestamp = TimestampFormatter(pattern, zoneId).format(micros)\n          val parsed = TimestampFormatter(\n            pattern, zoneId, needVarLengthSecondFraction = true).parse(timestamp)\n          assert(micros === parsed)\n        }"
  },
  {
    "id" : "05c50f1b-31ca-485c-b6f0-b0ef6fd1cb2c",
    "prId" : 27906,
    "prUrl" : "https://github.com/apache/spark/pull/27906#pullrequestreview-375756141",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "689eb701-6e8b-40e2-9462-2094ac314463",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "is the point to test the actual parser? with `needVarLengthSecondFraction = true`.",
        "createdAt" : "2020-03-17T05:51:10Z",
        "updatedAt" : "2020-03-17T07:11:18Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "3f02ec69-ea1e-4c0f-aec6-25c8a28866c8",
        "parentId" : "689eb701-6e8b-40e2-9462-2094ac314463",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "yes, the actual parser should work with patterns w/o SSS too. I don't add new tests in TimestampFormatterSuite but modify the existing ones because we have enough e2e tests in `date_time.sql`",
        "createdAt" : "2020-03-17T05:53:15Z",
        "updatedAt" : "2020-03-17T07:11:18Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "ec4408341fc8589becdc67e8fa7231cd07ec4d7f",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +238,242 @@\n  test(\"SPARK-30958: parse timestamp with negative year\") {\n    val formatter1 = TimestampFormatter(\"yyyy-MM-dd HH:mm:ss\", ZoneOffset.UTC, true)\n    assert(formatter1.parse(\"-1234-02-22 02:22:22\") === instantToMicros(\n      LocalDateTime.of(-1234, 2, 22, 2, 22, 22).toInstant(ZoneOffset.UTC)))"
  }
]