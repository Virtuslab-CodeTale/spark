[
  {
    "id" : "6d04fe12-9345-406b-93d5-cb29e10a3e0c",
    "prId" : 31475,
    "prUrl" : "https://github.com/apache/spark/pull/31475#pullrequestreview-587342335",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9c2a8fc4-9f74-4ff5-b45d-ec3e24d564eb",
        "parentId" : null,
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "Why include \"table\" in the method name? `table.truncate()` seems clear enough to me.",
        "createdAt" : "2021-02-09T19:45:37Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      },
      {
        "id" : "fc70530c-d01d-494b-b197-4dc33a3a602b",
        "parentId" : "9c2a8fc4-9f74-4ff5-b45d-ec3e24d564eb",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "Actually, this seems to mirror the other uses so I'm okay with it. I'd probably remove it but it seems okay to leave as is if you feel strongly about it.",
        "createdAt" : "2021-02-09T20:07:26Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      },
      {
        "id" : "e2755220-04c3-4e33-a707-b877f8dda92a",
        "parentId" : "9c2a8fc4-9f74-4ff5-b45d-ec3e24d564eb",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I just followed naming convention (maybe informal one) in other interfaces. For instance, if a table implements `TruncatableTable`, `SupportsPartitionManagement` and `SupportsAtomicPartitionManagement`, we have 3 methods in the same namespace:\r\n- truncatePartition()\r\n- truncatePartitions()\r\n- and truncate()\r\n\r\nIn that case, maybe it is better to name this method as `truncateTable()` which can highlight that it is applied to entire table.\r\n",
        "createdAt" : "2021-02-10T08:10:10Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "b758060948cdb73e939eeb8ca923bc00caf111dd",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +32,36 @@   * @since 3.2.0\n   */\n  boolean truncateTable();\n}"
  },
  {
    "id" : "1afbf84e-3888-4348-bc7c-b931158b1bac",
    "prId" : 31475,
    "prUrl" : "https://github.com/apache/spark/pull/31475#pullrequestreview-587842592",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f0093b52-afd8-4cdd-ad07-98c048cabc04",
        "parentId" : null,
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "The other traits use `Supports` as the first word, but `SupportsTruncate` already exists. This name is okay, but others may want to change it.",
        "createdAt" : "2021-02-09T19:47:55Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      },
      {
        "id" : "3edf2454-7daf-444b-9c03-a64bf8c210fa",
        "parentId" : "f0093b52-afd8-4cdd-ad07-98c048cabc04",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Maybe, do we need `Atomic` in the name? For example, `SupportsAtomicTruncate` is better?",
        "createdAt" : "2021-02-09T19:49:54Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "7c7b4b94-b676-40ea-8cb7-ec8a1efe6117",
        "parentId" : "f0093b52-afd8-4cdd-ad07-98c048cabc04",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "All of the operations should be atomic, right? Certainly, that's the expectation of a write that truncates and then appends data. @MaxGekk cited that as a reason above why this interface is needed.",
        "createdAt" : "2021-02-09T20:06:35Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      },
      {
        "id" : "64070547-ee03-4456-a9f0-7fe219c1f87f",
        "parentId" : "f0093b52-afd8-4cdd-ad07-98c048cabc04",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "if we name this interface as `SupportsAtomicTruncate`, someone may guess that `SupportsTruncate` is opposite to it (means non-atomic truncate) or both atomic and non-atomic truncate. But actually, those two interfaces are \"orthogonals\" in some sense.",
        "createdAt" : "2021-02-10T08:39:09Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "d8726779-5e94-43c2-9481-32df51b15f0e",
        "parentId" : "f0093b52-afd8-4cdd-ad07-98c048cabc04",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "I don't think that adding `Atomic` to the name is a good idea. The other operations don't specify whether an operation is atomic and I don't think that this should necessarily either. If I understand correctly, the purpose of this is to allow using `TRUNCATE` for JDBC or similar optimizations. That's more likely to be atomic, but may not be. It looks like the Hive implementation would not be because the partitions are kept.",
        "createdAt" : "2021-02-10T17:04:58Z",
        "updatedAt" : "2021-02-18T10:05:20Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      }
    ],
    "commit" : "b758060948cdb73e939eeb8ca923bc00caf111dd",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +24,28 @@ */\n@Evolving\npublic interface TruncatableTable extends Table {\n  /**\n   * Truncate a table by removing all rows from the table atomically."
  }
]