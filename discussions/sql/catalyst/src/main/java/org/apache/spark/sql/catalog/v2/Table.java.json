[
  {
    "id" : "07f41e56-8a4b-43e4-96b6-b653e563dbfd",
    "prId" : 24410,
    "prUrl" : "https://github.com/apache/spark/pull/24410#pullrequestreview-228744706",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I think we only want to move to the catalyst module but not the `catalog` package?",
        "createdAt" : "2019-04-18T23:15:21Z",
        "updatedAt" : "2019-04-18T23:15:21Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "a11cf3b2-ad02-471b-a52d-a8768ad4c99e",
        "parentId" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "authorId" : "806aa501-9ea7-4cec-b017-a84d9a1602d8",
        "body" : "I think moving to the `catalog` package immediately makes sense. If we're going to have a move PR, might as well do as much of the moves as we can in one shot.",
        "createdAt" : "2019-04-18T23:20:19Z",
        "updatedAt" : "2019-04-18T23:20:19Z",
        "lastEditedBy" : "806aa501-9ea7-4cec-b017-a84d9a1602d8",
        "tags" : [
        ]
      },
      {
        "id" : "8e7a9718-7c93-4f75-8e96-1eb198be6415",
        "parentId" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "I agree with Matt. Why would we only do half of the move in this PR?",
        "createdAt" : "2019-04-18T23:55:30Z",
        "updatedAt" : "2019-04-18T23:55:30Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      },
      {
        "id" : "1e9fd424-ef92-48fe-8ec7-43c309a51574",
        "parentId" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "well, if we want to move the package, shall we consider the proposal from @rxin?\r\n\r\ni.e.\r\n`TableCatalog` and its friends -> `org.apache.spark.sql.connectors.catalog`\r\n`Table` and its friends -> `org.apache.spark.sql.connectors.table`",
        "createdAt" : "2019-04-19T00:18:21Z",
        "updatedAt" : "2019-04-19T00:18:21Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "454b0a5f-7886-4d4a-946a-178c3d7950c4",
        "parentId" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "@cloud-fan, we want to get #24246 in as soon as possible to so that we can get all of this work done in time for the release.\r\n\r\nThe point of this PR is to make reviewing #24246 easier, not to consider all of the other moves that we may need to make. We need these changes to add the TableCatalog API, so let's get just this done.",
        "createdAt" : "2019-04-19T00:31:14Z",
        "updatedAt" : "2019-04-19T00:31:14Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      },
      {
        "id" : "9ec1ab53-a92f-49c4-8fb9-adfb9af623bd",
        "parentId" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "authorId" : "806aa501-9ea7-4cec-b017-a84d9a1602d8",
        "body" : "While I agree we want to get this in sooner, I think it's cumbersome to have two package move PRs if we don't need to. I.e. we should do as few move-only PRs as possible.\r\n\r\nWhat I'd like to avoid is a case in the future where we decide that we should move packages again before we merge another feature. I.e. we end up repeating the situation we're in now, again in some future feature.\r\n\r\nSo I think it's at least worth considering if there's any reason to think we want the package hierarchy to be different from what we have proposed here. But I wouldn't belabor the point too long - we can always still change our mind later if necessary.\r\n\r\nThat being said I don't feel strongly either way. @rxin and @cloud-fan, what's the specific rationale for having a separate `table` package?",
        "createdAt" : "2019-04-19T00:36:23Z",
        "updatedAt" : "2019-04-19T00:36:24Z",
        "lastEditedBy" : "806aa501-9ea7-4cec-b017-a84d9a1602d8",
        "tags" : [
        ]
      },
      {
        "id" : "c4cdd886-fee3-4ce4-9ad4-65b1fa0baa6d",
        "parentId" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I think it takes time to reach a consensus about how the package hierarchy should be. To get the table catalog PR in ASAP, I'd suggest to not move packages at this stage.\r\n\r\nIt will be quite wasteful if we decide to have a table package later and undo most of the changes in this PR.",
        "createdAt" : "2019-04-19T00:48:04Z",
        "updatedAt" : "2019-04-19T00:48:05Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "cbe5722d-3135-4d4b-a0b3-4ad96db86455",
        "parentId" : "ca549afa-c2a8-4053-b66b-6dddef6e3159",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "This is my fault. I should have insisted from the start that `Table` should be in the `catalog` package, but I didn't want a needless argument about it at the time.\r\n\r\n`Table` is part of the catalog API because it is what table catalogs pass back to Spark. That's why it was part of the original PR, #21306. This makes the catalog API self-contained, and the storage API is dependent on it. The two should not be inter-dependent. We should be able to update either one without affecting the other.\r\n\r\nBut the purpose of this PR is not to block the table catalog API and other work while we debate organization. I'll close this PR and revert the package move in #24246. Then we can get that in without further code churn.",
        "createdAt" : "2019-04-19T16:18:56Z",
        "updatedAt" : "2019-04-19T16:18:56Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      }
    ],
    "commit" : "f249ddbfddff5c5f10da915e52fe1c10d6f57383",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +16,20 @@ */\n\npackage org.apache.spark.sql.catalog.v2;\n\nimport org.apache.spark.annotation.Evolving;"
  }
]