[
  {
    "id" : "6030794a-0dfa-4ce7-a4e7-6f7ee530c084",
    "prId" : 32959,
    "prUrl" : "https://github.com/apache/spark/pull/32959#pullrequestreview-699672586",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c26a8b86-6b67-44be-b4e4-04395a2992a5",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "for `+12:12:12` do we fail or simply ignore the `+`?",
        "createdAt" : "2021-07-02T07:43:04Z",
        "updatedAt" : "2021-07-02T07:43:05Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "c0cbbf63-1d67-4715-9a42-02aae348c9cc",
        "parentId" : "c26a8b86-6b67-44be-b4e4-04395a2992a5",
        "authorId" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "body" : "we simply ignore the `+`",
        "createdAt" : "2021-07-02T08:39:31Z",
        "updatedAt" : "2021-07-02T08:39:31Z",
        "lastEditedBy" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "tags" : [
        ]
      },
      {
        "id" : "af877d78-37ab-428b-946f-ab7e50559766",
        "parentId" : "c26a8b86-6b67-44be-b4e4-04395a2992a5",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I think failing is better? Since we won't respect `-` here anyway.",
        "createdAt" : "2021-07-02T12:05:50Z",
        "updatedAt" : "2021-07-02T12:05:50Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "9ac87ba2-0867-4f4b-8e12-0150d813092c",
        "parentId" : "c26a8b86-6b67-44be-b4e4-04395a2992a5",
        "authorId" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "body" : "actually the we will respect the `-`, for example:\r\n```\r\nscala> sql(\"select date'-12-12-12'\").show()\r\n+------------------+\r\n|DATE '-0012-12-12'|\r\n+------------------+\r\n|       -0012-12-12|\r\n+------------------+\r\n\r\nscala> sql(\"select date'+12-12-12'\").show()\r\n+-----------------+\r\n|DATE '0012-12-12'|\r\n+-----------------+\r\n|       0012-12-12|\r\n+-----------------+\r\n\r\n```",
        "createdAt" : "2021-07-05T02:48:07Z",
        "updatedAt" : "2021-07-05T02:48:07Z",
        "lastEditedBy" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "tags" : [
        ]
      },
      {
        "id" : "9e93ba1e-eb7d-439e-b1e7-3a99ec964bc2",
        "parentId" : "c26a8b86-6b67-44be-b4e4-04395a2992a5",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "are you sure? It seems we only consider the sign for year: https://github.com/apache/spark/pull/32959/files#diff-f59286f6576476c68ae766de0430fc41d424804dbb0658e0dccd998b0d9a756dR404",
        "createdAt" : "2021-07-06T04:58:54Z",
        "updatedAt" : "2021-07-06T04:58:54Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "5c61b2c4-d1c3-4c33-90a0-beb0572e21ef",
        "parentId" : "c26a8b86-6b67-44be-b4e4-04395a2992a5",
        "authorId" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "body" : "I see. good catch.",
        "createdAt" : "2021-07-06T08:24:40Z",
        "updatedAt" : "2021-07-06T08:24:40Z",
        "lastEditedBy" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "tags" : [
        ]
      }
    ],
    "commit" : "538463a405c2eac1ddfccba8d82ca846f81e5a22",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +231,235 @@   * `[+-]yyyy*-[m]m-[d]d [h]h:[m]m:[s]s.[ms][ms][ms][us][us][us][zone_id]`\n   * `[+-]yyyy*-[m]m-[d]dT[h]h:[m]m:[s]s.[ms][ms][ms][us][us][us][zone_id]`\n   * `[h]h:[m]m:[s]s.[ms][ms][ms][us][us][us][zone_id]`\n   * `T[h]h:[m]m:[s]s.[ms][ms][ms][us][us][us][zone_id]`\n   *"
  },
  {
    "id" : "a06752c3-bfc2-4f57-8305-142a2ff49d6a",
    "prId" : 32959,
    "prUrl" : "https://github.com/apache/spark/pull/32959#pullrequestreview-702361484",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8d601ae4-ec6b-4303-810f-dbea949522fc",
        "parentId" : null,
        "authorId" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "body" : "segments except year are allowed to have 0 digits before this PR. so I didn't do zero checks for these segments.\r\nfor example, before and after this PR, the below query is valid:\r\n```sql\r\nselect cast('12::' as timestamp); -- output: 2021-07-07 12:00:00\r\nselect cast('T' as timestamp); -- output: 2021-07-07 00:00:00\r\n```",
        "createdAt" : "2021-07-07T03:36:24Z",
        "updatedAt" : "2021-07-07T04:58:50Z",
        "lastEditedBy" : "29c89154-22f7-40ee-b295-115a55734d6c",
        "tags" : [
        ]
      },
      {
        "id" : "5ab0c04f-e5f4-4022-88ee-bc0c037acb54",
        "parentId" : "8d601ae4-ec6b-4303-810f-dbea949522fc",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "good catch, we should fail it. Let's do it in another PR.",
        "createdAt" : "2021-07-08T18:07:32Z",
        "updatedAt" : "2021-07-08T18:07:33Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "538463a405c2eac1ddfccba8d82ca846f81e5a22",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +255,259 @@      // For the nanosecond part, more than 6 digits is allowed, but will be truncated.\n      segment == 6 || (segment == 0 && digits >= 4 && digits <= maxDigitsYear) ||\n        (segment != 0 && segment != 6 && digits <= 2)\n    }\n    if (s == null || s.trimAll().numBytes() == 0) {"
  }
]