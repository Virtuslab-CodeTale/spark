[
  {
    "id" : "6c6504bc-7f74-464e-a999-25e32428e6e4",
    "prId" : 26868,
    "prUrl" : "https://github.com/apache/spark/pull/26868#pullrequestreview-336702391",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0476a217-fdf8-4737-851a-ffffa15b56e7",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "`org.apache.spark.sql.internal` is a private package (as defined in `project/SparkBuild.scala#Unidoc#ignoreUndocumentedPackages`).",
        "createdAt" : "2019-12-27T08:20:53Z",
        "updatedAt" : "2020-01-30T12:56:55Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "c9510b31-1b54-46ff-8a0e-930cb3cf4e23",
        "parentId" : "0476a217-fdf8-4737-851a-ffffa15b56e7",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I pick this instead of `org.apache.spark.sql.execution.datasources.v2` because that package is only in sql/core and it's weird to see an `execution` package in catalyst.",
        "createdAt" : "2019-12-27T08:22:15Z",
        "updatedAt" : "2020-01-30T12:56:55Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ceb46ec733b5c42b7bd07c41e51b36efd1936e0",
    "line" : 18,
    "diffHunk" : "@@ -1,1 +16,20 @@ */\n\npackage org.apache.spark.sql.internal.connector\n\nimport java.util"
  },
  {
    "id" : "280a3d7d-7d61-418e-8eae-79bba0337963",
    "prId" : 26868,
    "prUrl" : "https://github.com/apache/spark/pull/26868#pullrequestreview-344315255",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "30d56391-6f97-4087-b7e7-71f35091b35c",
        "parentId" : null,
        "authorId" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "body" : "why is this an assertion? Wouldn't this be the API to create a table in DataFrameWriter with partitioning?",
        "createdAt" : "2020-01-17T01:13:49Z",
        "updatedAt" : "2020-01-30T12:56:55Z",
        "lastEditedBy" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "tags" : [
        ]
      },
      {
        "id" : "093ae66a-7cff-44fa-b526-e4cf40ec1671",
        "parentId" : "30d56391-6f97-4087-b7e7-71f35091b35c",
        "authorId" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "body" : "nvm, this isn't used for FileBased tables",
        "createdAt" : "2020-01-17T01:14:56Z",
        "updatedAt" : "2020-01-30T12:56:55Z",
        "lastEditedBy" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ceb46ec733b5c42b7bd07c41e51b36efd1936e0",
    "line" : 47,
    "diffHunk" : "@@ -1,1 +45,49 @@      partitioning: Array[Transform],\n      properties: util.Map[String, String]): Table = {\n    assert(partitioning.isEmpty)\n    getOrLoadTable(new CaseInsensitiveStringMap(properties))\n  }"
  },
  {
    "id" : "02118b9f-2b48-4b2e-af7f-ffd9f182b5e7",
    "prId" : 26868,
    "prUrl" : "https://github.com/apache/spark/pull/26868#pullrequestreview-350416662",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eab78924-1b70-4c2d-b0ab-f85d12d5a129",
        "parentId" : null,
        "authorId" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "body" : "Wouldn't this cause issues if you load two different Kafka tables? Shouldn't this be an options to table map? I'd probably turn this into a guava cache with an expiration so that you don't leak anything",
        "createdAt" : "2020-01-29T20:53:50Z",
        "updatedAt" : "2020-01-30T12:56:55Z",
        "lastEditedBy" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "tags" : [
        ]
      },
      {
        "id" : "f2e23ad6-945f-48fe-b208-84432dcfac20",
        "parentId" : "eab78924-1b70-4c2d-b0ab-f85d12d5a129",
        "authorId" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "body" : "nvm, TableProviders have to be classes, not singleton objects. This should be fine",
        "createdAt" : "2020-01-29T20:58:18Z",
        "updatedAt" : "2020-01-30T12:56:55Z",
        "lastEditedBy" : "471c3dfe-259c-447a-9abd-f7fdecccd9a7",
        "tags" : [
        ]
      }
    ],
    "commit" : "2ceb46ec733b5c42b7bd07c41e51b36efd1936e0",
    "line" : 33,
    "diffHunk" : "@@ -1,1 +31,35 @@  def getTable(options: CaseInsensitiveStringMap): Table\n\n  private[this] var loadedTable: Table = _\n  private def getOrLoadTable(options: CaseInsensitiveStringMap): Table = {\n    if (loadedTable == null) loadedTable = getTable(options)"
  }
]