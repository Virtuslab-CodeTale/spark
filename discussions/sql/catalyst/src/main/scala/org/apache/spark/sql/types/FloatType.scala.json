[
  {
    "id" : "f80cbbaa-8786-463a-a5a0-2b5611ade71b",
    "prId" : 26799,
    "prUrl" : "https://github.com/apache/spark/pull/26799#pullrequestreview-330828976",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3f7b5fe2-48aa-4f16-87c8-5e5b44e55769",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "```\r\nWarning:Warning:line (81)method apply in object BigDecimal is deprecated (since 2.11.0): The default conversion from Float may not do what you want. Use BigDecimal.decimal for a String representation, or explicitly convert the Float with .toDouble.\r\n```",
        "createdAt" : "2019-12-08T21:07:37Z",
        "updatedAt" : "2019-12-08T21:13:44Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "11c0541b-1139-4664-91fb-2643821eca49",
        "parentId" : "3f7b5fe2-48aa-4f16-87c8-5e5b44e55769",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "This code I copied from Scala 2.12 very recently. I think this is probably OK, but I don't know the implications of it.",
        "createdAt" : "2019-12-09T17:20:19Z",
        "updatedAt" : "2019-12-09T17:20:23Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "36aabf3d-93e5-495d-9429-92bf4a391a28",
        "parentId" : "3f7b5fe2-48aa-4f16-87c8-5e5b44e55769",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "If we are not sure about the implications, shall we revert this part and merge this PR, @MaxGekk ?",
        "createdAt" : "2019-12-11T04:33:55Z",
        "updatedAt" : "2019-12-11T04:33:55Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "4fe33d06-04f7-470c-8cad-f3ff2254c498",
        "parentId" : "3f7b5fe2-48aa-4f16-87c8-5e5b44e55769",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I think we can leave it, just because this is the implementation:\r\n```\r\n  def apply(x: Float): BigDecimal = apply(x.toDouble)\r\n```\r\nI am not sure why it's deprecated, or what the 'default conversion' issue is. I understand the issue with double/float not being exact representations, but then why is `apply(Double)` not deprecated? ",
        "createdAt" : "2019-12-11T14:21:04Z",
        "updatedAt" : "2019-12-11T14:21:05Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "fff0bb9c-edd2-4117-b994-2cf233d43e34",
        "parentId" : "3f7b5fe2-48aa-4f16-87c8-5e5b44e55769",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "> I am not sure why it's deprecated, or what the 'default conversion' issue is.\r\n\r\nThe code was removed by https://github.com/scala/scala/pull/6468/files#diff-a1c7fbbd4efafafc57671a3ac783aaeaL143-L149 due to troubles with Double/Float ranges.",
        "createdAt" : "2019-12-11T15:17:12Z",
        "updatedAt" : "2019-12-11T15:17:12Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "3bb39907-0a3f-43ab-ba7a-861fbbbf9f66",
        "parentId" : "3f7b5fe2-48aa-4f16-87c8-5e5b44e55769",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Yep it's gone in 2.13, which is why I just inlined it back here for 2.13 + 2.12 cross compilation. I get why scala is punting a lot on dealing with floating-point ordering. But to this point, I don't see why double would be different. DoubleAsIfIntegral went away too. Anyway, at least here, this change seems OK as it does not actually change behavior at all.",
        "createdAt" : "2019-12-11T15:22:39Z",
        "updatedAt" : "2019-12-11T15:22:39Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "ba3c2b2c-3438-4352-877c-476229e1a732",
        "parentId" : "3f7b5fe2-48aa-4f16-87c8-5e5b44e55769",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Got it. I'll leave this PR to @srowen .",
        "createdAt" : "2019-12-11T20:42:03Z",
        "updatedAt" : "2019-12-11T20:42:03Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "9a954fdbed1b5b375f6098e9b6ab106b15de1577",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +79,83 @@\n  trait FloatAsIfIntegral extends FloatIsConflicted with Integral[Float] {\n    def quot(x: Float, y: Float): Float = {\n      (BigDecimal(x.toDouble) quot BigDecimal(y.toDouble)).floatValue\n    }"
  }
]