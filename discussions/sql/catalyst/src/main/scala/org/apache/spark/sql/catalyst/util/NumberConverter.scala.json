[
  {
    "id" : "7a2edaf3-9770-4812-b159-8a11648bd623",
    "prId" : 33459,
    "prUrl" : "https://github.com/apache/spark/pull/33459#pullrequestreview-712329278",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16f04588-d2eb-4922-8a74-08c10fe2f547",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "can we update the method doc as well? it currently says `Convert invalid characters to -1.`",
        "createdAt" : "2021-07-21T16:27:06Z",
        "updatedAt" : "2021-07-21T16:27:07Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "2e68480c-7ca6-4f45-9223-9a1995befa9d",
        "parentId" : "16f04588-d2eb-4922-8a74-08c10fe2f547",
        "authorId" : "87a71d79-d4d2-4f2c-8e9a-be56cf39b035",
        "body" : "Updated! Thanks",
        "createdAt" : "2021-07-22T02:56:48Z",
        "updatedAt" : "2021-07-22T02:56:48Z",
        "lastEditedBy" : "87a71d79-d4d2-4f2c-8e9a-be56cf39b035",
        "tags" : [
        ]
      }
    ],
    "commit" : "3de094edf8c7b619a6a88862b278162909cd88ac",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +102,106 @@    while (i < value.length) {\n      value(i) = Character.digit(value(i), radix).asInstanceOf[Byte]\n      // if invalid characters are found, it no need to convert the suffix starting there\n      if (value(i) == -1) {\n        return"
  },
  {
    "id" : "d008692d-a6c3-45bf-ba51-bcbfcb9dd686",
    "prId" : 33459,
    "prUrl" : "https://github.com/apache/spark/pull/33459#pullrequestreview-714960858",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b4bb3c4f-4f78-4e0b-ba54-ef7283303097",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I'm not very familiar with this code. What does `bound` mean here?",
        "createdAt" : "2021-07-26T14:04:10Z",
        "updatedAt" : "2021-07-26T14:04:11Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "1dfe2075-a108-44f3-beda-f26ca18ab742",
        "parentId" : "b4bb3c4f-4f78-4e0b-ba54-ef7283303097",
        "authorId" : "87a71d79-d4d2-4f2c-8e9a-be56cf39b035",
        "body" : "bound is the max value which can multiply by radix and plus a value < radix without overflow when we treat Long value as Unsigned Long value, so if v is greater than bound, v*radix + value(i) will cause overflow",
        "createdAt" : "2021-07-26T15:00:05Z",
        "updatedAt" : "2021-07-26T15:12:22Z",
        "lastEditedBy" : "87a71d79-d4d2-4f2c-8e9a-be56cf39b035",
        "tags" : [
        ]
      },
      {
        "id" : "05b09f69-27a0-429f-8995-3dd230e67831",
        "parentId" : "b4bb3c4f-4f78-4e0b-ba54-ef7283303097",
        "authorId" : "87a71d79-d4d2-4f2c-8e9a-be56cf39b035",
        "body" : "note that when treating Long value as unsigned long value, as negative value will start with bit 1, negative value will be greater than positive values.\r\nthe presentation of unsigned long type is from 0000000000000000000000000000000000000000000000000000000000000000 (equal to 0 in long type)\r\nto \r\n1111111111111111111111111111111111111111111111111111111111111111 (equal to -1 in long type)",
        "createdAt" : "2021-07-26T15:05:29Z",
        "updatedAt" : "2021-07-26T15:05:53Z",
        "lastEditedBy" : "87a71d79-d4d2-4f2c-8e9a-be56cf39b035",
        "tags" : [
        ]
      }
    ],
    "commit" : "3de094edf8c7b619a6a88862b278162909cd88ac",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +52,56 @@    // bound will always be positive since radix >= 2\n    // Note that: -1 is equivalent to 11111111...1111 which is the largest unsigned long value\n    val bound = java.lang.Long.divideUnsigned(-1 - radix, radix)\n    var i = fromPos\n    while (i < value.length && value(i) >= 0) {"
  },
  {
    "id" : "64a6ed92-9983-4159-a244-a511e9cd8049",
    "prId" : 32006,
    "prUrl" : "https://github.com/apache/spark/pull/32006#pullrequestreview-624891886",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3ab4cf72-e486-45c4-a655-ff903708d9f6",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "yea we should use the standard Java API as possible as we can.",
        "createdAt" : "2021-03-31T04:57:39Z",
        "updatedAt" : "2021-03-31T04:57:39Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "3e254540a7e3f77c3b5db4bacb17f3b9332bf8de",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +33,37 @@    var i = value.length - 1\n    while (tmpV != 0) {\n      val q = java.lang.Long.divideUnsigned(tmpV, radix)\n      value(i) = (tmpV - q * radix).asInstanceOf[Byte]\n      tmpV = q"
  },
  {
    "id" : "77a87a39-1f05-4778-83e2-135b6d320d4d",
    "prId" : 30350,
    "prUrl" : "https://github.com/apache/spark/pull/30350#pullrequestreview-535970278",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "94429267-4ed6-4445-a5af-10d797f866a4",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Have you benchmarked it? In general, long is much faster than `BigInt`.",
        "createdAt" : "2020-11-19T13:49:29Z",
        "updatedAt" : "2020-12-14T08:56:15Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "1c153d97-160e-40ba-9084-14d41bfc22b6",
        "parentId" : "94429267-4ed6-4445-a5af-10d797f866a4",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> Have you benchmarked it? In general, long is much faster than `BigInt`.\r\n\r\nI will update a benchmark result later",
        "createdAt" : "2020-11-19T14:07:47Z",
        "updatedAt" : "2020-12-14T08:56:15Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      },
      {
        "id" : "829e5139-a987-41b9-8ba1-ba94f8e64874",
        "parentId" : "94429267-4ed6-4445-a5af-10d797f866a4",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "@cloud-fan Have update a benchmark result in PR desc, please check the performance inpact.",
        "createdAt" : "2020-11-21T14:34:43Z",
        "updatedAt" : "2020-12-14T08:56:15Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "8564e0f5761c0fcc3d013f7212a470e61938f78a",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +28,32 @@   * @param radix must be between MIN_RADIX and MAX_RADIX\n   */\n  private def decode(v: BigInt, radix: Int, value: Array[Byte]): Unit = {\n    var tmpV = v\n    java.util.Arrays.fill(value, 0.asInstanceOf[Byte])"
  }
]