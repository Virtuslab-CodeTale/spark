[
  {
    "id" : "f476c638-601b-41ac-b115-6edcb9be5fb6",
    "prId" : 27233,
    "prUrl" : "https://github.com/apache/spark/pull/27233#pullrequestreview-348367332",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "For non-empty input case, does this mean we will re-read the input table multi-times?",
        "createdAt" : "2020-01-26T00:18:11Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "245fac4e-4569-432c-899f-e8a5eca616c3",
        "parentId" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "To run additional Aggregate multi-times sounds also a burden on performance.",
        "createdAt" : "2020-01-26T00:32:51Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "0cad1844-cc5d-44da-b2f1-ff41bcb1e8c8",
        "parentId" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Yes. That's true in AS-IS PR. And, that could be a reason to drop this PR and JIRA completely.",
        "createdAt" : "2020-01-26T00:54:21Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "f0db0e6f-4dd6-449f-ba2a-07d53e9de239",
        "parentId" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "@viirya Yea, currently yes. I need more time to reconsider this, too, along with the comment https://github.com/apache/spark/pull/27233/files#r370965330\r\n\r\n> And, that could be a reason to drop this PR and JIRA completely.\r\n\r\n\r\n@dongjoon-hyun Do you think it is ok to keep the current behaviour?",
        "createdAt" : "2020-01-26T01:11:37Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "f68a2b81-f01a-4718-ae4b-c16f96be5c2f",
        "parentId" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "We have many open correctness or data-loss issues. This is one of them. Nobody thinks that is ok, but they are still open (or abandoned.)\r\n> Do you think it is ok to keep the current behavior?\r\n\r\nFor this specific issue, although Presto and PostgreSQL has a way, if Apache Spark community cannot find a proper solution for Apache Spark, it's difficult to land to master (even in 3.0.0). Consequently, there is no need to backport.",
        "createdAt" : "2020-01-26T01:44:43Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "a211147c-e027-4e71-9c37-fd9348fb6552",
        "parentId" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Yea, dropping this pr is ok, but I'm not sure that its ok to drop the jira. Since the current behaviour seems to be illegal in in terms of the relational theory semantics, I think the should keep open.",
        "createdAt" : "2020-01-26T03:02:17Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "52b2a3ec-a343-4ba2-938f-d562f76b99a5",
        "parentId" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Sure. I mean \"It could be\", not \"It should be\".\r\n\r\nFor the following, you and I explained that reason and most people seems to agree that this is a correctness issue now. However, we still didn't reach an agreement on that Apache Spark need to have this like Presto and PostgreSQL.\r\n> Since the current behaviour seems to be illegal in in terms of the relational theory semantics\r\n\r\nThere are many ways when a JIRA is closed. Sometimes, it's closed as 'Later'. Sometimes, it's closed as 'Won't Fix'. More frequently, it's just open for a long time and closed as 'Incomplete' in a bulk close.",
        "createdAt" : "2020-01-26T05:12:10Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "7f9e802f-8fdd-43db-8f15-507cebb84b75",
        "parentId" : "899f6194-f88c-445c-ad3b-536d1fdc1af8",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "ah, ok. Thanks for the explanation~",
        "createdAt" : "2020-01-26T09:20:31Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "44c681a9e1f1698c77eefcf43fa65519eeb1d3c5",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +68,72 @@ *       child = Project(\n *         projectList = ['v],\n *         child = LocalTableScan [...]))]\n * }}}\n */"
  },
  {
    "id" : "3641af3e-3aa1-4126-bea3-995dd4934ccb",
    "prId" : 27233,
    "prUrl" : "https://github.com/apache/spark/pull/27233#pullrequestreview-348353670",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b3f39fc7-3166-4e66-8c84-13eb4edbad1a",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "One possible side-effect of re-run `child` is, if there is some indeterminate expressions, we may get different projection output.",
        "createdAt" : "2020-01-26T00:31:01Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "cad878a9-658c-49f1-b801-e04226903a39",
        "parentId" : "b3f39fc7-3166-4e66-8c84-13eb4edbad1a",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Hmmm, I see... Good suggestion..., I need more time to reconsider the current approach.",
        "createdAt" : "2020-01-26T01:15:08Z",
        "updatedAt" : "2020-01-28T02:21:30Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "44c681a9e1f1698c77eefcf43fa65519eeb1d3c5",
    "line" : 125,
    "diffHunk" : "@@ -1,1 +123,127 @@            groupingExpressions = Nil,\n            aggregateExpressions = newAggExprs.map(_.asInstanceOf[NamedExpression]),\n            child = Project(newChildOutput, child))\n\n          groupsWithoutKeys.indices.map(_ => agg)"
  }
]