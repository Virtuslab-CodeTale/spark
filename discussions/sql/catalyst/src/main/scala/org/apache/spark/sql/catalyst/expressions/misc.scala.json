[
  {
    "id" : "1c109911-577b-4c8a-abc0-4f7be2ab3378",
    "prId" : 31509,
    "prUrl" : "https://github.com/apache/spark/pull/31509#pullrequestreview-585223098",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "036b9ea6-f7c5-4609-800f-8bad935a0ba5",
        "parentId" : null,
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "Hmmm how about add a result map and avoid re-compute same child?",
        "createdAt" : "2021-02-08T06:16:04Z",
        "updatedAt" : "2021-02-08T06:17:59Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      },
      {
        "id" : "9007a07d-7ae2-42a8-a5b3-4f1d88d38b8c",
        "parentId" : "036b9ea6-f7c5-4609-800f-8bad935a0ba5",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "Not sure what do you mean `same child` ?  This function just execute child one by one.",
        "createdAt" : "2021-02-08T07:42:55Z",
        "updatedAt" : "2021-02-08T07:42:55Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "41bb006f3c2f6d1cdf14f3a6903cb1818319c4d9",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +298,302 @@      result = child.eval(input)\n    }\n    result\n  }\n"
  },
  {
    "id" : "0a636a26-b096-41b5-a5a2-21e578eb2906",
    "prId" : 30614,
    "prUrl" : "https://github.com/apache/spark/pull/30614#pullrequestreview-549850021",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "009a7662-c402-4aa3-b3b5-4ae1d6233ef9",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "is this to skip comparing the stacktrace?",
        "createdAt" : "2020-12-11T07:16:13Z",
        "updatedAt" : "2020-12-11T07:16:14Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "fa28948d5672afa2f21888b043f37ef677475017",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +84,88 @@\n  private def errorEquals(other: Option[Throwable]): Boolean = (error, other) match {\n    case (Some(e), Some(o)) => e.getClass == o.getClass && e.getMessage == o.getMessage\n    case (None, None) => true\n    case _ => false"
  },
  {
    "id" : "64c955a2-0df5-45fb-89f7-cef47275f64c",
    "prId" : 29947,
    "prUrl" : "https://github.com/apache/spark/pull/29947#pullrequestreview-503493984",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c9aed364-8e21-4f9b-b181-c824f655abdf",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Define `nullable`? Based on current `eval`, I think it is should be false?",
        "createdAt" : "2020-10-07T02:55:52Z",
        "updatedAt" : "2020-10-08T03:03:41Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "a5a5a4f9-7a91-41bc-a59e-b57aca30e725",
        "parentId" : "c9aed364-8e21-4f9b-b181-c824f655abdf",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Oh, looks like it is true.",
        "createdAt" : "2020-10-07T03:06:06Z",
        "updatedAt" : "2020-10-08T03:03:41Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "5b93fd49313152356a3fd2baf6c21123170c4037",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +65,69 @@  \"\"\",\n  since = \"3.1.0\")\ncase class RaiseError(child: Expression) extends UnaryExpression with ImplicitCastInputTypes {\n\n  override def foldable: Boolean = false"
  },
  {
    "id" : "f0b5421a-6e21-4bd4-bc3b-f78df4b72e45",
    "prId" : 29947,
    "prUrl" : "https://github.com/apache/spark/pull/29947#pullrequestreview-503493821",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1deee281-02d7-4239-8cf7-77202e07f48d",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "This looks not correct?",
        "createdAt" : "2020-10-07T03:01:05Z",
        "updatedAt" : "2020-10-08T03:03:41Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "fb3db113-870b-437b-a1a5-faef8ff5bd07",
        "parentId" : "1deee281-02d7-4239-8cf7-77202e07f48d",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Oh, I see. It is `NullType`.",
        "createdAt" : "2020-10-07T03:05:28Z",
        "updatedAt" : "2020-10-08T03:03:41Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "5b93fd49313152356a3fd2baf6c21123170c4037",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +93,97 @@        |  throw new RuntimeException(${eval.value}.toString());\n        |}\"\"\".stripMargin,\n      isNull = TrueLiteral,\n      value = JavaCode.defaultLiteral(dataType)\n    )"
  },
  {
    "id" : "a663aaa9-ff98-480f-b3df-d07e1751e38d",
    "prId" : 28106,
    "prUrl" : "https://github.com/apache/spark/pull/28106#pullrequestreview-391983845",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5d1f3378-2fd4-4607-8570-dac08b33dffe",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "The set looks reasonable to me. Is there any other runtime exception that `try` cannot handle?",
        "createdAt" : "2020-04-13T06:19:42Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "07ff6f2c-743e-4765-9aad-e543ba544be9",
        "parentId" : "5d1f3378-2fd4-4607-8570-dac08b33dffe",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "e.g something related to privilege checking (like Hadoop ACL etc).",
        "createdAt" : "2020-04-13T06:27:28Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "cce4a6f9-7e4f-4226-b71a-28284b52cab0",
        "parentId" : "5d1f3378-2fd4-4607-8570-dac08b33dffe",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Ah, I see. Could you leave some comments here about the non-handled cases?",
        "createdAt" : "2020-04-13T06:41:43Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "57d5bb63aabe1a419b52e55e78b1f6a69a1e5251",
    "line" : 92,
    "diffHunk" : "@@ -1,1 +281,285 @@         _: DateTimeException |\n         _: NumberFormatException |\n         _: UnsupportedEncodingException => true\n    case _ => false\n  }"
  },
  {
    "id" : "55223564-4e86-461f-a546-2597dc96da31",
    "prId" : 28106,
    "prUrl" : "https://github.com/apache/spark/pull/28106#pullrequestreview-392027848",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f11d5d1-ceee-4753-93f0-be06142a79b0",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you add more example? (I think its better to cover all the cases, too)",
        "createdAt" : "2020-04-13T06:27:59Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "1039d80c-13be-4a8a-9e29-8dbc3c164c53",
        "parentId" : "4f11d5d1-ceee-4753-93f0-be06142a79b0",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "added more cases, but it's hard to list exhaustively",
        "createdAt" : "2020-04-13T08:41:10Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "57d5bb63aabe1a419b52e55e78b1f6a69a1e5251",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +220,224 @@      Examples:\n      > SELECT _FUNC_(1 / 0);\n       NULL\n      > SELECT _FUNC_(date_format(timestamp '2019-10-06', 'yyyy-MM-dd uucc'));\n       NULL"
  },
  {
    "id" : "c3ddad1c-b5f1-4571-b5b7-6f46e4c88465",
    "prId" : 28106,
    "prUrl" : "https://github.com/apache/spark/pull/28106#pullrequestreview-392028500",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3aa40d46-5b00-4adc-8a96-adbbc6f0ce73",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Could you add non-codegen tests via `checkEvaluation`?",
        "createdAt" : "2020-04-13T06:34:14Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "e28db5eb-203f-4519-bc84-672293b0aedc",
        "parentId" : "3aa40d46-5b00-4adc-8a96-adbbc6f0ce73",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "Add more interpret test cases in MiscExpressionsSuite for both w/ w/o codegen and ansi mode on/off",
        "createdAt" : "2020-04-13T08:42:37Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "57d5bb63aabe1a419b52e55e78b1f6a69a1e5251",
    "line" : 51,
    "diffHunk" : "@@ -1,1 +240,244 @@  override def eval(input: InternalRow): Any = {\n    try {\n      child.eval(input)\n    } catch {\n      case e if TryExpression.canSuppress(e) => null"
  },
  {
    "id" : "85b223d7-7d6e-4c3c-9722-4517aa7ea832",
    "prId" : 28106,
    "prUrl" : "https://github.com/apache/spark/pull/28106#pullrequestreview-392028537",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8233fe9e-15dd-4b83-afdc-5252ce7a82de",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "nit: format?\r\n```\r\n      ev.copy(\r\n        code\"\"\"\r\n           |...\r\n           |....\r\n         \"\"\".stripMargin)\r\n```",
        "createdAt" : "2020-04-13T06:36:40Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "3faac4ae-729a-4aaf-adff-fcca927a010d",
        "parentId" : "8233fe9e-15dd-4b83-afdc-5252ce7a82de",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "fixed",
        "createdAt" : "2020-04-13T08:42:43Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "57d5bb63aabe1a419b52e55e78b1f6a69a1e5251",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +250,254 @@    val javaType = CodeGenerator.javaType(dataType)\n    ev.copy(code =\n      code\"\"\"\n         |boolean ${ev.isNull} = false;\n         |$javaType ${ev.value} = ${CodeGenerator.defaultValue(dataType)};"
  },
  {
    "id" : "37681f2c-23ab-4248-b41f-f4115808c90f",
    "prId" : 28106,
    "prUrl" : "https://github.com/apache/spark/pull/28106#pullrequestreview-392608807",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2c56f79a-7e6e-4158-a440-384248f025ba",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "nit: \"the TRY function\" ->  \"the `_FUNC_` function\"?",
        "createdAt" : "2020-04-14T05:17:12Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "57d5bb63aabe1a419b52e55e78b1f6a69a1e5251",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +208,212 @@  usage = \"\"\"\n    _FUNC_(expr) - Evaluate an expression and handle certain types of runtime exceptions by returning NULL.\n    In cases where it is preferable that queries produce NULL instead of failing when corrupt or invalid data is encountered, the TRY function may be useful, especially when ANSI mode is on and the users need null-tolerant on certain columns or outputs.\n    AnalysisExceptions will not be handled by this, typically runtime exceptions handled by _FUNC_ function are:\n"
  },
  {
    "id" : "4956f2f0-440d-40c9-9427-f35e441b606a",
    "prId" : 28106,
    "prUrl" : "https://github.com/apache/spark/pull/28106#pullrequestreview-392608807",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e310910e-5ee0-444b-aa78-73cfc3d336fb",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Thanks for the update.",
        "createdAt" : "2020-04-14T05:19:00Z",
        "updatedAt" : "2020-05-06T10:16:01Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "57d5bb63aabe1a419b52e55e78b1f6a69a1e5251",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +215,219 @@      * IllegalArgumentException - e.g. invalid datetime pattern, missing format argument for string formatting,\n      * DateTimeException - e.g. invalid datetime values\n      * UnsupportedEncodingException - e.g. encode or decode string with invalid charset\n  \"\"\",\n  examples = \"\"\""
  },
  {
    "id" : "d2d4fc62-fee7-4e5c-bfcb-77e4c28d0fba",
    "prId" : 26209,
    "prUrl" : "https://github.com/apache/spark/pull/26209#pullrequestreview-307486068",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "259150ff-6813-4247-bd15-d149d630ffca",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Please override `foldable`, too.\r\n```scala\r\noverride def foldable: Boolean = true\r\n```",
        "createdAt" : "2019-10-25T22:58:34Z",
        "updatedAt" : "2019-10-26T01:47:19Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "48c667f799a1fc38ad60f2619c0ff71c49206013",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +171,175 @@// scalastyle:on line.size.limit\ncase class Version() extends LeafExpression with CodegenFallback {\n  override def nullable: Boolean = false\n  override def foldable: Boolean = true\n  override def dataType: DataType = StringType"
  },
  {
    "id" : "801b9c28-a2fc-481c-951d-39f22a79f5bd",
    "prId" : 26209,
    "prUrl" : "https://github.com/apache/spark/pull/26209#pullrequestreview-321935160",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b80682c5-137b-4125-9d8d-df7472b31ec1",
        "parentId" : null,
        "authorId" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "body" : "Could we change the class name to `SparkVersion()`? `Version()` is too general as a class name.",
        "createdAt" : "2019-11-23T02:41:45Z",
        "updatedAt" : "2019-11-23T02:41:45Z",
        "lastEditedBy" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "tags" : [
        ]
      },
      {
        "id" : "ffa49e71-f083-4f7f-9f2d-e4c799802791",
        "parentId" : "b80682c5-137b-4125-9d8d-df7472b31ec1",
        "authorId" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "body" : "cc @cloud-fan @Ngone51 ",
        "createdAt" : "2019-11-23T02:42:08Z",
        "updatedAt" : "2019-11-23T02:42:08Z",
        "lastEditedBy" : "d19fc546-1296-40ce-befb-9eca847aeceb",
        "tags" : [
        ]
      },
      {
        "id" : "7430329b-2f39-4abc-a53c-4c6048e056f2",
        "parentId" : "b80682c5-137b-4125-9d8d-df7472b31ec1",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "+1",
        "createdAt" : "2019-11-23T03:01:41Z",
        "updatedAt" : "2019-11-23T03:01:42Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "0844a56f-38a5-40db-a153-35f55c606f91",
        "parentId" : "b80682c5-137b-4125-9d8d-df7472b31ec1",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "+1",
        "createdAt" : "2019-11-23T05:44:48Z",
        "updatedAt" : "2019-11-23T05:44:48Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "f211b0c8-346c-4db7-b044-40aec4fd2a58",
        "parentId" : "b80682c5-137b-4125-9d8d-df7472b31ec1",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "+1.",
        "createdAt" : "2019-11-23T18:06:30Z",
        "updatedAt" : "2019-11-23T18:06:31Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "ee84bd86-8196-4d85-86b0-e84e52077883",
        "parentId" : "b80682c5-137b-4125-9d8d-df7472b31ec1",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "+1",
        "createdAt" : "2019-11-24T00:17:21Z",
        "updatedAt" : "2019-11-24T00:17:21Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "48c667f799a1fc38ad60f2619c0ff71c49206013",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +170,174 @@  since = \"3.0.0\")\n// scalastyle:on line.size.limit\ncase class Version() extends LeafExpression with CodegenFallback {\n  override def nullable: Boolean = false\n  override def foldable: Boolean = true"
  }
]