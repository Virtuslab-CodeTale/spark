[
  {
    "id" : "21513dcb-2c46-4135-a39a-d30be3cf62b6",
    "prId" : 24812,
    "prUrl" : "https://github.com/apache/spark/pull/24812#pullrequestreview-246674134",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5c518d42-bb4c-4694-a25b-2979f260fd82",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "`Some` -> `Option`?",
        "createdAt" : "2019-06-06T03:24:10Z",
        "updatedAt" : "2019-06-06T16:40:52Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "67da8629-8cc4-49a7-a2c3-4a46e7594578",
        "parentId" : "5c518d42-bb4c-4694-a25b-2979f260fd82",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "This always returns `Some` so I thought it was correct to use here. This practice was pointed out by @HyukjinKwon here: https://github.com/apache/spark/pull/24689#discussion_r287632404",
        "createdAt" : "2019-06-06T16:14:47Z",
        "updatedAt" : "2019-06-06T16:40:52Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      }
    ],
    "commit" : "453bb926ba230c486085014b58eb1468ac960baa",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +127,131 @@ */\nprivate object Lit {\n  def unapply[T](literal: Literal[T]): Some[(T, DataType)] = {\n    Some((literal.value, literal.dataType))\n  }"
  },
  {
    "id" : "01fa4777-83e6-454c-9bc6-96e76635e7c1",
    "prId" : 24812,
    "prUrl" : "https://github.com/apache/spark/pull/24812#pullrequestreview-246348707",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e76dc258-ebfa-4f6c-8595-ebed31ee63d4",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "`Some` -> `Option`.",
        "createdAt" : "2019-06-06T03:25:08Z",
        "updatedAt" : "2019-06-06T16:40:52Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "453bb926ba230c486085014b58eb1468ac960baa",
    "line" : 35,
    "diffHunk" : "@@ -1,1 +136,140 @@ */\nprivate object Ref {\n  def unapply(named: NamedReference): Some[Seq[String]] = {\n    Some(named.fieldNames)\n  }"
  },
  {
    "id" : "3474ccec-a107-4565-97f1-02f150d457ee",
    "prId" : 24812,
    "prUrl" : "https://github.com/apache/spark/pull/24812#pullrequestreview-246348732",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "12a2f029-14ad-478b-b1df-21722fbf290d",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "`Some` -> `Option`.",
        "createdAt" : "2019-06-06T03:25:18Z",
        "updatedAt" : "2019-06-06T16:40:52Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "453bb926ba230c486085014b58eb1468ac960baa",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +145,149 @@ */\nprivate object NamedTransform {\n  def unapply(transform: Transform): Some[(String, Seq[Expression])] = {\n    Some((transform.name, transform.arguments))\n  }"
  },
  {
    "id" : "f0b5cbb1-9be2-43e9-8713-f6e51afeefe6",
    "prId" : 24812,
    "prUrl" : "https://github.com/apache/spark/pull/24812#pullrequestreview-246679775",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "e117dd9e-e8ab-4fd4-9670-e98196e33f12",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "If we have `NamedTransform.unapply` and `Ref.unapply`, the others are not required much like the following.\r\n```scala\r\n-      case IdentityTransform(FieldReference(seq)) =>\r\n+      case NamedTransform(\"identity\", Seq(Ref(seq))) =>\r\n```\r\n\r\n```scala\r\n-      case YearsTransform(FieldReference(seq)) =>\r\n+      case NamedTransform(\"years\", Seq(Ref(seq))) =>\r\n```\r\n\r\nDo we need all of them?",
        "createdAt" : "2019-06-06T03:44:40Z",
        "updatedAt" : "2019-06-06T16:40:52Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "42840611-10f4-4199-9545-ff68013d6185",
        "parentId" : "e117dd9e-e8ab-4fd4-9670-e98196e33f12",
        "authorId" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "body" : "Yes, we need them.\r\n\r\nThe idea is to make any transform that is equivalent to an `IdentityTransform(...)` instance of Spark's case class work in a `match` expression as though it were actually an `IdentityTransform` instance. That way, Spark can internally use these case classes, even though users may pass instances that are unknown classes. This will reduce future bugs caused by matching `IdentityTransform` instead of remembering to match the more general `NamedTransform(\"identity\", ...)`.",
        "createdAt" : "2019-06-06T16:25:36Z",
        "updatedAt" : "2019-06-06T16:40:52Z",
        "lastEditedBy" : "0fc9f1bc-0097-451e-915f-52da69a366f3",
        "tags" : [
        ]
      }
    ],
    "commit" : "453bb926ba230c486085014b58eb1468ac960baa",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +163,167 @@      None\n  }\n}\n\nprivate[sql] final case class YearsTransform("
  }
]