[
  {
    "id" : "ba016c8b-88f4-4747-9832-10c0fa17dc97",
    "prId" : 32577,
    "prUrl" : "https://github.com/apache/spark/pull/32577#pullrequestreview-661663031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9050e429-6e8e-4b7b-8644-df8b3407ec7a",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Can we switch the above two lines to support numeric set in a more natural way?\r\n```scala\r\n.sorted\r\n.map(elem => Literal(elem, child.dataType).toString)\r\n```",
        "createdAt" : "2021-05-18T04:11:02Z",
        "updatedAt" : "2021-05-18T04:11:02Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "4c7e4113-78d4-4d8c-b17e-0e41f39f00c6",
        "parentId" : "9050e429-6e8e-4b7b-8644-df8b3407ec7a",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "We cannot because `Seq[Any]` cannot be sorted;\r\n```\r\n[error] /Users/maropu/Repositories/spark/spark-master/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/expressions/predicates.scala:648:8: No implicit Ordering defined for Any.\r\n[error]       .sorted\r\n```",
        "createdAt" : "2021-05-18T05:03:13Z",
        "updatedAt" : "2021-05-18T05:03:13Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "c7a16854-ed0b-4580-98a4-cf17fb9cbc1a",
        "parentId" : "9050e429-6e8e-4b7b-8644-df8b3407ec7a",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Got it. Thank you for checking.",
        "createdAt" : "2021-05-18T05:58:19Z",
        "updatedAt" : "2021-05-18T05:58:19Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "30945c3e9ca143457447ef3b8a7d51a69a4a07a9",
    "line" : 9,
    "diffHunk" : "@@ -1,1 +549,553 @@      .map(elem => Literal(elem, child.dataType).toString)\n      // Sort elements for deterministic behaviours\n      .sorted\n      .mkString(\", \")\n    s\"$child INSET $listString\""
  },
  {
    "id" : "d9bdf945-a3dc-496f-9c81-66a2f5b1fe41",
    "prId" : 32577,
    "prUrl" : "https://github.com/apache/spark/pull/32577#pullrequestreview-661615007",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d054423f-5f95-4e2a-96c8-0bd88fdbfd92",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Ditto. Can we do `sort` first?",
        "createdAt" : "2021-05-18T04:12:16Z",
        "updatedAt" : "2021-05-18T04:12:17Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "30945c3e9ca143457447ef3b8a7d51a69a4a07a9",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +647,651 @@      .map(elem => Literal(elem, child.dataType).sql)\n      // Sort elements for deterministic behaviours\n      .sorted\n      .mkString(\", \")\n    s\"($valueSQL IN ($listSQL))\""
  },
  {
    "id" : "00588b38-5c28-4fe3-8dff-87a0da158e9b",
    "prId" : 29101,
    "prUrl" : "https://github.com/apache/spark/pull/29101#pullrequestreview-449728803",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fb5bffb7-65df-48e9-8412-a8b0560bc956",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "`a1 and b1 is convertible, , while a2 and b2 is not` -> `the output set is a1 and b1`?",
        "createdAt" : "2020-07-16T10:41:20Z",
        "updatedAt" : "2020-07-17T18:03:34Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "d37c21c25992b29649b6358a02ed483670d32014",
    "line" : 141,
    "diffHunk" : "@@ -1,1 +228,232 @@    // condition: (a1 AND a2) OR (b1 AND b2),\n    // outputSet: AttributeSet(a1, b1)\n    // a1 and b1 is convertible, while a2 and b2 is not.\n    // The predicate can be converted as\n    // (a1 OR b1) AND (a1 OR b2) AND (a2 OR b1) AND (a2 OR b2)"
  },
  {
    "id" : "2a642e02-d9bf-4b43-b99d-7d8d3add1949",
    "prId" : 29101,
    "prUrl" : "https://github.com/apache/spark/pull/29101#pullrequestreview-450030780",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "58ac926d-4f2c-4d08-8327-4072508a46c7",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "`it contains all possible constraints from condition` -> `it's a precondition to satisfy the given condition`",
        "createdAt" : "2020-07-16T16:18:03Z",
        "updatedAt" : "2020-07-17T18:03:34Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "01f7b684-4bb0-4d15-aeab-a0ca4e02b441",
        "parentId" : "58ac926d-4f2c-4d08-8327-4072508a46c7",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "We have to specify the result contains the maximum contrainsts here. Otherwise, any of `a`/`b`/`a&&b`  is  a condition that satisfy `a && b && c && d`  with outputSet as `Set(a,b,c,d)`",
        "createdAt" : "2020-07-16T16:47:09Z",
        "updatedAt" : "2020-07-17T18:03:34Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      }
    ],
    "commit" : "d37c21c25992b29649b6358a02ed483670d32014",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +204,208 @@  /**\n   * Returns a filter that its reference is a subset of `outputSet` and it contains the maximum\n   * constraints from `condition`. This is used for predicate pushdown.\n   * When there is no such filter, `None` is returned.\n   */"
  }
]