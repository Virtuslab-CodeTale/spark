[
  {
    "id" : "b412f8c8-a176-487b-a6b0-c1bc3050cb81",
    "prId" : 31199,
    "prUrl" : "https://github.com/apache/spark/pull/31199#pullrequestreview-569814315",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d9de6941-5467-4109-abd9-32330b8e952e",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "`StringRPad`'s gen-ed code is pretty short, as `s\"$str.rpad($len, $pad)\"`. Does `StaticInvoke` help reduce gen-ed code?",
        "createdAt" : "2021-01-15T21:14:05Z",
        "updatedAt" : "2021-01-18T15:17:59Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "a0abbf81-5bf1-424a-bc26-03f78e90bd56",
        "parentId" : "d9de6941-5467-4109-abd9-32330b8e952e",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "It not just a single rad but,\r\n\r\nStringRPad(If(GreaterThan(Length(StringTrimRight(expr)), Literal(length)), raiseError(\"char\", length),StringTrimRight(expr))))",
        "createdAt" : "2021-01-16T03:31:47Z",
        "updatedAt" : "2021-01-18T15:17:59Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "272860bc-14e7-4b67-9a3a-b1950a9c5e63",
        "parentId" : "d9de6941-5467-4109-abd9-32330b8e952e",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Oh I see. Then we may need a benchmark to show the difference.",
        "createdAt" : "2021-01-16T05:24:26Z",
        "updatedAt" : "2021-01-18T15:17:59Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "3f81d694be4817c7aebe1df7b168b22fa58fef60",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +162,166 @@  private def paddingWithLengthCheck(expr: Expression, dt: DataType): Expression = dt match {\n    case CharType(length) =>\n      StaticInvoke(\n        classOf[CharVarcharCodegenUtils],\n        StringType,"
  },
  {
    "id" : "b6ca1b04-586c-4beb-b744-579e85dcd4fa",
    "prId" : 31181,
    "prUrl" : "https://github.com/apache/spark/pull/31181#pullrequestreview-568811561",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4be7a75e-2ef0-4590-9a1c-40a16f54dc7e",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Do we have a JIRA for this TODO? Shall we make this as `IDed` TODO like `TODO(SPARK-XXX)`?",
        "createdAt" : "2021-01-14T17:03:55Z",
        "updatedAt" : "2021-01-14T17:03:55Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "69cdbd61-db05-4caa-b8a8-9b604b3502e7",
        "parentId" : "4be7a75e-2ef0-4590-9a1c-40a16f54dc7e",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "In general, yes.\r\n\r\nWe may keep improving here. @cloud-fan and I have considered more than 3 ways to simplify the logic here for performance improvement.\r\n\r\nThis TODO may be invalid in this case, How about just rm it? WDYT? @cloud-fan @dongjoon-hyun ",
        "createdAt" : "2021-01-15T04:19:38Z",
        "updatedAt" : "2021-01-15T04:19:53Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "6c3229ab-f16f-48e7-9ba8-a1b82e44ab0e",
        "parentId" : "4be7a75e-2ef0-4590-9a1c-40a16f54dc7e",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "let's keep it as it's not added by this PR: https://github.com/apache/spark/pull/31181/files#diff-16753285e80505e04c445ea8ccee1dde7ae601ed7bae224e212d90d395f57928L225",
        "createdAt" : "2021-01-15T04:29:22Z",
        "updatedAt" : "2021-01-15T04:29:23Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e60a5274-e62b-4d7e-9c5d-e63a6bce43c2",
        "parentId" : "4be7a75e-2ef0-4590-9a1c-40a16f54dc7e",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "k that's fine. but let's add an ID-ed todo in general. That's the standard approach to make sure they are on track.",
        "createdAt" : "2021-01-15T04:38:11Z",
        "updatedAt" : "2021-01-15T04:38:11Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "8773e669ddaf08f918ebf9dc36226495366a71c5",
    "line" : 62,
    "diffHunk" : "@@ -1,1 +226,230 @@          // Trailing spaces do not count in the length check. We need to retain the trailing spaces\n          // (truncate to length N), as there is no read-time padding for varchar type.\n          // TODO: create a special TrimRight function that can trim to a certain length.\n          If(\n            LessThanOrEqual(Length(expr), Literal(length)),"
  },
  {
    "id" : "38bbc531-1d8b-45a3-8233-b320e9cf464e",
    "prId" : 30882,
    "prUrl" : "https://github.com/apache/spark/pull/30882#pullrequestreview-557029215",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "67068fa0-8fdb-466a-a891-f25a91d69ec2",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "nit: `M <= N` -> `M < N`?",
        "createdAt" : "2020-12-22T11:48:34Z",
        "updatedAt" : "2020-12-22T13:31:11Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "11e62df6-86ee-4a1b-ab92-6f27600a15da",
        "parentId" : "67068fa0-8fdb-466a-a891-f25a91d69ec2",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "`<=` looks more specific with the 'right-padded **to** N' and the padding is actually applied when `=`",
        "createdAt" : "2020-12-22T12:02:11Z",
        "updatedAt" : "2020-12-22T13:31:11Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "8e0184e3694509f9b67e4e7aa0146f5757628828",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +132,136 @@   * For a CHAR(N) column/field and the length of string value is M\n   * If M > N, raise runtime error\n   * If M <= N, the value should be right-padded to N characters.\n   *\n   * For a VARCHAR(N) column/field and the length of string value is M"
  }
]