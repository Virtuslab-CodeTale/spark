[
  {
    "id" : "e45d5a78-f791-4ee0-aa98-f61534c8df4b",
    "prId" : 32242,
    "prUrl" : "https://github.com/apache/spark/pull/32242#pullrequestreview-639584181",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fe1aefb6-8f58-4418-acd6-1eb5fb1a4683",
        "parentId" : null,
        "authorId" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "body" : "This change is needed as hash aggregation output order is changed, and it causes `ExpressionInfoSuite.check outputs of expression examples` test failure in https://github.com/c21/spark/runs/2386397792?check_suite_focus=true .",
        "createdAt" : "2021-04-20T07:12:00Z",
        "updatedAt" : "2021-04-22T07:31:42Z",
        "lastEditedBy" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "tags" : [
        ]
      }
    ],
    "commit" : "965a35c7329bacad6f46010811aee4693bd04d95",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +215,219 @@      > SELECT name, _FUNC_(), sum(age), avg(height) FROM VALUES (2, 'Alice', 165), (5, 'Bob', 180) people(age, name, height) GROUP BY cube(name, height);\n        Alice\t0\t2\t165.0\n        Bob\t0\t5\t180.0\n        Alice\t1\t2\t165.0\n        NULL\t3\t7\t172.5"
  },
  {
    "id" : "c12b0cb0-575d-4432-b20f-196aae736e94",
    "prId" : 32073,
    "prUrl" : "https://github.com/apache/spark/pull/32073#pullrequestreview-629696725",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4f198a6b-d235-497f-a717-ee71f8552320",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "What about this?",
        "createdAt" : "2021-04-07T05:42:59Z",
        "updatedAt" : "2021-04-07T07:54:28Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "cb7c050c-29fe-434a-8968-01f8107be99f",
        "parentId" : "4f198a6b-d235-497f-a717-ee71f8552320",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "This corresponds to the SQL clause GROUPING SETS.",
        "createdAt" : "2021-04-07T07:52:23Z",
        "updatedAt" : "2021-04-07T07:54:28Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "4ffd32f3006ecdfde9a29e2d64918129fabf7c54",
    "line" : 63,
    "diffHunk" : "@@ -1,1 +134,138 @@}\n\ncase class GroupingSets(\n    groupingSetIndexes: Seq[Seq[Int]],\n    flatGroupingSets: Seq[Expression],"
  },
  {
    "id" : "40b3c0b6-316c-44d7-8c7a-8e630f63c817",
    "prId" : 32073,
    "prUrl" : "https://github.com/apache/spark/pull/32073#pullrequestreview-629624599",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ab13f22a-0e2d-4407-8b34-44b339967e18",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Error message below \"Cannot call GroupingSet.groupByExprs\"?",
        "createdAt" : "2021-04-07T05:44:06Z",
        "updatedAt" : "2021-04-07T07:54:28Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "70e14dfb-d6b0-4e4a-9ca9-585507e72792",
        "parentId" : "ab13f22a-0e2d-4407-8b34-44b339967e18",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> Error message below \"Cannot call GroupingSet.groupByExprs\"?\r\n\r\nyea, should change this",
        "createdAt" : "2021-04-07T06:11:29Z",
        "updatedAt" : "2021-04-07T07:54:28Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "4ffd32f3006ecdfde9a29e2d64918129fabf7c54",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +30,34 @@\n  def groupingSets: Seq[Seq[Expression]]\n  def selectedGroupByExprs: Seq[Seq[Expression]]\n\n  def groupByExprs: Seq[Expression] = {"
  },
  {
    "id" : "670b096d-089e-4a32-8782-fb56ce7090e7",
    "prId" : 31932,
    "prUrl" : "https://github.com/apache/spark/pull/31932#pullrequestreview-624637882",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "718eb3f2-f259-4968-9e29-5f726464a2bd",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "2 space indent",
        "createdAt" : "2021-03-30T19:45:03Z",
        "updatedAt" : "2021-03-30T19:50:21Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "3c0e5077722d39b25680870ba9d435aafc62466c",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +104,108 @@// scalastyle:on line.size.limit line.contains.tab\ncase class Grouping(child: Expression) extends Expression with Unevaluable\n    with UnaryLike[Expression] {\n  @transient\n  override lazy val references: AttributeSet ="
  },
  {
    "id" : "b5db1ed0-c246-48db-a2b1-2c8a6af8022c",
    "prId" : 30212,
    "prUrl" : "https://github.com/apache/spark/pull/30212#pullrequestreview-621961047",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fb8edfb3-65aa-4184-9d50-b891dc825825",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "This is not documented. What does `GROUP BY a, b, c` mean if there is a `GROUPING SETS` after it?",
        "createdAt" : "2021-03-26T09:34:04Z",
        "updatedAt" : "2021-03-30T05:55:50Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "2704de11-8c80-4179-be39-685e812ad98b",
        "parentId" : "fb8edfb3-65aa-4184-9d50-b891dc825825",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> This is not documented. What does `GROUP BY a, b, c` mean if there is a `GROUPING SETS` after it?\r\n\r\nUpdated, also with cube's. How about current?",
        "createdAt" : "2021-03-26T10:03:30Z",
        "updatedAt" : "2021-03-30T05:55:50Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "bfc03afaf9fc0974cb218b3b3121829ae9e5c413",
    "line" : 40,
    "diffHunk" : "@@ -1,1 +45,49 @@   * GROUP BY a, b, c WITH ROLLUP\n   * is equivalent to\n   * GROUP BY a, b, c GROUPING SETS ( (a, b, c), (a, b), (a), ( ) ).\n   * or\n   * GROUP BY GROUPING SETS ( (a, b, c), (a, b), (a), ( ) )."
  },
  {
    "id" : "042a536f-2f4d-4193-af0b-a0b4ed3c7727",
    "prId" : 30144,
    "prUrl" : "https://github.com/apache/spark/pull/30144#pullrequestreview-632472112",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3058bf46-927d-4f53-b58c-b73370a17550",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "the `unapply` here should return None if the given expressions are not resolved yet.",
        "createdAt" : "2021-04-09T08:53:09Z",
        "updatedAt" : "2021-04-12T08:22:29Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e4fd6aa7-1233-4ab5-8ca5-b7d763d498fb",
        "parentId" : "3058bf46-927d-4f53-b58c-b73370a17550",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "then we can fix https://github.com/apache/spark/pull/30144/files#r609770387",
        "createdAt" : "2021-04-09T08:53:26Z",
        "updatedAt" : "2021-04-12T08:22:29Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "a055eb4a-b2f3-41b0-8042-9d07609acf52",
        "parentId" : "3058bf46-927d-4f53-b58c-b73370a17550",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "> the `unapply` here should return None if the given expressions are not resolved yet.\r\n\r\nWill throw other exception like before this pr",
        "createdAt" : "2021-04-09T10:11:14Z",
        "updatedAt" : "2021-04-12T08:22:29Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      },
      {
        "id" : "e5615e06-bbc0-48aa-94df-66db5d85bf2c",
        "parentId" : "3058bf46-927d-4f53-b58c-b73370a17550",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "What's wrong with my proposal that returning None if the given expressions are not resolved yet?\r\n```\r\nif (exprs.exists(!_.resolved)) {\r\n  None\r\n} else if (!exprs.exists(e => e.find(_.isInstanceOf[BaseGroupingSets]).isDefined)) ...\r\n```",
        "createdAt" : "2021-04-09T13:31:31Z",
        "updatedAt" : "2021-04-12T08:22:29Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "eb4deca8-4506-47c5-81cd-78b45fd5e853",
        "parentId" : "3058bf46-927d-4f53-b58c-b73370a17550",
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "How about current",
        "createdAt" : "2021-04-09T14:24:56Z",
        "updatedAt" : "2021-04-12T08:22:29Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      }
    ],
    "commit" : "34f98ca694360c0370754e2d51eb80c9ee1acb6f",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +238,242 @@\nobject GroupingAnalytics {\n  def unapply(exprs: Seq[Expression])\n  : Option[(Seq[Seq[Expression]], Seq[Expression])] = {\n    if (!exprs.exists(_.isInstanceOf[BaseGroupingSets])) {"
  }
]