[
  {
    "id" : "cdfa48ea-9843-4a2e-b8c3-ee6894a4026f",
    "prId" : 30930,
    "prUrl" : "https://github.com/apache/spark/pull/30930#pullrequestreview-629586121",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "102c6948-63c5-4e95-9569-b7b6739c3fc7",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Maybe I am too much careful about this but I think it could cause some behaviour changes in corner cases. For example, let's say `f2.function` throws an exception in some condition. Previously, it threw an exception but now `f1.function` returns `false`, and `f2.function` is not executed by short-circuiting. ",
        "createdAt" : "2021-04-06T06:34:40Z",
        "updatedAt" : "2021-04-06T06:34:40Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "dd4d7123-b495-4169-a5f2-b03c595eb17b",
        "parentId" : "102c6948-63c5-4e95-9569-b7b6739c3fc7",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Maybe we should use `NoThrow`.",
        "createdAt" : "2021-04-06T06:35:01Z",
        "updatedAt" : "2021-04-06T06:35:01Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "f8066034-60c3-460d-88b1-42b78db122ca",
        "parentId" : "102c6948-63c5-4e95-9569-b7b6739c3fc7",
        "authorId" : "a8e23d47-3ae4-4385-848c-38a216d1bd08",
        "body" : "I think that the filters are executed the same amount of times in both cases.\r\n\r\nin the before case, if `f1` returns `false`, then `f2` is not executed.",
        "createdAt" : "2021-04-06T16:19:30Z",
        "updatedAt" : "2021-04-06T16:20:09Z",
        "lastEditedBy" : "a8e23d47-3ae4-4385-848c-38a216d1bd08",
        "tags" : [
        ]
      },
      {
        "id" : "c997abe6-f63a-415a-804d-ad58e1f42dd1",
        "parentId" : "102c6948-63c5-4e95-9569-b7b6739c3fc7",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Oops right.",
        "createdAt" : "2021-04-07T04:36:17Z",
        "updatedAt" : "2021-04-07T04:36:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "150c33da6a50ab5e4aa5d63c371e6e169d6ce7a5",
    "line" : 31,
    "diffHunk" : "@@ -1,1 +29,33 @@  def apply(plan: LogicalPlan): LogicalPlan = plan transformExpressions {\n    case ArrayFilter(ArrayFilter(child, f1: LambdaFunction), f2: LambdaFunction) =>\n      ArrayFilter(child, f1.copy(function = And(f1.function, f2.function)))\n\n    case MapFilter(MapFilter(child, f1: LambdaFunction), f2: LambdaFunction) =>"
  }
]