[
  {
    "id" : "a7e614c1-6c2c-43b2-9ac7-6dcf2e29b55e",
    "prId" : 24800,
    "prUrl" : "https://github.com/apache/spark/pull/24800#pullrequestreview-247431785",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "12b85ef8-5615-4350-8105-9070cfcc407e",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "why don't we add like:\r\n\r\n```scala\r\nprotected def options: Map[String, String] = { Map.empty }\r\nprotected def properties: Map[String, String] = { Map.empty }\r\n```\r\n\r\nand, \r\n\r\n```diff\r\n-    options: Map[String, String],\r\n+    override val options: Map[String, String],\r\n```\r\n\r\nat implementation of this classes? Seems like currently we'll check every maps whatever it is.",
        "createdAt" : "2019-06-07T03:28:11Z",
        "updatedAt" : "2019-06-10T16:39:38Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "994d755a-b3df-4c5d-9490-11be76df60e1",
        "parentId" : "12b85ef8-5615-4350-8105-9070cfcc407e",
        "authorId" : "f5b3f57a-75a6-496c-af94-c32580ada13a",
        "body" : "This is not flexible enough to automatically redact other field names. Please check out the solution in my new commit.",
        "createdAt" : "2019-06-08T04:38:44Z",
        "updatedAt" : "2019-06-10T16:39:38Z",
        "lastEditedBy" : "f5b3f57a-75a6-496c-af94-c32580ada13a",
        "tags" : [
        ]
      },
      {
        "id" : "10a1af13-38c4-4c79-9a5b-bcd24a0134a3",
        "parentId" : "12b85ef8-5615-4350-8105-9070cfcc407e",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "We can just redact `options` and `properties` and remove `productIterator` override. Wasn't that the purpose of doing this?\r\n\r\nI am currently unable to follow why we need to it for every map argument in implemented case classes. How about array?",
        "createdAt" : "2019-06-08T05:38:18Z",
        "updatedAt" : "2019-06-10T16:39:38Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "5093b3b5-af19-4707-b3f8-0e1a0a6f33be",
        "parentId" : "12b85ef8-5615-4350-8105-9070cfcc407e",
        "authorId" : "f5b3f57a-75a6-496c-af94-c32580ada13a",
        "body" : "My guess the intention is to auto-redact sensitive info for any Map field in subclasses. More subclasses will be added and sensitive fields may not be called `options` or `properties`.",
        "createdAt" : "2019-06-10T02:27:16Z",
        "updatedAt" : "2019-06-10T16:39:38Z",
        "lastEditedBy" : "f5b3f57a-75a6-496c-af94-c32580ada13a",
        "tags" : [
        ]
      }
    ],
    "commit" : "1055a220f5eb867d596f708f67a1c9f1c0385e2e",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +37,41 @@private[sql] abstract class ParsedStatement extends LogicalPlan {\n  // Redact properties and options when parsed nodes are used by generic methods like toString\n  override def productIterator: Iterator[Any] = super.productIterator.map {\n    case mapArg: Map[_, _] => conf.redactOptions(mapArg)\n    case other => other"
  }
]