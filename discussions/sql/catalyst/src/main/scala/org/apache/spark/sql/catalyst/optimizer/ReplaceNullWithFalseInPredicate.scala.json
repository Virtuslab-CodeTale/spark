[
  {
    "id" : "f56c423a-2dc3-48e8-8bf6-71a435972d99",
    "prId" : 31797,
    "prUrl" : "https://github.com/apache/spark/pull/31797#pullrequestreview-610397809",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "224b5fc0-3753-4580-9437-7bef8ca6617e",
        "parentId" : null,
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "`null in (xxx)`  is a special case that we have already handled in `NullPropagation`, but it's better that return the same result whether other rule is excluded. We also add the `value` pattern here.",
        "createdAt" : "2021-03-11T04:24:33Z",
        "updatedAt" : "2021-03-12T02:15:15Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      },
      {
        "id" : "6608845f-9921-4afa-b59e-15beda6ab842",
        "parentId" : "224b5fc0-3753-4580-9437-7bef8ca6617e",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Can we add some comments to explain the rationale?\r\n\r\nif `value` is null, the IN result is null and thus `Not(null)` means false. If `value` is not null but the list contains null values, the IN result can be either `true` or `null`, and thus the final result after Not is always false as a predicate.",
        "createdAt" : "2021-03-11T13:41:00Z",
        "updatedAt" : "2021-03-12T02:15:15Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "ea1e17d9-e967-40fa-898e-f68881a29ab7",
        "parentId" : "224b5fc0-3753-4580-9437-7bef8ca6617e",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "Yes, it's better to add the comment.",
        "createdAt" : "2021-03-12T02:16:05Z",
        "updatedAt" : "2021-03-12T02:16:05Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "b61da86a30da85c87a9071ec38eb472c186bbd6b",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +102,106 @@    // `1 not in (2, NULL)` -> NULL\n    // In predicate, NULL is equal to false, so we can simplify them to false directly.\n    case Not(In(value, list)) if (value +: list).exists(isNullLiteral) =>\n      FalseLiteral\n    case Not(InSet(value, list)) if isNullLiteral(value) || list.contains(null) =>"
  }
]