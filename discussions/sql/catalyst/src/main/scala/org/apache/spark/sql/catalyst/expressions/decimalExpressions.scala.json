[
  {
    "id" : "408512b9-45fa-4df2-ab8e-9735a89e3ef7",
    "prId" : 33103,
    "prUrl" : "https://github.com/apache/spark/pull/33103#pullrequestreview-693368478",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d4623d48-aa6c-4f87-ae26-ebde9eccd992",
        "parentId" : null,
        "authorId" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "body" : "Looks like it's the root cause, should I close my PR?",
        "createdAt" : "2021-06-27T00:47:06Z",
        "updatedAt" : "2021-06-27T00:47:06Z",
        "lastEditedBy" : "594db420-88ec-4875-8cd3-0d8b0bec131c",
        "tags" : [
        ]
      },
      {
        "id" : "ddad4e53-240d-41b9-b8ca-67cb574526d7",
        "parentId" : "d4623d48-aa6c-4f87-ae26-ebde9eccd992",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Yea, thanks! I added you as co-author.",
        "createdAt" : "2021-06-27T00:48:55Z",
        "updatedAt" : "2021-06-27T00:48:55Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "9a082844a1bf9c3eac5f956fbfde1f36b7a65ed3",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +112,116 @@  override def eval(input: InternalRow): Any = child.eval(input)\n  override protected def doGenCode(ctx: CodegenContext, ev: ExprCode): ExprCode =\n    child.genCode(ctx)\n  override def prettyName: String = \"promote_precision\"\n  override def sql: String = child.sql"
  },
  {
    "id" : "c2675360-ddde-4837-af46-90e9a7f8f7bc",
    "prId" : 27627,
    "prUrl" : "https://github.com/apache/spark/pull/27627#pullrequestreview-367634261",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9d2a09ee-5d5c-4a5f-ae70-2ab2fe870cd1",
        "parentId" : null,
        "authorId" : "99e31844-a5b3-48a2-af71-412edb607a13",
        "body" : "Can we override `nullable` with `false` as `doGenCode()` does?",
        "createdAt" : "2020-02-23T15:28:15Z",
        "updatedAt" : "2020-06-01T18:16:22Z",
        "lastEditedBy" : "99e31844-a5b3-48a2-af71-412edb607a13",
        "tags" : [
        ]
      },
      {
        "id" : "56a3d936-a97d-4f72-bb9d-cc39196d372d",
        "parentId" : "9d2a09ee-5d5c-4a5f-ae70-2ab2fe870cd1",
        "authorId" : "7907b27a-5a9f-4bce-8e6d-d4cd7c2bd693",
        "body" : "Since the child can be nullable, the input value can be null.   Making nullable to false in that case will not work, as it may result in npe.  We can change the doGenCode() here to make the check for null for that, but since  the nullSafeCodeGen in UnaryExpression already takes care of the if nullable checks,  it seems there is no need to add if null checks here. ",
        "createdAt" : "2020-03-03T00:49:44Z",
        "updatedAt" : "2020-06-01T18:16:22Z",
        "lastEditedBy" : "7907b27a-5a9f-4bce-8e6d-d4cd7c2bd693",
        "tags" : [
        ]
      }
    ],
    "commit" : "77958880245cca238bd976900e57715f6f96a3c4",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +153,157 @@    nullOnOverflow: Boolean) extends UnaryExpression {\n\n  override def nullable: Boolean = true\n\n  override def eval(input: InternalRow): Any = {"
  }
]