[
  {
    "id" : "99549990-fbae-4e5e-a770-be400e5c6544",
    "prId" : 31964,
    "prUrl" : "https://github.com/apache/spark/pull/31964#pullrequestreview-622873018",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ff78205a-fed3-444f-8aca-5bdb1542e359",
        "parentId" : null,
        "authorId" : "2d6b46ba-4100-4c4d-9341-fff5e39647ec",
        "body" : "This is a pretty common method. Could you double check if it's okay to change this behavior for other places?",
        "createdAt" : "2021-03-25T18:12:00Z",
        "updatedAt" : "2021-03-26T06:41:38Z",
        "lastEditedBy" : "2d6b46ba-4100-4c4d-9341-fff5e39647ec",
        "tags" : [
        ]
      },
      {
        "id" : "bdb98039-03ab-4215-ba64-e6ff3e6a89b9",
        "parentId" : "ff78205a-fed3-444f-8aca-5bdb1542e359",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I think it's only for error message or EXPLAIN result (e.g. `Attribute.sql`). @sarutak can you confirm?",
        "createdAt" : "2021-03-26T08:03:07Z",
        "updatedAt" : "2021-03-26T08:03:07Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "03409895-2ee3-46fa-8994-7b94b9ce3947",
        "parentId" : "ff78205a-fed3-444f-8aca-5bdb1542e359",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "I'm now confirming but, for now,  I don't think this change breaks existing behavior except for display format.",
        "createdAt" : "2021-03-26T11:19:57Z",
        "updatedAt" : "2021-03-26T11:19:57Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "590cead4-4263-4c9f-ae9a-5d6487bef8da",
        "parentId" : "ff78205a-fed3-444f-8aca-5bdb1542e359",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "I looked into the following classes which use `quoteIfNeeded`\r\n\r\n* ResolveSessionCatalog.apply\r\n* IdentifierHelper.quoted\r\n* MultipartIdentifierHelper.quoted\r\n* DatabaseInSessionCatalog$.unapply\r\n* NamespaceHelper.quoted\r\n* Alias.sql\r\n* AttributeReference.sql\r\n* UnresolvedAttribute.sql\r\n* IdentifierImpl.toString\r\n* IdentifierHelper.quoted\r\n\r\nFinally, I think this change doesn't break existing behavior.",
        "createdAt" : "2021-03-29T05:19:40Z",
        "updatedAt" : "2021-03-29T05:19:40Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      }
    ],
    "commit" : "6faef6ba70e4ed17f4d26c45566f2c63483b9ad8",
    "line" : 3,
    "diffHunk" : "@@ -1,1 +148,152 @@  }\n\n  def quoteIfNeeded(part: String): String = {\n    if (part.matches(\"[a-zA-Z0-9_]+\") && !part.matches(\"\\\\d+\")) {\n      part"
  },
  {
    "id" : "ccb3322a-26f6-4897-974a-841a068630e9",
    "prId" : 31372,
    "prUrl" : "https://github.com/apache/spark/pull/31372#pullrequestreview-577993134",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f11936a8-6124-45c9-8984-40ce359989d0",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Should we handle this in `NonSQLExpression.sql`?",
        "createdAt" : "2021-01-28T05:03:55Z",
        "updatedAt" : "2021-01-28T05:03:55Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "f754518d-1a14-465b-a3db-3e019d1cf0ab",
        "parentId" : "f11936a8-6124-45c9-8984-40ce359989d0",
        "authorId" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "body" : "Not need. It's only apply in `toPrettySQL`. For other case which is not invoked by `toPrettySQL` (some error msg), we should keep the origin info.",
        "createdAt" : "2021-01-28T05:14:47Z",
        "updatedAt" : "2021-01-28T05:14:47Z",
        "lastEditedBy" : "baca2fab-b749-483f-8c77-c4db14eca9d9",
        "tags" : [
        ]
      }
    ],
    "commit" : "deaa5351e36996ff5b3bb19a245710881918610c",
    "line" : 21,
    "diffHunk" : "@@ -1,1 +129,133 @@      e: Expression, existsNonSQLExpression: Boolean = false): Expression = e match {\n    case e: NonSQLExpression =>\n      e.withNewChildren(e.children.map(child => usePrettyExpression(child, true)))\n\n    case e => e transform {"
  }
]