[
  {
    "id" : "267b0cc8-0834-47c5-b478-3eed4873d18f",
    "prId" : 28787,
    "prUrl" : "https://github.com/apache/spark/pull/28787#pullrequestreview-428609058",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "06011415-ea3c-40d9-9a50-f18799324dbe",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "when will we go into this expensive branch?",
        "createdAt" : "2020-06-11T05:27:00Z",
        "updatedAt" : "2020-06-11T08:30:00Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "63227601-28c4-44ba-9851-fb27b48e91cf",
        "parentId" : "06011415-ea3c-40d9-9a50-f18799324dbe",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Only when overlapping happens, it shouldn't be so often. Usually, it happens once per year. Please, see my comment in the code above.",
        "createdAt" : "2020-06-11T05:49:28Z",
        "updatedAt" : "2020-06-11T08:30:00Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "c655c8fabe2f3a2a530dc5f3aa27498d2acd1066",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +345,349 @@    // instant, we take the standard and DST offsets of the previous day otherwise of the next one.\n    val trans = zoneId.getRules.getTransition(ldt)\n    if (trans != null && trans.isOverlap) {\n      val cloned = cal.clone().asInstanceOf[Calendar]\n      // Does the current offset belong to the offset before the transition."
  },
  {
    "id" : "94db6abd-d52f-4f7d-a480-82eac1c767ec",
    "prId" : 28441,
    "prUrl" : "https://github.com/apache/spark/pull/28441#pullrequestreview-405517460",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "13183c3f-231a-421c-b7db-638f9fc95e2f",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ideally `require` should be the first line in a method.",
        "createdAt" : "2020-05-05T06:08:59Z",
        "updatedAt" : "2020-05-05T09:19:48Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "f46196f6-fa22-42bf-970b-a828934756da",
        "parentId" : "13183c3f-231a-421c-b7db-638f9fc95e2f",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "It uses `latestTs` in the error message. I am going to improve the message by converting micros to Instant, so, toString should form nicer string:\r\n```scala\r\n    require(rebaseMap.values.forall(_.diffs.last == 0),\r\n      s\"Differences between Julian and Gregorian calendar after ${microsToInstant(latestTs)} \" +\r\n      \"are expected to be zero for available time zones.\")\r\n```",
        "createdAt" : "2020-05-05T06:22:26Z",
        "updatedAt" : "2020-05-05T09:19:48Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "2badf88a12f9aa0aecdeb0e4ec645843bc99347d",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +289,293 @@  private def getLastSwitchTs(rebaseMap: AnyRefMap[String, RebaseInfo]): Long = {\n    val latestTs = rebaseMap.values.map(_.switches.last).max\n    require(rebaseMap.values.forall(_.diffs.last == 0),\n      s\"Differences between Julian and Gregorian calendar after ${microsToInstant(latestTs)} \" +\n      \"are expected to be zero for all available time zones.\")"
  }
]