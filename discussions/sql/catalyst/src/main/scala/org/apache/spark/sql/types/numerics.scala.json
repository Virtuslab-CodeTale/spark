[
  {
    "id" : "0df5670e-0952-42c0-bd70-496996e39f15",
    "prId" : 27560,
    "prUrl" : "https://github.com/apache/spark/pull/27560#pullrequestreview-361850874",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "090bb33a-5ed1-4cfa-a998-13faedc43780",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I'm OK with it. But we should also move this file to a private package.",
        "createdAt" : "2020-02-20T09:49:19Z",
        "updatedAt" : "2020-02-21T01:49:38Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "8333970b-d538-4ad8-80b9-d67c3daef9d1",
        "parentId" : "090bb33a-5ed1-4cfa-a998-13faedc43780",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "we can move it in followup",
        "createdAt" : "2020-02-20T09:49:32Z",
        "updatedAt" : "2020-02-21T01:49:38Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "d3ecd701-ebea-4a7b-b2c4-a3fe8cad5a88",
        "parentId" : "090bb33a-5ed1-4cfa-a998-13faedc43780",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Got it, the whole file needs to be moved to a private package.",
        "createdAt" : "2020-02-20T12:09:39Z",
        "updatedAt" : "2020-02-21T01:49:38Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "14b121e28ee9695ff1d8ac1c2731f3250e6590a8",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +23,27 @@import org.apache.spark.sql.types.Decimal.DecimalIsConflicted\n\nprivate[sql] object ByteExactNumeric extends ByteIsIntegral with Ordering.ByteOrdering {\n  private def checkOverflow(res: Int, x: Byte, y: Byte, op: String): Unit = {\n    if (res > Byte.MaxValue || res < Byte.MinValue) {"
  },
  {
    "id" : "0bd75ee1-aa6f-460a-b0f5-c306c77d6b5e",
    "prId" : 27151,
    "prUrl" : "https://github.com/apache/spark/pull/27151#pullrequestreview-341021228",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ffd201bf-1644-42a2-bd07-1e8ecff13b51",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Hm, I'm also not clear how this helps - won't it just promote to a float in the comparison below anyway?\r\nDo we want floorDiv, etc, instead?",
        "createdAt" : "2020-01-09T15:29:06Z",
        "updatedAt" : "2020-02-05T08:12:38Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "40d868b2-db34-46c5-a67b-f13073b66a74",
        "parentId" : "ffd201bf-1644-42a2-bd07-1e8ecff13b51",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "`Math.floor` returns double, so it's promoted to double",
        "createdAt" : "2020-01-09T15:54:13Z",
        "updatedAt" : "2020-02-05T08:12:38Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "8dac3a9f-a66f-4e3f-b1c2-e264a1e11e2e",
        "parentId" : "ffd201bf-1644-42a2-bd07-1e8ecff13b51",
        "authorId" : "b6393788-12cc-4066-9294-857f4baec092",
        "body" : "As mentioned by cloud-fan, it seems that cast int to float, then cast to double is not same with casting it to double directly.\r\n![image](https://user-images.githubusercontent.com/6757692/72084214-0e5a2880-333e-11ea-820d-dc4172d93986.png)\r\n",
        "createdAt" : "2020-01-09T16:13:48Z",
        "updatedAt" : "2020-02-05T08:12:38Z",
        "lastEditedBy" : "b6393788-12cc-4066-9294-857f4baec092",
        "tags" : [
        ]
      },
      {
        "id" : "90efa797-7cc4-4fb5-bf87-14cbbd436581",
        "parentId" : "ffd201bf-1644-42a2-bd07-1e8ecff13b51",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "it's true\r\n```\r\nscala> Int.MaxValue.toDouble\r\nres2: Double = 2.147483647E9\r\n\r\nscala> Int.MaxValue.toFloat.toDouble\r\nres3: Double = 2.147483648E9\r\n```",
        "createdAt" : "2020-01-10T08:48:46Z",
        "updatedAt" : "2020-02-05T08:12:38Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "4d47a49c8aeca5489c3070fb07c15a707254ffb6",
    "line" : 8,
    "diffHunk" : "@@ -1,1 +122,126 @@    throw new ArithmeticException(s\"Casting $x to $dataType causes overflow\")\n\n  private val intUpperBound = Int.MaxValue\n  private val intLowerBound = Int.MinValue\n  private val longUpperBound = Long.MaxValue"
  }
]