[
  {
    "id" : "9988f6b3-78dd-4ff0-90d2-7488bfd0c0ef",
    "prId" : 28937,
    "prUrl" : "https://github.com/apache/spark/pull/28937#pullrequestreview-439760538",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5911c5b7-61b1-4043-99db-13d3482f4cc1",
        "parentId" : null,
        "authorId" : "99e31844-a5b3-48a2-af71-412edb607a13",
        "body" : "What happens if `len = 10` and `pos = Integer.MIN_VALUE`. I guess that `start` would have an incorrect value.",
        "createdAt" : "2020-06-28T06:41:43Z",
        "updatedAt" : "2020-06-28T07:23:38Z",
        "lastEditedBy" : "99e31844-a5b3-48a2-af71-412edb607a13",
        "tags" : [
        ]
      },
      {
        "id" : "191d12bc-b00a-44c3-9880-6422ef644132",
        "parentId" : "5911c5b7-61b1-4043-99db-13d3482f4cc1",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "The negative `pos` here `refers to the -ith element before the end of the sequence`, so if pos = Integer.MIN_VALUE, then the start should be `pos + len`. The final result of `EMPTY_UTF8` will be returned by `substring` when its param start and until are both negative. I also added a UT in 4dcfe81.",
        "createdAt" : "2020-06-28T07:32:52Z",
        "updatedAt" : "2020-06-28T07:32:52Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      },
      {
        "id" : "cd9a4e64-6568-4963-8169-78a6889c77d5",
        "parentId" : "5911c5b7-61b1-4043-99db-13d3482f4cc1",
        "authorId" : "99e31844-a5b3-48a2-af71-412edb607a13",
        "body" : "I made misunderstaning. Thank you for clarification and adding a test.",
        "createdAt" : "2020-06-28T10:24:46Z",
        "updatedAt" : "2020-06-28T10:24:46Z",
        "lastEditedBy" : "99e31844-a5b3-48a2-af71-412edb607a13",
        "tags" : [
        ]
      },
      {
        "id" : "1b16a2ca-9470-48da-b915-91ae1bdfa973",
        "parentId" : "5911c5b7-61b1-4043-99db-13d3482f4cc1",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Thanks for reviewing!",
        "createdAt" : "2020-06-30T07:55:05Z",
        "updatedAt" : "2020-06-30T07:55:05Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "4dcfe814d319ef9f04c9148bf9c82a9df191ac8c",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +342,346 @@    // refers to the first element.\n    int len = numChars();\n    // `len + pos` does not overflow as `len >= 0`.\n    int start = (pos > 0) ? pos -1 : ((pos < 0) ? len + pos : 0);\n"
  },
  {
    "id" : "9d8b881f-8a62-48ed-85e3-30543b38ae33",
    "prId" : 26933,
    "prUrl" : "https://github.com/apache/spark/pull/26933#pullrequestreview-338676546",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cb424b64-45f3-493a-adb2-ced253ecf244",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I thought we decided to call `toLong` in `toLongExact`?",
        "createdAt" : "2020-01-06T14:18:41Z",
        "updatedAt" : "2020-01-08T13:27:44Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e8daf8e9-2fe3-4ddd-857d-256a1f723815",
        "parentId" : "cb424b64-45f3-493a-adb2-ced253ecf244",
        "authorId" : "832e1988-205f-40f9-89d5-c37ea16224c9",
        "body" : "Oh. I misunderstood. I will update the code in a bit.",
        "createdAt" : "2020-01-06T14:23:51Z",
        "updatedAt" : "2020-01-08T13:27:44Z",
        "lastEditedBy" : "832e1988-205f-40f9-89d5-c37ea16224c9",
        "tags" : [
        ]
      },
      {
        "id" : "ede5ead9-9cab-4e27-ae00-1bec10fd7156",
        "parentId" : "cb424b64-45f3-493a-adb2-ced253ecf244",
        "authorId" : "832e1988-205f-40f9-89d5-c37ea16224c9",
        "body" : "@cloud-fan I have updated the code.",
        "createdAt" : "2020-01-06T14:36:50Z",
        "updatedAt" : "2020-01-08T13:27:44Z",
        "lastEditedBy" : "832e1988-205f-40f9-89d5-c37ea16224c9",
        "tags" : [
        ]
      }
    ],
    "commit" : "0cb4edc3a42badfff3f2ecca7b2ec468ad0f0c2d",
    "line" : 10,
    "diffHunk" : "@@ -1,1 +1301,1305 @@   * NumberFormatException  is thrown.\n   */\n  public long toLongExact() {\n    LongWrapper result = new LongWrapper();\n    if (toLong(result)) {"
  }
]