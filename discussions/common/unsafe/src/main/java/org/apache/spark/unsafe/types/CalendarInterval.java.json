[
  {
    "id" : "4ad4eece-0e89-424f-8ff7-42d3bfb52a1d",
    "prId" : 27299,
    "prUrl" : "https://github.com/apache/spark/pull/27299#pullrequestreview-351331737",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a7766ec2-cdfb-4bc6-9c60-73b7e9706916",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "BTW, are we going to expose this as an API? Technically, this is under internal package which isn't documented:\r\nhttps://github.com/apache/spark/blob/master/project/SparkBuild.scala#L828",
        "createdAt" : "2020-01-31T06:27:04Z",
        "updatedAt" : "2020-01-31T06:27:04Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "ee75280b-f5c5-4ee8-a737-b584a83de3ef",
        "parentId" : "a7766ec2-cdfb-4bc6-9c60-73b7e9706916",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Let me open a PR after a quick test.",
        "createdAt" : "2020-01-31T06:31:39Z",
        "updatedAt" : "2020-01-31T06:31:40Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "1fbcda31-db30-4049-b25f-bd8dbff1e948",
        "parentId" : "a7766ec2-cdfb-4bc6-9c60-73b7e9706916",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "+1",
        "createdAt" : "2020-01-31T07:34:41Z",
        "updatedAt" : "2020-01-31T07:34:41Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "275f8e6c477fc6d75be61664fca574008d19ea72",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +44,48 @@ * @since 3.0.0\n */\n@Unstable\npublic final class CalendarInterval implements Serializable {\n  public final int months;"
  },
  {
    "id" : "94ebd754-f938-42e7-b7fd-ae251d391a36",
    "prId" : 27262,
    "prUrl" : "https://github.com/apache/spark/pull/27262#pullrequestreview-344578636",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "464ec91b-d6a8-4d5a-b64e-d74818f403ee",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "there is a `MAX_VALUE` and `MIN_VALUE` in this file, shall we remove them as well?",
        "createdAt" : "2020-01-17T12:03:12Z",
        "updatedAt" : "2020-01-17T15:37:54Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "7f465338-748f-4f0d-9095-f2ec3c2a4f8a",
        "parentId" : "464ec91b-d6a8-4d5a-b64e-d74818f403ee",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "yes, remove them too",
        "createdAt" : "2020-01-17T13:33:07Z",
        "updatedAt" : "2020-01-17T15:37:54Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "a44e1576b5ec794649d4a77f2d7e55d733bdcd70",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +30,34 @@ * The internal representation of interval type.\n */\npublic final class CalendarInterval implements Serializable {\n  public final int months;\n  public final int days;"
  },
  {
    "id" : "8e21fe23-f746-4f41-87a1-100bab5fd074",
    "prId" : 27258,
    "prUrl" : "https://github.com/apache/spark/pull/27258#pullrequestreview-345609377",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "82a58871-23a9-495c-81bf-2320a66770de",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Just a question: @cloud-fan .\r\nAlthough this is technically correct, if this is going to **public**  in `3.00`, `@since 3.0.0` is better?",
        "createdAt" : "2020-01-20T04:59:49Z",
        "updatedAt" : "2020-01-20T04:59:49Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "f1d77f37-7e41-4b6c-bb4c-df4eea4de4d0",
        "parentId" : "82a58871-23a9-495c-81bf-2320a66770de",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "If this is `1.5.0`, people will get confused and may try to use it 2.4.x.",
        "createdAt" : "2020-01-20T05:01:01Z",
        "updatedAt" : "2020-01-20T05:01:02Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "338a772e-fa7f-40fb-8e04-89eb4a01a283",
        "parentId" : "82a58871-23a9-495c-81bf-2320a66770de",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "cc @gatorsmile , too.",
        "createdAt" : "2020-01-20T05:01:12Z",
        "updatedAt" : "2020-01-20T05:01:13Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "81f94ed9-7170-477d-9b05-c7d10eee3102",
        "parentId" : "82a58871-23a9-495c-81bf-2320a66770de",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "this is a good point. Do we have a clear rule about how to decide the since version. To me 3.0 is better here, as we've changed this class a lot in 3.0.",
        "createdAt" : "2020-01-20T06:53:26Z",
        "updatedAt" : "2020-01-20T06:53:26Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "fee1c734-6d7b-4363-b494-02b6e1f5b690",
        "parentId" : "82a58871-23a9-495c-81bf-2320a66770de",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "checked the java doc about since https://www.oracle.com/technetwork/java/javase/documentation/index-137868.html#@since\r\n\r\n>When a class (or interface) is introduced, specify one since tag in its class description and no since tags in the members. Add a since tag only to members added in a later version than the class. ...\r\n\r\n\r\n> If a member changes from protected to public in a later release, the since tag would not change, even though it is now usable by any caller, not just subclassers. \r\n\r\n`1.5.0` should be fine I guess",
        "createdAt" : "2020-01-20T11:36:19Z",
        "updatedAt" : "2020-01-20T11:36:19Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "562c9f5e-1dfd-46ac-ae12-5e887b12e942",
        "parentId" : "82a58871-23a9-495c-81bf-2320a66770de",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "> ... the since tag would not change ...\r\n\r\nThis is different from what we are facing here. We are adding a since tag. not changing an existing one.",
        "createdAt" : "2020-01-20T13:48:27Z",
        "updatedAt" : "2020-01-20T13:48:28Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "0354c7af-244f-433e-8721-edc545843edb",
        "parentId" : "82a58871-23a9-495c-81bf-2320a66770de",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "raise a followup to fix this https://github.com/apache/spark/pull/27299, thanks @dongjoon-hyun @cloud-fan ",
        "createdAt" : "2020-01-21T02:46:52Z",
        "updatedAt" : "2020-01-21T02:46:53Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      }
    ],
    "commit" : "d9b85ffee212da30d69115be9ad4f8933b39575b",
    "line" : 26,
    "diffHunk" : "@@ -1,1 +42,46 @@ * and one day may be equal to 23, 24 or 25 hours (daylight saving).\n *\n * @since 1.5.0\n */\n@Unstable"
  },
  {
    "id" : "df11d326-7d7d-4ce4-99a5-84efb0c8b264",
    "prId" : 26418,
    "prUrl" : "https://github.com/apache/spark/pull/26418#pullrequestreview-318179667",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5a273108-6dc3-4ff8-86ec-5bb043d039f9",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Why did we use such string representation now? Was it in order to put the same logics into `IntervalUtils`? If that's the case, we didn't have to move but use `toString` of this class until this case becomes completely exposed.",
        "createdAt" : "2019-11-18T09:06:13Z",
        "updatedAt" : "2019-11-18T09:06:13Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "0f54af89b8641ee7df80991dcca63e183a03d5ff",
    "line" : 46,
    "diffHunk" : "@@ -1,1 +81,85 @@  public String toString() {\n    return \"CalendarInterval(months= \" + months + \", days = \" + days + \", microsecond = \" +\n      microseconds + \")\";\n  }\n"
  },
  {
    "id" : "5cfe6e06-aae1-4e37-80aa-1444161933d5",
    "prId" : 26401,
    "prUrl" : "https://github.com/apache/spark/pull/26401#pullrequestreview-311953008",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7ad22b52-5b53-4fdd-925e-4c6f23ee07ce",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Not important but you could leave the code as is, and just do `trim()` on the result.",
        "createdAt" : "2019-11-05T18:40:34Z",
        "updatedAt" : "2019-11-07T04:55:24Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "c1f3473c4959bd6a686da11eb5cc92a32c9c7019",
    "line" : 39,
    "diffHunk" : "@@ -1,1 +111,115 @@\n    sb.setLength(sb.length() - 1);\n    return sb.toString();\n  }\n"
  },
  {
    "id" : "49b8348a-f38b-4ca5-8595-db53c94d42dc",
    "prId" : 26401,
    "prUrl" : "https://github.com/apache/spark/pull/26401#pullrequestreview-311953008",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "722c8cf1-63e1-4989-9251-20bc1dfdcdd1",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "If we always add \"s \" to the end of units, maybe just pass units with \"s \"? I mean `\"year \"`, `\"month \"`, `\"day \"` ...",
        "createdAt" : "2019-11-05T18:43:21Z",
        "updatedAt" : "2019-11-07T04:55:24Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "c1f3473c4959bd6a686da11eb5cc92a32c9c7019",
    "line" : 42,
    "diffHunk" : "@@ -1,1 +114,118 @@  }\n\n  private void appendUnit(StringBuilder sb, long value, String unit) {\n    if (value != 0) {\n      sb.append(value).append(' ').append(unit).append(' ');"
  },
  {
    "id" : "4a134e3d-c17f-4339-9047-53f620b5c9d8",
    "prId" : 26337,
    "prUrl" : "https://github.com/apache/spark/pull/26337#pullrequestreview-311479393",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "62287c6c-676b-48e4-9660-0b54ba788cf2",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "we can just return `daysDiff` if it's non-zero. The `Ordered` doesn't force us to return 1 or -1.",
        "createdAt" : "2019-11-05T02:52:43Z",
        "updatedAt" : "2019-11-08T11:06:56Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "d90f3ad2-e235-4aee-8f66-54bb7be6ca40",
        "parentId" : "62287c6c-676b-48e4-9660-0b54ba788cf2",
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "the adjusted days might be long here",
        "createdAt" : "2019-11-05T02:56:28Z",
        "updatedAt" : "2019-11-08T11:06:56Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "4f7d9a2e-66d6-413e-a23f-136b7acd4db5",
        "parentId" : "62287c6c-676b-48e4-9660-0b54ba788cf2",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ah i see",
        "createdAt" : "2019-11-05T02:58:34Z",
        "updatedAt" : "2019-11-08T11:06:56Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "5404d701d702e9308ca91f354aa5304d7beac789",
    "line" : 29,
    "diffHunk" : "@@ -1,1 +72,76 @@        return -1;\n      }\n    } else if (daysDiff > 0){\n      return 1;\n    } else {"
  },
  {
    "id" : "0c81d374-0cb5-4c71-af8a-21ab26dd5a5a",
    "prId" : 26337,
    "prUrl" : "https://github.com/apache/spark/pull/26337#pullrequestreview-311478149",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1e8f53aa-2c3a-45e7-8db4-9716db9d92a3",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "ditto",
        "createdAt" : "2019-11-05T02:52:50Z",
        "updatedAt" : "2019-11-08T11:06:56Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "5404d701d702e9308ca91f354aa5304d7beac789",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +67,71 @@      if (msDiff == 0) {\n        return 0;\n      } else if (msDiff > 0) {\n        return 1;\n      } else {"
  },
  {
    "id" : "ff2a2714-9a51-4e60-8bf8-8246ebbbb922",
    "prId" : 26190,
    "prUrl" : "https://github.com/apache/spark/pull/26190#pullrequestreview-304572735",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "febc7eec-75b6-4814-b900-8d63fc9b7e1c",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Does this end up changing the parsing logic at all? for example I note this doesn't match quotes anymore",
        "createdAt" : "2019-10-21T13:32:12Z",
        "updatedAt" : "2019-10-24T05:40:30Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "d7646687-438b-4e15-90ee-680d7215c26c",
        "parentId" : "febc7eec-75b6-4814-b900-8d63fc9b7e1c",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "It's simplified but not changed. Now antlr parser strips the quotes: https://github.com/apache/spark/pull/26190/files#diff-9847f5cef7cf7fbc5830fbc6b779ee10R1978",
        "createdAt" : "2019-10-21T13:46:25Z",
        "updatedAt" : "2019-10-24T05:40:30Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "48b7ef4c42c2bf98ffda16e77e2ef10bd78f5d9f",
    "line" : 94,
    "diffHunk" : "@@ -1,1 +37,41 @@\n  private static Pattern dayTimePattern = Pattern.compile(\n    \"^([+|-])?((\\\\d+) )?((\\\\d+):)?(\\\\d+):(\\\\d+)(\\\\.(\\\\d+))?$\");\n\n  public static long toLongWithRange(String fieldName,"
  },
  {
    "id" : "3d15f578-2f78-46d3-9fb6-675db7e04195",
    "prId" : 26190,
    "prUrl" : "https://github.com/apache/spark/pull/26190#pullrequestreview-305678175",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "46c92f5d-0181-4f9b-a7d6-8af413cf0f0b",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Maybe, throw an exception if `s == null` instead of to return `null`?",
        "createdAt" : "2019-10-23T06:33:02Z",
        "updatedAt" : "2019-10-24T05:40:30Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "f4f0c6cb-6907-4c25-ad4d-24e21be29e06",
        "parentId" : "46c92f5d-0181-4f9b-a7d6-8af413cf0f0b",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "maybe it's better, but I'd like to avoid changing unrelated code.",
        "createdAt" : "2019-10-23T07:22:54Z",
        "updatedAt" : "2019-10-24T05:40:30Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "48b7ef4c42c2bf98ffda16e77e2ef10bd78f5d9f",
    "line" : 96,
    "diffHunk" : "@@ -1,1 +39,43 @@    \"^([+|-])?((\\\\d+) )?((\\\\d+):)?(\\\\d+):(\\\\d+)(\\\\.(\\\\d+))?$\");\n\n  public static long toLongWithRange(String fieldName,\n      String s, long minValue, long maxValue) throws IllegalArgumentException {\n    long result = 0;"
  },
  {
    "id" : "012824c6-9668-43bd-b30d-d5842d663f03",
    "prId" : 26134,
    "prUrl" : "https://github.com/apache/spark/pull/26134#pullrequestreview-302388375",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0de7aee3-0137-4006-92be-bcefd2db3859",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "The method will return different values because you exclude days from microseconds",
        "createdAt" : "2019-10-16T08:14:10Z",
        "updatedAt" : "2019-11-01T05:44:12Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "2f901894eb24d7deec31947708b9afdaae2a4866",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +36,40 @@  public final long microseconds;\n\n  public long milliseconds() {\n    return this.microseconds / MICROS_PER_MILLI;\n  }"
  },
  {
    "id" : "66ea683b-7769-4c1f-a45b-5a6a3cfb154c",
    "prId" : 26134,
    "prUrl" : "https://github.com/apache/spark/pull/26134#pullrequestreview-323390336",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c8574239-ae51-4ad2-a6da-129d21abce5a",
        "parentId" : null,
        "authorId" : "2d6b46ba-4100-4c4d-9341-fff5e39647ec",
        "body" : "@LinhongLiu Could you send out a follow up PR to document why we need `days` and how do we use it in this file? This is definitely worth to document. Otherwise, everyone reading this class may need to git blame and go through the long discussion in this PR.",
        "createdAt" : "2019-11-26T19:01:55Z",
        "updatedAt" : "2019-11-26T19:01:55Z",
        "lastEditedBy" : "2d6b46ba-4100-4c4d-9341-fff5e39647ec",
        "tags" : [
        ]
      },
      {
        "id" : "db729bb1-f43d-40da-832f-bd3660112016",
        "parentId" : "c8574239-ae51-4ad2-a6da-129d21abce5a",
        "authorId" : "58a5dec8-caad-405f-b8fe-9510071c1cb9",
        "body" : "> @LinhongLiu Could you send out a follow up PR to document why we need `days` and how do we use it in this file? This is definitely worth to document. Otherwise, everyone reading this class may need to git blame and go through the long discussion in this PR.\r\n\r\nSure, will do.",
        "createdAt" : "2019-11-27T02:00:35Z",
        "updatedAt" : "2019-11-27T02:00:35Z",
        "lastEditedBy" : "58a5dec8-caad-405f-b8fe-9510071c1cb9",
        "tags" : [
        ]
      }
    ],
    "commit" : "2f901894eb24d7deec31947708b9afdaae2a4866",
    "line" : 20,
    "diffHunk" : "@@ -1,1 +40,44 @@  }\n\n  public CalendarInterval(int months, int days, long microseconds) {\n    this.months = months;\n    this.days = days;"
  }
]