[
  {
    "id" : "d6241c2c-292a-4345-8445-9d215b601b60",
    "prId" : 33605,
    "prUrl" : "https://github.com/apache/spark/pull/33605#pullrequestreview-720751144",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fa24b765-e95a-44b8-ad25-3b95e3574049",
        "parentId" : null,
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "Validate that cleanup was executed ?",
        "createdAt" : "2021-08-02T05:47:26Z",
        "updatedAt" : "2021-08-02T05:47:26Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      },
      {
        "id" : "6387bfbe-fa91-4410-89d7-a8277d5eed32",
        "parentId" : "fa24b765-e95a-44b8-ad25-3b95e3574049",
        "authorId" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "body" : "Isn't `getMergedBlockMeta` for the older shuffle merge id is the validation? Checking for the exception from `getMergedBlockMeta`. Am I missing something?",
        "createdAt" : "2021-08-03T03:28:00Z",
        "updatedAt" : "2021-08-03T03:28:00Z",
        "lastEditedBy" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "tags" : [
        ]
      },
      {
        "id" : "6fa7e5b6-071f-432c-8f32-82eb4c428c0f",
        "parentId" : "fa24b765-e95a-44b8-ad25-3b95e3574049",
        "authorId" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "body" : "The thing is `getMergedBlockMeta` throws exception checking the metadata itself. Let me  change the test to validate by checking for the files itself.",
        "createdAt" : "2021-08-03T03:29:41Z",
        "updatedAt" : "2021-08-03T03:29:41Z",
        "lastEditedBy" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "tags" : [
        ]
      },
      {
        "id" : "0412f8e9-ce9d-46e2-a5bc-1004af3685e2",
        "parentId" : "fa24b765-e95a-44b8-ad25-3b95e3574049",
        "authorId" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "body" : "Explicitly checking for `!file.exists`",
        "createdAt" : "2021-08-03T03:38:40Z",
        "updatedAt" : "2021-08-03T03:38:41Z",
        "lastEditedBy" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "tags" : [
        ]
      }
    ],
    "commit" : "1019d7a6d83cfd3e1def51c590499985277d59a7",
    "line" : 16,
    "diffHunk" : "@@ -1,1 +1247,1251 @@    // but no blocks pushed for that shuffleMergeId\n    pushResolver.finalizeShuffleMerge(new FinalizeShuffleMerge(testApp, NO_ATTEMPT_ID, 0, 5));\n    closed.acquire();\n    assertFalse(\"MergedBlock meta file for shuffle 0 and shuffleMergeId 4 should be cleaned\"\n      + \" up\", appShuffleInfo.getMergedShuffleMetaFile(0, 4, 0).exists());"
  }
]