[
  {
    "id" : "abac6c62-532e-44da-9f5a-383c2f2f8797",
    "prId" : 33613,
    "prUrl" : "https://github.com/apache/spark/pull/33613#pullrequestreview-723612730",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "86b14f45-d2fc-41e1-beb3-2384772d70a8",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Shall we log the specific error for each case? Also, including whether we'd retry the block or not.",
        "createdAt" : "2021-08-05T08:41:08Z",
        "updatedAt" : "2021-08-05T08:41:08Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "5dc10294-56e6-4ba1-86dd-8ddfe40ab975",
        "parentId" : "86b14f45-d2fc-41e1-beb3-2384772d70a8",
        "authorId" : "15ef9b5b-1583-47d9-b883-14ebfd23a00a",
        "body" : "We have the existing handling in `ErrorHandler#shouldLogError` to decide whether to log the error or not.\r\nCertain issues such as too late block push or block push collision can be more frequent, and logging at info level for every occurrence of these issues on either server side or client side could pollute the logs.",
        "createdAt" : "2021-08-05T17:19:43Z",
        "updatedAt" : "2021-08-05T17:19:43Z",
        "lastEditedBy" : "15ef9b5b-1583-47d9-b883-14ebfd23a00a",
        "tags" : [
        ]
      }
    ],
    "commit" : "52b709356b367a8616acffec9f7f3a0eec834fce",
    "line" : 100,
    "diffHunk" : "@@ -1,1 +128,132 @@    // would immediately invoke parent listener's onBlockTransferFailure. However, the remaining\n    // blocks in the same batch would remain current and active and they won't be impacted by\n    // this exception.\n    if (PUSH_ERROR_HANDLER.shouldRetryError(e)) {\n      String[] targetBlockId = Arrays.copyOfRange(blockIds, index, index + 1);"
  },
  {
    "id" : "717175e0-6a1e-4322-baa5-1f47d8a44634",
    "prId" : 33034,
    "prUrl" : "https://github.com/apache/spark/pull/33034#pullrequestreview-715534786",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16a9313c-900d-4845-a7e9-a2674ee31c15",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "We should exclude batched block id too.",
        "createdAt" : "2021-07-27T03:04:32Z",
        "updatedAt" : "2021-07-27T04:43:15Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "d8c55768-eefe-4866-9eec-7fb349da2e19",
        "parentId" : "16a9313c-900d-4845-a7e9-a2674ee31c15",
        "authorId" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "body" : "I didn't quite get it. This is in the `push` side right? Can you please explain a bit?",
        "createdAt" : "2021-07-27T06:29:34Z",
        "updatedAt" : "2021-07-27T06:29:34Z",
        "lastEditedBy" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "tags" : [
        ]
      },
      {
        "id" : "9e6bd6b9-ea38-4949-80cb-bba04922aa4c",
        "parentId" : "16a9313c-900d-4845-a7e9-a2674ee31c15",
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "@venkata91  Ok, my bad. I misread it.",
        "createdAt" : "2021-07-27T06:32:23Z",
        "updatedAt" : "2021-07-27T06:32:23Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a43d1d0ccab25a5b790feaa9c74591abaeaca40",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +136,140 @@        + blockIds[i];\n      String[] blockIdParts = blockIds[i].split(\"_\");\n      if (blockIdParts.length != 5 || !blockIdParts[0].equals(SHUFFLE_PUSH_BLOCK_PREFIX)) {\n        throw new IllegalArgumentException(\n          \"Unexpected shuffle push block id format: \" + blockIds[i]);"
  }
]