[
  {
    "id" : "88685393-6b29-492f-a38b-044c1eaa1ebf",
    "prId" : 33034,
    "prUrl" : "https://github.com/apache/spark/pull/33034#pullrequestreview-714283000",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7dec2221-c6d6-40e6-ac5f-e8e0da06e8fa",
        "parentId" : null,
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "Validate `shuffleMergeId` as well, like `shuffleId` above.",
        "createdAt" : "2021-07-25T06:58:51Z",
        "updatedAt" : "2021-07-25T08:47:25Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a43d1d0ccab25a5b790feaa9c74591abaeaca40",
    "line" : 108,
    "diffHunk" : "@@ -1,1 +186,190 @@          + \" shuffleMergeId = %s but got %s\", shuffleId, shuffleMergeId, blockId));\n      }\n\n      int reduceId = Integer.parseInt(blockIdParts[3]);\n      BlocksInfo blocksInfoByReduceId = reduceIdToBlocksInfo.computeIfAbsent(reduceId,"
  },
  {
    "id" : "15cfa802-757c-4b75-b977-3902f137a25e",
    "prId" : 33034,
    "prUrl" : "https://github.com/apache/spark/pull/33034#pullrequestreview-714327448",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "95e7377e-3027-4834-9089-f4a74de7d198",
        "parentId" : null,
        "authorId" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "body" : "`blockIdParts.length == 5` ? We dont have `4` anymore, do we ?",
        "createdAt" : "2021-07-25T07:03:57Z",
        "updatedAt" : "2021-07-25T08:47:25Z",
        "lastEditedBy" : "d35df420-57a9-43e8-b8d5-cad0f4002681",
        "tags" : [
        ]
      },
      {
        "id" : "55b9a0f1-8be9-4a86-a765-ae2b36984823",
        "parentId" : "95e7377e-3027-4834-9089-f4a74de7d198",
        "authorId" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "body" : "Original shuffleBlock is only of length 4 right? `shuffle_1_1_1`? This case `// For single block id, the format contains shuffleId, mapId, reduceId.`",
        "createdAt" : "2021-07-25T15:22:00Z",
        "updatedAt" : "2021-07-25T15:22:00Z",
        "lastEditedBy" : "4da55a4a-8a34-454a-9445-fb8101f62652",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a43d1d0ccab25a5b790feaa9c74591abaeaca40",
    "line" : 165,
    "diffHunk" : "@@ -1,1 +229,233 @@  private String[] splitBlockId(String blockId) {\n    String[] blockIdParts = blockId.split(\"_\");\n    if (blockIdParts.length < 4 || blockIdParts.length > 5) {\n      throw new IllegalArgumentException(\"Unexpected shuffle block id format: \" + blockId);\n    }"
  },
  {
    "id" : "be0b7e3b-ccef-46f9-9ad5-a7942c07c15e",
    "prId" : 33034,
    "prUrl" : "https://github.com/apache/spark/pull/33034#pullrequestreview-715420583",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "7c2545bd-15c0-45e1-b8b2-274b72b3ac02",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "```suggestion\r\n    boolean batchFetchEnabled = firstBlock.length == 5 &&  blockIds[0].equals(\"shuffle\");\r\n```\r\n?",
        "createdAt" : "2021-07-27T02:39:28Z",
        "updatedAt" : "2021-07-27T04:43:15Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      }
    ],
    "commit" : "4a43d1d0ccab25a5b790feaa9c74591abaeaca40",
    "line" : 43,
    "diffHunk" : "@@ -1,1 +140,144 @@    String[] firstBlock = splitBlockId(blockIds[0]);\n    int shuffleId = Integer.parseInt(firstBlock[1]);\n    boolean batchFetchEnabled = firstBlock.length == 5;\n    Map<Long, BlocksInfo> mapIdToBlocksInfo = new LinkedHashMap<>();\n    for (String blockId : blockIds) {"
  }
]