[
  {
    "id" : "a42869dd-ca31-4c81-a6cf-e9e35c64549b",
    "prId" : 33691,
    "prUrl" : "https://github.com/apache/spark/pull/33691#pullrequestreview-727794453",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d27c5ab8-f4de-4013-b941-e30298588164",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Does it work? We check the type of gapDuration and expect str type here.\r\n\r\nhttps://github.com/apache/spark/blob/f7c85b855ba99757c750dd0a2f7aced788c89374/python/pyspark/sql/functions.py#L2336-L2368\r\n\r\nhttps://github.com/apache/spark/blob/bbf988bd73b00d18dd1d443f225b3915a2c4433f/python/pyspark/sql/functions.pyi#L139\r\n",
        "createdAt" : "2021-08-11T10:30:44Z",
        "updatedAt" : "2021-08-11T10:50:47Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "535bc6f9-7ed7-44b3-9ec8-8d3724edb710",
        "parentId" : "d27c5ab8-f4de-4013-b941-e30298588164",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Oh, I don't realize python `session_window` doesn't accept an expression...",
        "createdAt" : "2021-08-11T18:11:06Z",
        "updatedAt" : "2021-08-11T18:11:07Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "51e49ca63a812f2c220f32cdd284e6f46e863fe7",
    "line" : 70,
    "diffHunk" : "@@ -1,1 +1190,1194 @@events = ...  # streaming DataFrame of schema { timestamp: Timestamp, userId: String }\n\nsession_window = session_window(events.timestamp, \\\n    F.when(events.userId == \"user1\", \"5 seconds\") \\\n    .when(events.userId == \"user2\", \"20 seconds\").otherwise(\"5 minutes\"))"
  },
  {
    "id" : "383c6465-26e3-43a9-88c7-92bc1d97b6c1",
    "prId" : 33433,
    "prUrl" : "https://github.com/apache/spark/pull/33433#pullrequestreview-710615504",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "c0de3fa9-4dd2-4254-a40a-cb9d242aba39",
        "parentId" : null,
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Do we need to mention that the `session_window` function should be a grouping key and should not be the only grouping key?",
        "createdAt" : "2021-07-20T13:36:30Z",
        "updatedAt" : "2021-07-20T13:36:31Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      },
      {
        "id" : "470124e9-dcbd-46d6-a636-a489d60b5384",
        "parentId" : "c0de3fa9-4dd2-4254-a40a-cb9d242aba39",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "Actually there's no such restriction, like we have no such restriction for `window` function. You can use `session_window` anywhere we expect expression. We just don't calculate any windowing aggregation if the function is not used in groping key, same as we do for `window` function.\r\n\r\nIt should not be the only grouping key <= this restriction is only applied to the streaming query. In batch query we allow global window.",
        "createdAt" : "2021-07-20T13:49:56Z",
        "updatedAt" : "2021-07-20T13:49:56Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "5b4d0765-724e-4ba9-9725-65f15e32770b",
        "parentId" : "c0de3fa9-4dd2-4254-a40a-cb9d242aba39",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Ah yea make sense, I only considered the SS scenario. ",
        "createdAt" : "2021-07-20T14:00:05Z",
        "updatedAt" : "2021-07-20T14:00:05Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "5f625ebde16678fe3c90859436e8c05063427f50",
    "line" : 24,
    "diffHunk" : "@@ -1,1 +1084,1088 @@received within gap duration after receiving the latest input.\n\nSession window uses `session_window` function. The usage of the function is similar to the `window` function.\n\n<div class=\"codetabs\">"
  },
  {
    "id" : "fe49fd64-da12-4932-ab13-30f69a41391b",
    "prId" : 31590,
    "prUrl" : "https://github.com/apache/spark/pull/31590#pullrequestreview-594056392",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d8f5ad38-4a4c-4029-845e-bf9c041c2c66",
        "parentId" : null,
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Maybe we can remove the `R` tab.",
        "createdAt" : "2021-02-19T09:35:56Z",
        "updatedAt" : "2021-02-20T01:27:28Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      },
      {
        "id" : "70e84b28-fbbe-4f51-8bfa-5ec4dc23dd34",
        "parentId" : "d8f5ad38-4a4c-4029-845e-bf9c041c2c66",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "Never mind, I saw other places also list the `R` tab even though it's not available.",
        "createdAt" : "2021-02-19T09:40:23Z",
        "updatedAt" : "2021-02-20T01:27:28Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      },
      {
        "id" : "19c55b0a-705c-460e-8713-ba441f01e30b",
        "parentId" : "d8f5ad38-4a4c-4029-845e-bf9c041c2c66",
        "authorId" : "6e99a03b-1d60-4065-9e56-3151748ea94e",
        "body" : "Trying to follow the pattern in `Foreach` and `ForeachBatch` sections here.",
        "createdAt" : "2021-02-19T10:27:57Z",
        "updatedAt" : "2021-02-20T01:27:28Z",
        "lastEditedBy" : "6e99a03b-1d60-4065-9e56-3151748ea94e",
        "tags" : [
        ]
      }
    ],
    "commit" : "46f650ea4130b5065f66ed02c66b708c6d5fc5b9",
    "line" : 120,
    "diffHunk" : "@@ -1,1 +2475,2479 @@\n<div data-lang=\"r\"  markdown=\"1\">\nNot available in R.\n</div>\n</div>"
  },
  {
    "id" : "e0c74ce3-c349-47bc-9eae-6aedcc3805e4",
    "prId" : 31590,
    "prUrl" : "https://github.com/apache/spark/pull/31590#pullrequestreview-594046338",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "5fe6436b-80af-4f1a-9d4b-9f2393cc227c",
        "parentId" : null,
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "While the code example looks to describe the simple cases, I'd like to guide to the end users they need to check the documentation of API for details before using. A simple sentence is OK, just remind to check the documentation, because the auto-creation of table has lacks on v2 table.",
        "createdAt" : "2021-02-19T10:02:21Z",
        "updatedAt" : "2021-02-20T01:27:28Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "08da03aa-f454-4b62-a15d-964ee8c52cc8",
        "parentId" : "5fe6436b-80af-4f1a-9d4b-9f2393cc227c",
        "authorId" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "body" : "```\r\nA simple sentence is OK, just remind to check the documentation, because the auto-creation of table has lacks on v2 table.\r\n```\r\nAgree, it's also a reminder for us to add the support for the v2 table in the next major version.",
        "createdAt" : "2021-02-19T10:15:33Z",
        "updatedAt" : "2021-02-20T01:27:28Z",
        "lastEditedBy" : "cd38bd5a-0fae-4d8e-8acd-36dc13753759",
        "tags" : [
        ]
      }
    ],
    "commit" : "46f650ea4130b5065f66ed02c66b708c6d5fc5b9",
    "line" : 122,
    "diffHunk" : "@@ -1,1 +2477,2481 @@Not available in R.\n</div>\n</div>\n\nFor more details, please check the docs for DataStreamReader ([Scala](api/scala/org/apache/spark/sql/streaming/DataStreamReader.html)/[Java](api/java/org/apache/spark/sql/streaming/DataStreamReader.html)/[Python](api/python/pyspark.sql.html#pyspark.sql.streaming.DataStreamReader) docs) and DataStreamWriter ([Scala](api/scala/org/apache/spark/sql/streaming/DataStreamWriter.html)/[Java](api/java/org/apache/spark/sql/streaming/DataStreamWriter.html)/[Python](api/python/pyspark.sql.html#pyspark.sql.streaming.DataStreamWriter) docs)."
  },
  {
    "id" : "5a3822aa-8d3b-4997-aab8-6f2209e64e2b",
    "prId" : 31572,
    "prUrl" : "https://github.com/apache/spark/pull/31572#pullrequestreview-591824438",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d25c2c48-9c9f-4f2c-89a6-36ed043a6eb0",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Not due to this PR, but I saw this section is \"Outer Joins with Watermarking\", seems to be \"inner\" and \"leftSemi\" should not be here.",
        "createdAt" : "2021-02-16T08:58:04Z",
        "updatedAt" : "2021-02-17T04:11:29Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "4aeba22d-5fe8-4f1a-ad77-83d43595a801",
        "parentId" : "d25c2c48-9c9f-4f2c-89a6-36ed043a6eb0",
        "authorId" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "body" : "probably the purpose was to enumerate the all possible values for joinType. while I agree it's not matching with the section, I feel it's not a big deal. either is fine, including leaving it as it is (with adding left semi) and another minor PR to fix.",
        "createdAt" : "2021-02-16T21:13:49Z",
        "updatedAt" : "2021-02-17T04:11:29Z",
        "lastEditedBy" : "0c28e5da-df9b-4076-bb67-3b6878f1f4ce",
        "tags" : [
        ]
      },
      {
        "id" : "35c1596c-00df-48c5-8bab-1806e86d3abc",
        "parentId" : "d25c2c48-9c9f-4f2c-89a6-36ed043a6eb0",
        "authorId" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "body" : "I don't feel this is too big deal, leave it as it is for now.",
        "createdAt" : "2021-02-17T04:15:00Z",
        "updatedAt" : "2021-02-17T04:15:00Z",
        "lastEditedBy" : "8df147d9-bc9d-4fd9-bb98-5dcf9619220b",
        "tags" : [
        ]
      }
    ],
    "commit" : "0c9e5d21a2b14cb5a0dfe9814ab298f2f8d606ad",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +1338,1342 @@    clickTime <= impressionTime + interval 1 hour\n    \"\"\"),\n  joinType = \"leftOuter\"      // can be \"inner\", \"leftOuter\", \"rightOuter\", \"fullOuter\", \"leftSemi\"\n )\n"
  }
]