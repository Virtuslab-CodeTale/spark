[
  {
    "id" : "9e5833d5-b71a-4265-a6ee-e5ee7303ed5d",
    "prId" : 28451,
    "prUrl" : "https://github.com/apache/spark/pull/28451#pullrequestreview-405486009",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "61b76e38-a88b-45c1-879a-c7bb4d790ae6",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "We cannot avoid this tag, too?",
        "createdAt" : "2020-05-05T00:50:36Z",
        "updatedAt" : "2020-05-05T16:09:41Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "94e6b3c0-eb65-4a5d-8a6b-ea4bc960431d",
        "parentId" : "61b76e38-a88b-45c1-879a-c7bb4d790ae6",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "I will take a look at this. ",
        "createdAt" : "2020-05-05T01:20:42Z",
        "updatedAt" : "2020-05-05T16:09:41Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      },
      {
        "id" : "ace8bf7e-0327-4996-b1de-a5cd35fc48a0",
        "parentId" : "61b76e38-a88b-45c1-879a-c7bb4d790ae6",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "This is for examples ```<div class=\"codetabs\">```. I prefer to keep this since we use this format for all the examples. ",
        "createdAt" : "2020-05-05T04:29:26Z",
        "updatedAt" : "2020-05-05T16:09:41Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "bd82fdd6d132020a72d8f1ed3f4327e3b334555b",
    "line" : 127,
    "diffHunk" : "@@ -1,1 +119,123 @@+--------------+\n```\n</div>\n</div>\n"
  },
  {
    "id" : "981d547d-ba4d-40b5-aade-f6c6d1997027",
    "prId" : 28209,
    "prUrl" : "https://github.com/apache/spark/pull/28209#pullrequestreview-392592224",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d523dd00-1da5-4ecb-b0fc-7b1d700fd275",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Quick question, what about simply we add such examples in `UserDefinedUntypedAggregation` and `JavaUserDefinedUntypedAggregation` like https://github.com/apache/spark/pull/28087/files/8736f5cc8eb19f13b19d710571e3f203f0c7f292#diff-eb8e5f2dc83e098ff1d8068a69946389R43-R44?",
        "createdAt" : "2020-04-14T00:33:30Z",
        "updatedAt" : "2020-04-14T01:08:27Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "71871518-fcf7-4b7a-a7b8-68c8460036e3",
        "parentId" : "d523dd00-1da5-4ecb-b0fc-7b1d700fd275",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "Do you mean add sql examples for the following scala UDF too?\r\n```\r\n    spark.udf().register(\"random\", random);\r\n    spark.sql(\"SELECT random()\").show();\r\n```",
        "createdAt" : "2020-04-14T00:47:38Z",
        "updatedAt" : "2020-04-14T01:08:27Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      },
      {
        "id" : "d064ba03-b960-48da-b091-bdedc4434a28",
        "parentId" : "d523dd00-1da5-4ecb-b0fc-7b1d700fd275",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I actually meant to just add the example like:\r\n\r\n```diff\r\n--- a/examples/src/main/scala/org/apache/spark/examples/sql/UserDefinedTypedAggregation.scala\r\n+++ b/examples/src/main/scala/org/apache/spark/examples/sql/UserDefinedTypedAggregation.scala\r\n@@ -18,7 +18,8 @@ package org.apache.spark.examples.sql\r\n\r\n // $example on:typed_custom_aggregation$\r\n import org.apache.spark.sql.{Encoder, Encoders, SparkSession}\r\n import org.apache.spark.sql.expressions.Aggregator\r\n+import org.apache.spark.sql.functions.udaf\r\n // $example off:typed_custom_aggregation$\r\n\r\n object UserDefinedTypedAggregation {\r\n@@ -81,6 +82,14 @@ object UserDefinedTypedAggregation {\r\n     // +--------------+\r\n     // |        3750.0|\r\n     // +--------------+\r\n+\r\n+    spark.udf.register(\"average_salary\", udaf(MyAverage))\r\n+    ds.selectExpr(\"average_salary(name, salary) as average_salary\").show()\r\n+    // +--------------+\r\n+    // |average_salary|\r\n+    // +--------------+\r\n+    // |        3750.0|\r\n+    // +--------------+\r\n     // $example off:typed_custom_aggregation$\r\n```\r\n\r\nin `UserDefinedUntypedAggregation` and `JavaUserDefinedUntypedAggregation` .. to look similar with the examples in `JavaUserDefinedScalar.java` and `UserDefinedScalar.scala`",
        "createdAt" : "2020-04-14T01:21:18Z",
        "updatedAt" : "2020-04-14T01:50:58Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "a8d257da-8812-4885-9a43-a9e1c0ccbd29",
        "parentId" : "d523dd00-1da5-4ecb-b0fc-7b1d700fd275",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "Thanks for the clarification. I will fix this. ",
        "createdAt" : "2020-04-14T03:49:31Z",
        "updatedAt" : "2020-04-14T03:49:32Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      },
      {
        "id" : "48a870dc-401e-48b8-971e-3937f0ac7aff",
        "parentId" : "d523dd00-1da5-4ecb-b0fc-7b1d700fd275",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Ah .. damn it. I am sorry. I didn't notice there are two separate classes `UserDefinedTypedAggregation` and `UserDefinedUntypedAggregation`.  There's the example I wanted already at `UserDefinedUntypedAggregation`",
        "createdAt" : "2020-04-14T04:16:22Z",
        "updatedAt" : "2020-04-14T04:17:19Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "289b8f45d34d8dcef08033e2fae35492539784df",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +96,100 @@</div>\n<div data-lang=\"SQL\"  markdown=\"1\">\n{% highlight sql %}\n-- Compile and place UDAF MyAverage in a JAR file called `MyAverage.jar` in /tmp.\nCREATE FUNCTION myAverage AS 'MyAverage' USING JAR '/tmp/MyAverage.jar';"
  }
]