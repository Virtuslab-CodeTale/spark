[
  {
    "id" : "8c3d696d-00d1-4b4b-aa09-8100c84bc7c6",
    "prId" : 29491,
    "prUrl" : "https://github.com/apache/spark/pull/29491#pullrequestreview-472139668",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "51741384-ccbd-49da-9b54-ee0785b6e6e7",
        "parentId" : null,
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "The need to repeat these new requirements in various places highlights the utility of #27928.",
        "createdAt" : "2020-08-20T14:20:23Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      },
      {
        "id" : "2dfd0891-27ab-4204-b535-4ed1398cf38a",
        "parentId" : "51741384-ccbd-49da-9b54-ee0785b6e6e7",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I fully agree that this is something we should fix.",
        "createdAt" : "2020-08-21T04:39:13Z",
        "updatedAt" : "2020-08-25T07:51:55Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "0e114b6ac47cde46467d18dce2ca8e1ac0650a35",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +64,68 @@\n```sh\n$ sudo pip install 'sphinx<3.1.0' mkdocs numpy pydata_sphinx_theme ipython nbsphinx\n```\n"
  },
  {
    "id" : "73d2933a-9256-4aa5-aab4-2ecff7d3ede2",
    "prId" : 27928,
    "prUrl" : "https://github.com/apache/spark/pull/27928#pullrequestreview-385818344",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "64c0b79a-faf5-4d84-b600-f3dd0c52eceb",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "and TBH, I would like to don't pin the version here as well.\r\n\r\n```diff\r\n- pip install sphinx==2.3.1 mkdocs==1.0.4 numpy==1.18.1\r\n+ pip install sphinx mkdocs numpy\r\n```",
        "createdAt" : "2020-03-30T06:59:07Z",
        "updatedAt" : "2020-07-01T14:28:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "f2fc9db2-188d-4de2-aed6-0128395d3a2c",
        "parentId" : "64c0b79a-faf5-4d84-b600-f3dd0c52eceb",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "I'm confused. I thought you wanted to keep using a central `requirements.txt`, but you just wanted to not pin the versions.",
        "createdAt" : "2020-03-31T20:51:31Z",
        "updatedAt" : "2020-07-01T14:28:17Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      },
      {
        "id" : "ff2f71b0-90c9-441a-97f5-5d4b73e32bef",
        "parentId" : "64c0b79a-faf5-4d84-b600-f3dd0c52eceb",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yeah, I want. I want the central `requirements.txt` without pinning the version.",
        "createdAt" : "2020-04-01T04:20:21Z",
        "updatedAt" : "2020-07-01T14:28:17Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "f1d62754-bd32-4fd5-bfea-309e67a92112",
        "parentId" : "64c0b79a-faf5-4d84-b600-f3dd0c52eceb",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "Following from the comments by @cloud-fan [here](https://github.com/apache/spark/pull/27534#issuecomment-607011028) and [here](https://github.com/apache/spark/pull/28088#discussion_r401342910), and taking into account your request as well, I think we need to maintain two versions of the requirements file, one without pinning for dev purposes, and one with pinning for CI and the release machinery.\r\n\r\nI will implement this using pip-tools, following the examples set by Warehouse and Trio which I referenced earlier in this PR.",
        "createdAt" : "2020-04-01T17:54:30Z",
        "updatedAt" : "2020-07-01T14:28:17Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      }
    ],
    "commit" : "e21d97dfbbfa1bf485b0b54b61069a7d5d9f76b5",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +59,63 @@\n```sh\npip install -r ./dev/requirements.txt\n```\n"
  },
  {
    "id" : "ee2cb1dd-6581-4ede-8f45-c165e89eb084",
    "prId" : 27534,
    "prUrl" : "https://github.com/apache/spark/pull/27534#pullrequestreview-368454178",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "46513d9a-2a62-49db-b413-62e9d1ef5a30",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "@nchammas, btw why should we fix the version? I think it's better to promote the latest versions.",
        "createdAt" : "2020-02-11T00:23:48Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "fe9d3001-05da-4b50-bbe4-b33e7ac36e55",
        "parentId" : "46513d9a-2a62-49db-b413-62e9d1ef5a30",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "We should pin dependencies for the usual reason: It guarantees a stable environment that gives reproducible results.\r\n\r\nNew releases may have breaking behavior, so you don't always want to install the latest version. And different users building the docs may have outdated versions installed, which will yield them a broken build. (e.g. If you ran `pip install sphinx` when the latest release was 1.1.0, then pip will not update your version of sphinx as new releases are made unless you explicitly request it via `pip install --upgrade`.)\r\n\r\nThese categories of build problem are addressed by pinning versions.",
        "createdAt" : "2020-02-11T03:29:11Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      },
      {
        "id" : "2c26aac3-ed63-4f4d-ad9a-4894cdbe1238",
        "parentId" : "46513d9a-2a62-49db-b413-62e9d1ef5a30",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I think it's OK to pin. We have to maintain this across docs vs script, but, probably better this way.",
        "createdAt" : "2020-02-20T14:40:42Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "07d7698b-55f6-4894-955b-b153f2a27aa1",
        "parentId" : "46513d9a-2a62-49db-b413-62e9d1ef5a30",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Hm, there's tradeoff to pin the version (promote to test and fix it compatible first vs prevent to break at the latest versions). I think we haven't faced any notable problem so far to maintain those implicit compatibility across versions. What about we pin the version when actually we see some overhead to maintain this?",
        "createdAt" : "2020-02-28T02:30:43Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "573862c8-b1b9-4f08-aa63-2b63b5ea8dca",
        "parentId" : "46513d9a-2a62-49db-b413-62e9d1ef5a30",
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "I'm not following your concern about pinning versions. Is there some scenario or overhead from pinning versions that you are concerned about?\r\n\r\nIt seems inevitable to me that contributors will waste time debugging issues that stem from them running different versions of these libraries. Instead of waiting for those issues to arise, it seems safe and simple enough to avoid them by pinning what we use. In fact, what prompted me to open this PR is an interaction I had with you on another PR where we were seeing different behavior when trying to build the docs. So I believe we've already seen at least one example of this problem. ðŸ˜„ (I linked to that interaction from this PR's description.)\r\n\r\nPinning our doc build dependencies is the core idea of this PR. If we don't want to do that, then I'm happy to close this PR and leave things as-is.",
        "createdAt" : "2020-03-01T17:22:54Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      },
      {
        "id" : "5da3115b-0514-4eab-ac8c-a89216867953",
        "parentId" : "46513d9a-2a62-49db-b413-62e9d1ef5a30",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "I guess I'd default to pinning the version in the absence of a strong argument either way. I do think we've had inconsistencies in the spark-website project due to differing jekyll versions, for example. ",
        "createdAt" : "2020-03-03T16:54:59Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "2465a9b4-d7d8-473a-bfa8-f476ea9bf657",
        "parentId" : "46513d9a-2a62-49db-b413-62e9d1ef5a30",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Okie. I am good with this change.",
        "createdAt" : "2020-03-04T01:51:08Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebba66868f9833cbf2771476b609bfefaf8e946c",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +89,93 @@\n```sh\npip install sphinx==2.3.1 mkdocs==1.0.4 numpy==1.18.1\n```\n"
  },
  {
    "id" : "b9eeac50-f379-478b-be94-a2bf1ecd4303",
    "prId" : 27534,
    "prUrl" : "https://github.com/apache/spark/pull/27534#pullrequestreview-361299253",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bc3eb4c2-c248-49b4-85c9-cd5afeb71783",
        "parentId" : null,
        "authorId" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "body" : "One alternative to running these `init` commands is to prefix the below commands so that they do the right thing without depending on any environment variables being set by `init`.\r\n\r\nSo, for example, `pip install` would become `pyenv exec pip install` and `jekyll` would become `rbenv exec jekyll`.",
        "createdAt" : "2020-02-19T17:42:12Z",
        "updatedAt" : "2020-03-06T18:48:29Z",
        "lastEditedBy" : "fd6ebc48-7da4-490b-8d41-2e8530d92720",
        "tags" : [
        ]
      }
    ],
    "commit" : "ebba66868f9833cbf2771476b609bfefaf8e946c",
    "line" : 34,
    "diffHunk" : "@@ -1,1 +57,61 @@```sh\neval \"$(rbenv init -)\"\neval \"$(pyenv init -)\"\n```\n"
  },
  {
    "id" : "3d3a44d7-c898-498e-954e-e2ab5430ea0e",
    "prId" : 26521,
    "prUrl" : "https://github.com/apache/spark/pull/26521#pullrequestreview-317061886",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fe60b281-fa7c-45f0-bddd-5deefefe11ca",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Do you want to mention Python 3 is required here? or does it still work with Python 2?",
        "createdAt" : "2019-11-14T14:15:14Z",
        "updatedAt" : "2019-11-14T14:15:22Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "e801e1bd-5962-4f49-970f-fdc9814d22b4",
        "parentId" : "fe60b281-fa7c-45f0-bddd-5deefefe11ca",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I think it still works with Python 2 because it seems not using Python at all. But I guess we should better stick to Python 3 .. ",
        "createdAt" : "2019-11-14T15:53:03Z",
        "updatedAt" : "2019-11-14T15:53:03Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b142b3d6c122e5f96b3b4ac34a17db7a514050c",
    "line" : 1,
    "diffHunk" : "@@ -1,1 +34,38 @@You need to have [Ruby](https://www.ruby-lang.org/en/documentation/installation/) and\n[Python](https://docs.python.org/2/using/unix.html#getting-and-installing-the-latest-version-of-python)\ninstalled. Also install the following libraries:\n\n```sh"
  }
]