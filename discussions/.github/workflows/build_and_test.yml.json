[
  {
    "id" : "3d7283b9-2bc6-4366-96f7-8beb4ed2cfa2",
    "prId" : 33591,
    "prUrl" : "https://github.com/apache/spark/pull/33591#pullrequestreview-719288031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "b7288f52-33d3-4fb4-8137-8adb9d02b834",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "ditto.",
        "createdAt" : "2021-07-30T16:45:54Z",
        "updatedAt" : "2021-07-30T16:45:55Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      }
    ],
    "commit" : "1d87e2380a333b0fe7e3aa314b61d811f1af02cf",
    "line" : 44,
    "diffHunk" : "@@ -1,1 +196,200 @@    if: >-\n      (github.repository == 'apache/spark' && needs.configure-jobs.outputs.type == 'pyspark-coverage-scheduled')\n      || needs.configure-jobs.outputs.type == 'regular'\n    name: \"Build modules (${{ format('{0}, {1} job', needs.configure-jobs.outputs.branch, needs.configure-jobs.outputs.type) }}): ${{ matrix.modules }}\"\n    runs-on: ubuntu-20.04"
  },
  {
    "id" : "e25b6b08-6969-4ab9-ac17-2a69a046903c",
    "prId" : 33591,
    "prUrl" : "https://github.com/apache/spark/pull/33591#pullrequestreview-719534727",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "07377b41-7ec3-462c-9dc2-c30eeae28d22",
        "parentId" : null,
        "authorId" : "c13f1277-0254-494b-8e7a-bd7c261b2e9f",
        "body" : "nit: I guess we could also introduce the coverage in https://github.com/apache/spark/blob/master/dev/requirements.txt",
        "createdAt" : "2021-07-31T01:36:36Z",
        "updatedAt" : "2021-07-31T01:39:16Z",
        "lastEditedBy" : "c13f1277-0254-494b-8e7a-bd7c261b2e9f",
        "tags" : [
        ]
      },
      {
        "id" : "fc15f0b6-677c-4dff-a6e7-3af82bd0acdc",
        "parentId" : "07377b41-7ec3-462c-9dc2-c30eeae28d22",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Thanks. Let me address them tomorrow.",
        "createdAt" : "2021-07-31T01:54:28Z",
        "updatedAt" : "2021-07-31T01:54:28Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "1d87e2380a333b0fe7e3aa314b61d811f1af02cf",
    "line" : 58,
    "diffHunk" : "@@ -1,1 +270,274 @@        python3.9 -m pip install 'mlflow>=1.0' sklearn\n        # TODO(SPARK-36361): Install coverage in Python 3.9 and PyPy 3 in the base image\n        python3.9 -m pip install coverage\n        pypy3 -m pip install coverage\n        export PATH=$PATH:$HOME/miniconda/bin"
  },
  {
    "id" : "09e5f2ef-ff16-44ea-a132-42f74194361c",
    "prId" : 33567,
    "prUrl" : "https://github.com/apache/spark/pull/33567#pullrequestreview-718782802",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "cc8343ec-a6c5-40b0-a027-528ca173495a",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I'll proceed SPARK-36345.",
        "createdAt" : "2021-07-30T07:05:38Z",
        "updatedAt" : "2021-07-30T07:05:38Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "0a5a4e646a34f6da70268491679d318a4d05ce6d",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +253,257 @@    - name: Run tests\n      run: |\n        # TODO(SPARK-36345): Install mlflow>=1.0 and sklearn in Python 3.9 of the base image\n        python3.9 -m pip install 'mlflow>=1.0' sklearn\n        export PATH=$PATH:$HOME/miniconda/bin"
  },
  {
    "id" : "e11cecff-0dd3-4628-ac37-492db94fe3bd",
    "prId" : 33532,
    "prUrl" : "https://github.com/apache/spark/pull/33532#pullrequestreview-715489081",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d20e52bd-2e01-4b6f-a94f-cfcb80f297a0",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Can we skip this in SparkR build too?",
        "createdAt" : "2021-07-27T04:58:38Z",
        "updatedAt" : "2021-07-27T04:58:38Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "29a7cee3-17b2-48fa-9ea2-450f1007ed01",
        "parentId" : "d20e52bd-2e01-4b6f-a94f-cfcb80f297a0",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "We might have to skip here too: https://github.com/apache/spark/blob/9f20c62ff0c94a790bfd1fd925fd62fcf1ecc05a/.github/workflows/build_and_test.yml#L721",
        "createdAt" : "2021-07-27T04:59:14Z",
        "updatedAt" : "2021-07-27T04:59:15Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "42bfa080-373d-413c-84a0-2f677117e30d",
        "parentId" : "d20e52bd-2e01-4b6f-a94f-cfcb80f297a0",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "+1 for the idea.",
        "createdAt" : "2021-07-27T05:02:24Z",
        "updatedAt" : "2021-07-27T05:02:24Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "d83429e2721f3c1b01131edf34bf839cc364eb67",
    "line" : 4,
    "diffHunk" : "@@ -1,1 +207,211 @@      SPARK_LOCAL_IP: localhost\n      SKIP_UNIDOC: true\n      SKIP_MIMA: true\n      METASPACE_SIZE: 128m\n    steps:"
  },
  {
    "id" : "190f09a6-d1d3-4748-8d90-d6e963cd9d66",
    "prId" : 33197,
    "prUrl" : "https://github.com/apache/spark/pull/33197#pullrequestreview-698496966",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "8e06c522-2d4e-4416-954c-8c0ad779016d",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Well, is this correct?\r\n\r\nThe original one is the same with what we did in `branch-3.1`. Do you mean that `branch-3.1` is not working too?\r\n- https://github.com/apache/spark/blob/branch-3.1/.github/workflows/build_and_test.yml",
        "createdAt" : "2021-07-02T20:59:28Z",
        "updatedAt" : "2021-07-02T20:59:28Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "0734b983-0404-4334-91fd-abbf0b88ef49",
        "parentId" : "8e06c522-2d4e-4416-954c-8c0ad779016d",
        "authorId" : "43998e22-6c2f-401d-9914-8cecf6fad929",
        "body" : "I think `branch-3.1` is fine. We changed to distribute the tests to each forked repository after `3.1`, IIRC.",
        "createdAt" : "2021-07-02T21:01:34Z",
        "updatedAt" : "2021-07-02T21:01:34Z",
        "lastEditedBy" : "43998e22-6c2f-401d-9914-8cecf6fad929",
        "tags" : [
        ]
      }
    ],
    "commit" : "2e4151b75aaf3d145fff0f3d653d76898b9ade55",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +4,8 @@  push:\n    branches:\n      - '**'\n\njobs:"
  },
  {
    "id" : "2ba3f609-abdb-4356-9fec-eb6d13ef1a9c",
    "prId" : 32829,
    "prUrl" : "https://github.com/apache/spark/pull/32829#pullrequestreview-679136639",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "57715043-446f-42cc-801e-39424023e035",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "This is only for Python3.6, right? Otherwise, we need to pin `mypy` in `dev/requirements.txt`, too.",
        "createdAt" : "2021-06-09T01:34:34Z",
        "updatedAt" : "2021-06-09T01:34:34Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "6750b3bf-cc20-40aa-b819-032e3dabc00d",
        "parentId" : "57715043-446f-42cc-801e-39424023e035",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Actually..  the errors are different from different python versions ... e.g.) the same version with Python 3.8 doesn't pass the mypy test .. we should do something here ..",
        "createdAt" : "2021-06-09T01:39:48Z",
        "updatedAt" : "2021-06-09T01:39:49Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "052c9c1a98505e03db2577640e59d88788e56006",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +369,373 @@        # TODO(SPARK-35684, SPARK-35683): Bump up the mypy version. This is blocked by\n        #   Index.difference logic issue.\n        python3.6 -m pip install flake8 pydata_sphinx_theme 'mypy==0.812' numpydoc 'jinja2<3.0.0' 'black==21.5b2'\n    - name: Install R linter dependencies and SparkR\n      run: |"
  },
  {
    "id" : "11018db5-9e19-4850-b390-eeedebd742e0",
    "prId" : 32755,
    "prUrl" : "https://github.com/apache/spark/pull/32755#pullrequestreview-674734710",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2f3739bf-963e-421c-907f-247b9bf0a895",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Note that this is a change from 20201025 to 20210602 unlike the other two places.",
        "createdAt" : "2021-06-02T22:32:58Z",
        "updatedAt" : "2021-06-02T22:33:05Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "13997ebdb7becf54e5506876259b51afdc8aeaa5",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +245,249 @@    runs-on: ubuntu-20.04\n    container:\n      image: dongjoon/apache-spark-github-action-image:20210602\n    env:\n      HADOOP_PROFILE: hadoop3.2"
  },
  {
    "id" : "20e4d9d1-2aa6-46e3-94ed-bcbee0ce186a",
    "prId" : 32737,
    "prUrl" : "https://github.com/apache/spark/pull/32737#pullrequestreview-674634499",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "d083701c-090a-4139-bc82-22a9cc5fe0bd",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "oh, interesting .. https://github.com/xinrong-databricks/spark/runs/2724401328?check_suite_focus=true\r\n\r\n```\r\n/usr/bin/python3.9: No module named pip\r\n```\r\n\r\nit complains that `python3.9` doesn't have `pip` .. but assuming the skip tests checks (https://github.com/apache/spark/runs/2707956326 for https://github.com/apache/spark/commit/c225196be0d18975a3d290b0b9d7283d764be322), seems all packages are installed properly for Python 3.9.",
        "createdAt" : "2021-06-02T04:08:46Z",
        "updatedAt" : "2021-06-02T04:09:03Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "d958cab3-4396-48ff-a9b1-101bf46d5100",
        "parentId" : "d083701c-090a-4139-bc82-22a9cc5fe0bd",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "reading the update for docker image (https://github.com/dongjoon-hyun/ApacheSparkGitHubActionImage/commit/e6e1d1a62e1db1b3db878a16002a4704f2c65535) seems like it should have `pip` ... weird .. ",
        "createdAt" : "2021-06-02T04:15:36Z",
        "updatedAt" : "2021-06-02T04:15:36Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "1a0e9b99-6409-4406-aedf-05756c38adf4",
        "parentId" : "d083701c-090a-4139-bc82-22a9cc5fe0bd",
        "authorId" : "8194e9fe-1d06-4199-937e-9633d15a18cb",
        "body" : "I see what you mean. Would you think we can afford to install pip again? It takes ~4s including listing the packages.",
        "createdAt" : "2021-06-02T16:43:34Z",
        "updatedAt" : "2021-06-02T16:44:19Z",
        "lastEditedBy" : "8194e9fe-1d06-4199-937e-9633d15a18cb",
        "tags" : [
        ]
      },
      {
        "id" : "81ec2519-898b-496f-a7e0-53a2a8d5ee0b",
        "parentId" : "d083701c-090a-4139-bc82-22a9cc5fe0bd",
        "authorId" : "8194e9fe-1d06-4199-937e-9633d15a18cb",
        "body" : "CC @dongjoon-hyun Do you have any insights?",
        "createdAt" : "2021-06-02T16:45:23Z",
        "updatedAt" : "2021-06-02T16:45:23Z",
        "lastEditedBy" : "8194e9fe-1d06-4199-937e-9633d15a18cb",
        "tags" : [
        ]
      },
      {
        "id" : "e56a5b3d-a436-4111-9325-a86b9c145b6e",
        "parentId" : "d083701c-090a-4139-bc82-22a9cc5fe0bd",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Thank you for pinging me, @xinrong-databricks . Let me check for you.",
        "createdAt" : "2021-06-02T16:50:23Z",
        "updatedAt" : "2021-06-02T16:50:23Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "7c18160c-abf1-4abf-809e-1563a09679a8",
        "parentId" : "d083701c-090a-4139-bc82-22a9cc5fe0bd",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I confirmed the issue. We are having 3 python versions and installed in the following sequence.\r\n- Python 3.8\r\n- Python 3.9\r\n- PyPy 3.7\r\n\r\nThe last thing do and it seems to break something.\r\n```\r\ncurl -sS https://bootstrap.pypa.io/get-pip.py | pypy3\r\n```\r\n\r\nLet me update the image once more. And, I'll add `plotly` to Python 3.8, too. ",
        "createdAt" : "2021-06-02T17:01:33Z",
        "updatedAt" : "2021-06-02T17:01:33Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "743536fa-d8ee-49b3-bea3-08911f613723",
        "parentId" : "d083701c-090a-4139-bc82-22a9cc5fe0bd",
        "authorId" : "8194e9fe-1d06-4199-937e-9633d15a18cb",
        "body" : "Thanks @dongjoon-hyun for help! I will put the PR on hold then.",
        "createdAt" : "2021-06-02T20:06:44Z",
        "updatedAt" : "2021-06-02T20:06:44Z",
        "lastEditedBy" : "8194e9fe-1d06-4199-937e-9633d15a18cb",
        "tags" : [
        ]
      }
    ],
    "commit" : "d77b6be5a6845b7d9f529cf579021959723313c3",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +220,224 @@    - name: List Python packages (Python 3.9)\n      run: |\n        python3.9 -m pip list\n    - name: Install Conda for pip packaging test\n      run: |"
  }
]