[
  {
    "id" : "41968562-e1f3-428d-b456-26d141d7ab54",
    "prId" : 30089,
    "prUrl" : "https://github.com/apache/spark/pull/30089#pullrequestreview-516451405",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "33a573e0-ef4a-4a9f-84d0-2696625896b3",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "oh BTW, I think `testOnly` doesn't work anymore after we upgraded SBT. It should be `test-only`, see also https://github.com/apache/spark/pull/30028",
        "createdAt" : "2020-10-26T02:27:37Z",
        "updatedAt" : "2020-10-26T15:51:09Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "2268e4b6-bf6e-47b4-9300-dd2b20623bb7",
        "parentId" : "33a573e0-ef4a-4a9f-84d0-2696625896b3",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "`test-only` -> `testOnly`? `test-only` doesn't work any more?",
        "createdAt" : "2020-10-26T03:23:45Z",
        "updatedAt" : "2020-10-26T15:51:09Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      },
      {
        "id" : "92131528-0bb9-4be0-87ac-d1e4dc7dd24b",
        "parentId" : "33a573e0-ef4a-4a9f-84d0-2696625896b3",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "oops",
        "createdAt" : "2020-10-26T03:26:18Z",
        "updatedAt" : "2020-10-26T15:51:09Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "69d30e25-f748-418b-ba68-7ec339452dc5",
        "parentId" : "33a573e0-ef4a-4a9f-84d0-2696625896b3",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : ":)",
        "createdAt" : "2020-10-26T03:37:54Z",
        "updatedAt" : "2020-10-26T15:51:09Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "c9f264a7a5d5e568f74b4147646432f98536df1f",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +31,35 @@ * {{{\n *   DB2_DOCKER_IMAGE_NAME=ibmcom/db2:11.5.4.0\n *     ./build/sbt -Pdocker-integration-tests \"testOnly *v2.DB2IntegrationSuite\"\n * }}}\n */"
  },
  {
    "id" : "2d60f36b-428c-4fc2-95c4-98b187749104",
    "prId" : 29972,
    "prUrl" : "https://github.com/apache/spark/pull/29972#pullrequestreview-504469324",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "bd6b2aa2-9ed0-4bab-be1c-e184909fcb84",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "DB2 docker test is much simpler than Oracle? https://github.com/apache/spark/commit/aea78d2c8cdf12f4978fa6a69107d096c07c6fec#diff-a003dfa2ba6f747fa3ac7f4563e78325R34-R54",
        "createdAt" : "2020-10-08T04:53:20Z",
        "updatedAt" : "2020-10-12T21:14:49Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "e08973ba-58ce-4bfa-96f9-f8ec2a224edc",
        "parentId" : "bd6b2aa2-9ed0-4bab-be1c-e184909fcb84",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "In Oracle docker test, it has instructions for how to build docker image. In DB2 docker test and all the other docker tests, it is assumed that the docker images are there and only has instruction for how to run the tests. That's why DB2 docker test looks much simpler. \r\ne.g. here is what we have for MS SQL Server docker test\r\n```\r\n/**\r\n * To run this test suite for a specific version (e.g., 2019-GA-ubuntu-16.04):\r\n * {{{\r\n *   MSSQLSERVER_DOCKER_IMAGE_NAME=2019-GA-ubuntu-16.04\r\n *     ./build/sbt -Pdocker-integration-tests \"test-only *MsSqlServerIntegrationSuite\"\r\n * }}}\r\n */\r\n```",
        "createdAt" : "2020-10-08T06:42:47Z",
        "updatedAt" : "2020-10-12T21:14:49Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "8d0226b9e8fcee978c2d601054084a4c357692d5",
    "line" : 32,
    "diffHunk" : "@@ -1,1 +30,34 @@ * To run this test suite for a specific version (e.g., ibmcom/db2:11.5.4.0):\n * {{{\n *   DB2_DOCKER_IMAGE_NAME=ibmcom/db2:11.5.4.0\n *     ./build/sbt -Pdocker-integration-tests \"test-only *DB2IntegrationSuite\"\n * }}}"
  },
  {
    "id" : "12a49805-8e1d-423e-9f81-eaf3f4113638",
    "prId" : 29972,
    "prUrl" : "https://github.com/apache/spark/pull/29972#pullrequestreview-504470296",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "0e984f15-92f6-4d2d-a795-59a43e501810",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "can we test `ADD COLUMN` as well? If it's not supported, we can check the error message in test.",
        "createdAt" : "2020-10-08T04:54:31Z",
        "updatedAt" : "2020-10-12T21:14:49Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "56c107e5-5d19-484b-ab7b-079d3bcee8d6",
        "parentId" : "0e984f15-92f6-4d2d-a795-59a43e501810",
        "authorId" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "body" : "`ADD COLUMN` is supported by DB2. I was following https://github.com/apache/spark/pull/29912 and only test the ALTER TABLE syntax that are overridden by the specific database dialect, in this case, update column type and nullability. But we probably need to test all of ALTER TABLE syntax: add column, delete column, rename column, update column type and nullability in each of the dock test.",
        "createdAt" : "2020-10-08T06:44:40Z",
        "updatedAt" : "2020-10-12T21:14:49Z",
        "lastEditedBy" : "99765afe-8dbe-4d5f-9ad3-d5bc40f0462b",
        "tags" : [
        ]
      }
    ],
    "commit" : "8d0226b9e8fcee978c2d601054084a4c357692d5",
    "line" : 60,
    "diffHunk" : "@@ -1,1 +58,62 @@\n  override def dataPreparation(conn: Connection): Unit = {}\n\n  override def testUpdateColumnType(tbl: String): Unit = {\n    sql(s\"CREATE TABLE $tbl (ID INTEGER) USING _\")"
  }
]