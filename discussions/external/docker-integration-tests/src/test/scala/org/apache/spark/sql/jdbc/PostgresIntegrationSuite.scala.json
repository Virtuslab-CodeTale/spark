[
  {
    "id" : "a1a240b0-6cad-46a0-90df-8fe01cf070dc",
    "prId" : 31419,
    "prUrl" : "https://github.com/apache/spark/pull/31419#pullrequestreview-581542073",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3e5ac3e0-9996-49a6-b94a-0aecd0125bb5",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "How about adding tests for non-array cases, e.g., `col xml` and `col tsvector`?",
        "createdAt" : "2021-02-02T06:52:09Z",
        "updatedAt" : "2021-02-08T03:09:52Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "15c6b88d-938f-4323-90ca-b9d91504ac35",
        "parentId" : "3e5ac3e0-9996-49a6-b94a-0aecd0125bb5",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "I found there are lots of types not tested so far. So I'll open another PR for non-array cases and focus on array cases in this PR.",
        "createdAt" : "2021-02-02T15:52:54Z",
        "updatedAt" : "2021-02-08T03:09:52Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      },
      {
        "id" : "d5b6cee4-8f89-44c7-89cf-ab01c479b476",
        "parentId" : "3e5ac3e0-9996-49a6-b94a-0aecd0125bb5",
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "Does that mean there are types that aren't supported, but for which we support arrays? did I misunderstand that?",
        "createdAt" : "2021-02-02T16:26:14Z",
        "updatedAt" : "2021-02-08T03:09:52Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "c8b358ad-dd16-49e5-920f-f036b7556e95",
        "parentId" : "3e5ac3e0-9996-49a6-b94a-0aecd0125bb5",
        "authorId" : "3a227965-84e0-47cf-9974-11293764f028",
        "body" : "I mean that some supported non-array types like `numeric`, `varchar`, `date` and etc are not tested.\r\nSo, we need to add tests for those types in addition to the types supported by this PR.",
        "createdAt" : "2021-02-02T16:39:14Z",
        "updatedAt" : "2021-02-08T03:09:52Z",
        "lastEditedBy" : "3a227965-84e0-47cf-9974-11293764f028",
        "tags" : [
        ]
      }
    ],
    "commit" : "010413ee49728b5ed537636aef520f024e12ec09",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +90,94 @@\n    conn.prepareStatement(\"CREATE TABLE st_with_array (c0 uuid, c1 inet, c2 cidr,\" +\n      \"c3 json, c4 jsonb, c5 uuid[], c6 inet[], c7 cidr[], c8 json[], c9 jsonb[], c10 xml[], \" +\n      \"c11 tsvector[], c12 tsquery[], c13 macaddr[], c14 txid_snapshot[], c15 point[], \" +\n      \"c16 line[], c17 lseg[], c18 box[], c19 path[], c20 polygon[], c21 circle[], c22 pg_lsn[], \" +"
  },
  {
    "id" : "ad172fef-832b-41f6-8dbf-b26a473ea4d1",
    "prId" : 29932,
    "prUrl" : "https://github.com/apache/spark/pull/29932#pullrequestreview-500898026",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a134ae36-53d4-4f3d-ae54-d208263f1aa7",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I verified this.\r\n```\r\nPostgresIntegrationSuite:\r\n- Type mapping for various types\r\n- Basic write test\r\n- Creating a table with shorts and floats\r\n- SPARK-20557: column type TIMESTAMP with TIME ZONE and TIME with TIME ZONE should be recognized\r\n- SPARK-22291: Conversion error when transforming array types of uuid, inet and cidr to StingType in PostgreSQL\r\n- query JDBC option\r\n- write byte as smallint\r\n- character type tests\r\n- SPARK-32576: character array type tests\r\n```",
        "createdAt" : "2020-10-02T07:01:17Z",
        "updatedAt" : "2020-10-02T11:33:49Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "0ef813b4171b9942e341ec788ddb41151bdb3110",
    "line" : 15,
    "diffHunk" : "@@ -1,1 +37,41 @@class PostgresIntegrationSuite extends DockerJDBCIntegrationSuite {\n  override val db = new DatabaseOnDocker {\n    override val imageName = sys.env.getOrElse(\"POSTGRES_DOCKER_IMAGE_NAME\", \"postgres:13.0-alpine\")\n    override val env = Map(\n      \"POSTGRES_PASSWORD\" -> \"rootpass\""
  },
  {
    "id" : "64d42bd4-5f00-4054-b1b9-cafdf14e64a7",
    "prId" : 29397,
    "prUrl" : "https://github.com/apache/spark/pull/29397#pullrequestreview-464133641",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "a4fb6d89-8b8e-4546-b652-f4d026118273",
        "parentId" : null,
        "authorId" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "body" : "super nit: `===`",
        "createdAt" : "2020-08-10T10:21:59Z",
        "updatedAt" : "2020-08-10T10:21:59Z",
        "lastEditedBy" : "c62ded40-3015-4888-8e91-d671d0f615be",
        "tags" : [
        ]
      },
      {
        "id" : "92b46102-90df-425d-9dde-2ecef7060c31",
        "parentId" : "a4fb6d89-8b8e-4546-b652-f4d026118273",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "oh, I missed that. But, its trivial, so I'll fix it next time I update this file. Anyway, thanks for the check, @yaooqinn ",
        "createdAt" : "2020-08-10T10:47:18Z",
        "updatedAt" : "2020-08-10T10:47:18Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "0dccacb2-27a5-424f-a6d9-bfe1315d2c81",
        "parentId" : "a4fb6d89-8b8e-4546-b652-f4d026118273",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "That's alright. We don't currently have a style rule for that. `==` is already being used here and there too though I prefer `===` as well because it can compare, for example, arrays properly with a good error message.",
        "createdAt" : "2020-08-10T11:01:59Z",
        "updatedAt" : "2020-08-10T11:01:59Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "9907bf52cd270c0e1254dbbd085630b29d7cce39",
    "line" : 22,
    "diffHunk" : "@@ -1,1 +247,251 @@    val df = sqlContext.read.jdbc(jdbcUrl, \"char_array_types\", new Properties)\n    val row = df.collect()\n    assert(row.length == 1)\n    assert(row(0).length === 5)\n    assert(row(0).getSeq[String](0) === Seq(\"a   \", \"bcd \"))"
  },
  {
    "id" : "550c29f8-47c8-46a4-90e4-eda5549524a8",
    "prId" : 29394,
    "prUrl" : "https://github.com/apache/spark/pull/29394#pullrequestreview-463920894",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "16483c31-39cb-4d75-af35-8cafe4e43291",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "nit: Updated this line to fix the wired format.",
        "createdAt" : "2020-08-10T00:53:12Z",
        "updatedAt" : "2020-08-10T00:53:12Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "dd382118446dfa6f5b69f9ec51b03cb8e59008a9",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +77,81 @@      \"\"\"ARRAY['{\"a\": \"foo\", \"b\": \"bar\"}', '{\"a\": 1, \"b\": 2}']::json[], \"\"\" +\n      \"\"\"ARRAY['{\"a\": 1, \"b\": 2, \"c\": 3}']::jsonb[])\"\"\"\n    ).executeUpdate()\n\n    conn.prepareStatement(\"CREATE TABLE char_types (\" +"
  },
  {
    "id" : "b7db5dfc-708c-4a19-95c9-0bba6abfe363",
    "prId" : 26224,
    "prUrl" : "https://github.com/apache/spark/pull/26224#pullrequestreview-306250084",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "9af98678-6ad2-4fab-a35d-b672bacf8a72",
        "parentId" : null,
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "`12.0-alpine` instead of `12.0`?",
        "createdAt" : "2019-10-23T23:29:30Z",
        "updatedAt" : "2019-10-23T23:29:30Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      },
      {
        "id" : "4dcdce78-49ed-4f9c-b911-e5778b334977",
        "parentId" : "9af98678-6ad2-4fab-a35d-b672bacf8a72",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Yes. This is another improvement. It reduces the image size a lot, `312MB` -> `72.8MB`. This is good for CI/CI testing environment.\r\n```\r\n$ docker images | grep postgres\r\npostgres                         12.0-alpine          5b681acb1cfc        2 days ago          72.8MB\r\npostgres                         11.4                 53912975086f        3 months ago        312MB\r\n```",
        "createdAt" : "2019-10-23T23:32:57Z",
        "updatedAt" : "2019-10-23T23:33:41Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "4396f99f-2d84-4149-a664-024a9e6d3775",
        "parentId" : "9af98678-6ad2-4fab-a35d-b672bacf8a72",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "I'll add this to the PR description.",
        "createdAt" : "2019-10-23T23:34:37Z",
        "updatedAt" : "2019-10-23T23:34:37Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "54161a9d-77d0-4e3e-87d0-eaf60d2430a9",
        "parentId" : "9af98678-6ad2-4fab-a35d-b672bacf8a72",
        "authorId" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "body" : "Thanks! Yea, it looks nice.",
        "createdAt" : "2019-10-23T23:36:51Z",
        "updatedAt" : "2019-10-23T23:36:52Z",
        "lastEditedBy" : "044062b3-9d96-4ec3-a1e2-3a2f595bbc02",
        "tags" : [
        ]
      }
    ],
    "commit" : "c31d66928541a9e4ad9deed9fa2f8c0aaba4c7ab",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +30,34 @@class PostgresIntegrationSuite extends DockerJDBCIntegrationSuite {\n  override val db = new DatabaseOnDocker {\n    override val imageName = \"postgres:12.0-alpine\"\n    override val env = Map(\n      \"POSTGRES_PASSWORD\" -> \"rootpass\""
  }
]