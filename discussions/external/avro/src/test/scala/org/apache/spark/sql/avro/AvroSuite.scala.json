[
  {
    "id" : "00bfb614-c760-4872-85a0-afa59584beff",
    "prId" : 31673,
    "prUrl" : "https://github.com/apache/spark/pull/31673#pullrequestreview-600122579",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "4db927cc-88e7-4321-95bd-5f41d3d0e0a1",
        "parentId" : null,
        "authorId" : "813f0961-9a16-4e42-a167-961d914c472c",
        "body" : "@dongjoon-hyun To test `zstandard` codec. ",
        "createdAt" : "2021-02-27T07:32:44Z",
        "updatedAt" : "2021-02-27T11:33:42Z",
        "lastEditedBy" : "813f0961-9a16-4e42-a167-961d914c472c",
        "tags" : [
        ]
      },
      {
        "id" : "ed2e31e6-7647-42dc-a002-115e0163174f",
        "parentId" : "4db927cc-88e7-4321-95bd-5f41d3d0e0a1",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "So, this is failing still?",
        "createdAt" : "2021-02-27T07:35:07Z",
        "updatedAt" : "2021-02-27T11:33:42Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "d5ed79eb-5fb1-4aca-bacf-9cd89f8927aa",
        "parentId" : "4db927cc-88e7-4321-95bd-5f41d3d0e0a1",
        "authorId" : "813f0961-9a16-4e42-a167-961d914c472c",
        "body" : "Yes.",
        "createdAt" : "2021-02-27T07:48:24Z",
        "updatedAt" : "2021-02-27T11:33:42Z",
        "lastEditedBy" : "813f0961-9a16-4e42-a167-961d914c472c",
        "tags" : [
        ]
      },
      {
        "id" : "ec4adecf-9751-45bd-a28d-d85e95d2ad10",
        "parentId" : "4db927cc-88e7-4321-95bd-5f41d3d0e0a1",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Thank you for confirming and sharing this a nice test case. :)",
        "createdAt" : "2021-02-27T08:14:12Z",
        "updatedAt" : "2021-02-27T11:33:42Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "18fee4fe-bd96-425e-b032-12f7e14897b0",
        "parentId" : "4db927cc-88e7-4321-95bd-5f41d3d0e0a1",
        "authorId" : "813f0961-9a16-4e42-a167-961d914c472c",
        "body" : "https://github.com/apache/spark/runs/1993307091?check_suite_focus=true",
        "createdAt" : "2021-02-27T09:18:26Z",
        "updatedAt" : "2021-02-27T11:33:42Z",
        "lastEditedBy" : "813f0961-9a16-4e42-a167-961d914c472c",
        "tags" : [
        ]
      }
    ],
    "commit" : "309de7623b30dcedeb0d1fee8984b97a7de275d9",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +495,499 @@      df.write.format(\"avro\").save(snappyDir)\n      spark.conf.set(SQLConf.AVRO_COMPRESSION_CODEC.key, \"zstandard\")\n      df.write.format(\"avro\").save(zstandardDir)\n\n      val uncompressSize = FileUtils.sizeOfDirectory(new File(uncompressDir))"
  },
  {
    "id" : "7d831290-db10-4a4e-a513-f71ce4260562",
    "prId" : 31543,
    "prUrl" : "https://github.com/apache/spark/pull/31543#pullrequestreview-590020711",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "353ee110-270c-4a64-bd18-2c326f582b40",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Could you add more test cases? For example,\r\n1. A test coverage for both `avroSchema` and `avroSchemaUrl` exist.\r\n2. A negative test case for a wrong `avroSchemaUrl`.",
        "createdAt" : "2021-02-14T07:13:45Z",
        "updatedAt" : "2021-02-14T07:25:34Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "12af2b76122079a3040bb9e438758bdc63d45cb0",
    "line" : 12,
    "diffHunk" : "@@ -1,1 +734,738 @@    val expected = spark.read.format(\"avro\").load(testAvro).select(\"string\").collect()\n    assert(result.sameElements(expected))\n  }\n\n  test(\"SPARK-34416: support user provided both avro schema and avro schema url\") {"
  },
  {
    "id" : "aaeddbd4-c67a-45b9-a9d3-67efd10c56ec",
    "prId" : 30869,
    "prUrl" : "https://github.com/apache/spark/pull/30869#pullrequestreview-706357260",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "882c5406-9de1-4c2e-99ac-35f9ea871a46",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I don't see a big difference compared to the test above. Can we remove one of them?",
        "createdAt" : "2021-07-14T14:36:43Z",
        "updatedAt" : "2021-07-14T14:36:43Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "a766d2b9-7884-4a61-a4f0-1ff6d69316a4",
        "parentId" : "882c5406-9de1-4c2e-99ac-35f9ea871a46",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "Can we also test direct writing like `df.write.parquet(path)`?",
        "createdAt" : "2021-07-14T14:37:17Z",
        "updatedAt" : "2021-07-14T14:37:17Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "05fe3999-b2b3-4e01-bb1f-e46a37bb948d",
        "parentId" : "882c5406-9de1-4c2e-99ac-35f9ea871a46",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "and also hive tables?",
        "createdAt" : "2021-07-14T14:37:26Z",
        "updatedAt" : "2021-07-14T14:37:26Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "706938c3c970225dfbfcd673d1e58faca4c344d0",
    "line" : 37,
    "diffHunk" : "@@ -1,1 +2183,2187 @@                 |AS SELECT ID, IF(ID=1,1,0) FROM v\"\"\".stripMargin)\n          }.getMessage\n          assert(e2.contains(\"Illegal initial character: (IF((ID = 1), 1, 0))\"))\n        }\n        withTempDir { dir =>"
  },
  {
    "id" : "4bc24dda-339b-4039-9c6b-ac5d54dee797",
    "prId" : 30221,
    "prUrl" : "https://github.com/apache/spark/pull/30221#pullrequestreview-664173867",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "eaa8abad-a065-4279-82bb-2e1daaa73766",
        "parentId" : null,
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "@bersprockets  @HyukjinKwon I just noticed recently that this suite is in `AvroSuite.scala`. Are there any specific reasons to not place it to `AvroRowReaderSuite.scala`?",
        "createdAt" : "2021-05-17T15:51:21Z",
        "updatedAt" : "2021-05-17T15:51:21Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "7dd866c8-2c53-4bbf-818b-e3ebfbb37f20",
        "parentId" : "eaa8abad-a065-4279-82bb-2e1daaa73766",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "I don't think so. Feel free to move it there.",
        "createdAt" : "2021-05-17T16:21:31Z",
        "updatedAt" : "2021-05-17T16:21:31Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "2644aabd-f536-4caa-9373-6d64547a7c98",
        "parentId" : "eaa8abad-a065-4279-82bb-2e1daaa73766",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "Please, review the PR https://github.com/apache/spark/pull/32607",
        "createdAt" : "2021-05-20T09:49:47Z",
        "updatedAt" : "2021-05-20T09:49:47Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "134c12cc876372e73eaea2428fb70826da3ab83d",
    "line" : 61,
    "diffHunk" : "@@ -1,1 +2029,2033 @@}\n\nclass AvroRowReaderSuite\n  extends QueryTest\n  with SharedSparkSession {"
  },
  {
    "id" : "4a4dc2fd-3dd1-4137-ae33-904a695ccd51",
    "prId" : 27200,
    "prUrl" : "https://github.com/apache/spark/pull/27200#pullrequestreview-342452254",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f6cbef77-6f08-45f6-ba56-c7c2d020efdb",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Can we test if the size is just bigger then 0 just in case we have other deprecation logs later?",
        "createdAt" : "2020-01-14T10:41:58Z",
        "updatedAt" : "2020-01-14T18:55:18Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "48c35683-6653-47d4-b5cb-fb282205d2e6",
        "parentId" : "f6cbef77-6f08-45f6-ba56-c7c2d020efdb",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "I compared the size to 1 to avoid any concerns that it is printed multiple times like in the PR (https://github.com/apache/spark/pull/27174#discussion_r365596481), per each partition.",
        "createdAt" : "2020-01-14T10:49:28Z",
        "updatedAt" : "2020-01-14T18:55:18Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "e87dfd1e-1b41-4aff-bd38-2a5c697a4487",
        "parentId" : "f6cbef77-6f08-45f6-ba56-c7c2d020efdb",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "If we expect it is printed only once, maybe we should assert that?",
        "createdAt" : "2020-01-14T10:50:13Z",
        "updatedAt" : "2020-01-14T18:55:18Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "c5406233-b83e-4f2c-95d7-2d25cffc082a",
        "parentId" : "f6cbef77-6f08-45f6-ba56-c7c2d020efdb",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "So, if somebody modifies the code in the future in the way the warning is printed many times, we will catch the situation by the test.",
        "createdAt" : "2020-01-14T10:52:57Z",
        "updatedAt" : "2020-01-14T18:55:18Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      },
      {
        "id" : "7be6dc56-3267-4d84-82f2-8fcfe4a221b5",
        "parentId" : "f6cbef77-6f08-45f6-ba56-c7c2d020efdb",
        "authorId" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "body" : "> just in case we have other deprecation logs later?\r\n\r\nAs we discussed in another PR, we are not going to print any log warnings about `ignoreExtension`. Am I right or misunderstood something?",
        "createdAt" : "2020-01-14T11:05:15Z",
        "updatedAt" : "2020-01-14T18:55:18Z",
        "lastEditedBy" : "5c8bf89e-8bb3-4151-8b92-286da26c827e",
        "tags" : [
        ]
      }
    ],
    "commit" : "164cf5bf0368f9a24b4f70406c7363f48894d11c",
    "line" : 25,
    "diffHunk" : "@@ -1,1 +1519,1523 @@        .filter(_.getRenderedMessage.contains(\n          s\"Option ${AvroOptions.ignoreExtensionKey} is deprecated\"))\n      assert(deprecatedEvents.size === 1)\n    }\n  }"
  },
  {
    "id" : "e56cce91-ef25-40ee-9c2c-a7aed895a726",
    "prId" : 27112,
    "prUrl" : "https://github.com/apache/spark/pull/27112#pullrequestreview-340501978",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "ea82c5df-a6a2-4c72-8ab9-ac77b5cf1649",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "not related to this PR, but we should think of how to share test cases between the avro suite and `FileBasedDataSourceSuite`",
        "createdAt" : "2020-01-09T13:00:30Z",
        "updatedAt" : "2020-01-09T13:00:31Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      }
    ],
    "commit" : "58a4a07c50fd0ef54ca55fe1883d228eeb8464b2",
    "line" : 28,
    "diffHunk" : "@@ -1,1 +1515,1519 @@      .set(SQLConf.USE_V1_SOURCE_LIST, \"\")\n\n  test(\"Avro source v2: support partition pruning\") {\n    withTempPath { dir =>\n      Seq((\"a\", 1, 2), (\"b\", 1, 2), (\"c\", 2, 1))"
  },
  {
    "id" : "a8b46617-e1a1-4a56-aa66-7fef5a2a6cc0",
    "prId" : 24682,
    "prUrl" : "https://github.com/apache/spark/pull/24682#pullrequestreview-241014250",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2568c5b8-2ab8-466f-8bfd-50ba6cc438f9",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "does parquet/orc have the same behavior? It seems better to forbid this at the beginning, otherwise we need to do null check at runtime, which may fail a long-running query middle away.",
        "createdAt" : "2019-05-23T00:39:19Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "18331403-e73a-4370-87c3-78bf8f0d8a02",
        "parentId" : "2568c5b8-2ab8-466f-8bfd-50ba6cc438f9",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "cc @dongjoon-hyun @gengliangwang ",
        "createdAt" : "2019-05-23T00:39:36Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "8f7ca82a-e825-4802-9454-138b1a451228",
        "parentId" : "2568c5b8-2ab8-466f-8bfd-50ba6cc438f9",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "For `.schema()` option, we always enforce `nullable` by using `dataSchema.asNullable` in `FileTable`. For me, this is a special support for `.option(\"avroSchema\", \"\")`.",
        "createdAt" : "2019-05-23T03:29:01Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "f57edad7-9f18-4993-b314-9a54a3b80597",
        "parentId" : "2568c5b8-2ab8-466f-8bfd-50ba6cc438f9",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "@cloud-fan I think this is fine. Otherwise, there is no way for users to write with a non-nullable schema.\r\nBut should we show warning messages for such case? So that users can be aware of the risk.",
        "createdAt" : "2019-05-23T03:39:23Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "885462cc-1cda-499a-824d-99f90b9f3080",
        "parentId" : "2568c5b8-2ab8-466f-8bfd-50ba6cc438f9",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Sounds good to have warning messages for the case. So can let users know they're actually writing from nullable catalyst schema into non-nullable avro schema.",
        "createdAt" : "2019-05-23T04:45:13Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "b7efa13b-d6be-4ca0-8e82-2fb1114b7dad",
        "parentId" : "2568c5b8-2ab8-466f-8bfd-50ba6cc438f9",
        "authorId" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "body" : "Adding warning message is good idea for me.\r\n\r\nIf we want to forbid this, we need to load the Avro with correct schema from the beginning. Currently, all the avro files will be loaded as `nullable == true` in catalyst schema even it's not nullable in the original avro schema. The round-trip of the loading and writing can result different schemas. This is the only workaround to write a non-nullable schema in avro easily to maintain the same schema.",
        "createdAt" : "2019-05-23T06:47:21Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "tags" : [
        ]
      }
    ],
    "commit" : "09197e66a53df33c5cc135012658f3f8ddaac4a2",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +932,936 @@\n  test(\"support user provided non-nullable avro schema \" +\n    \"for nullable catalyst schema without any null record\") {\n    withTempPath { tempDir =>\n      val catalystSchema ="
  },
  {
    "id" : "700f7f9a-ea54-4119-834a-cb3f53c3633f",
    "prId" : 24682,
    "prUrl" : "https://github.com/apache/spark/pull/24682#pullrequestreview-241339801",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "2c4baada-1fbb-4397-bdbc-abaa40648696",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "This doesn't quite make sense to me. Looks if the catalyst schema is nullable, it should reject non-nullable avro schema",
        "createdAt" : "2019-05-23T03:24:13Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "b9d43c02-ba38-4db3-91a1-244df7fd61e2",
        "parentId" : "2c4baada-1fbb-4397-bdbc-abaa40648696",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "BTW, note that we don't currently support non-nullable schema in file format sources because they are turned to be nullable in SQL batch code path.\r\nNon-nullable is able to be set in SS tho. Both codes paths should be matched - it's a long standing issue.",
        "createdAt" : "2019-05-23T03:26:38Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "3517e242-2c60-4195-9b70-46a5b4129aba",
        "parentId" : "2c4baada-1fbb-4397-bdbc-abaa40648696",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "`catalyst` schema is always nullable when we read from the file. This is a special support for `.option(\"avroSchema\", ...)` for Avro.",
        "createdAt" : "2019-05-23T03:30:13Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "e9593d8f-37fd-4ce5-a2d9-523a062a1b45",
        "parentId" : "2c4baada-1fbb-4397-bdbc-abaa40648696",
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Have we documented `avroSchema` about this the behavior?",
        "createdAt" : "2019-05-23T04:46:15Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "a2547f23-8bc7-4c71-8bed-3e133caa12bf",
        "parentId" : "2c4baada-1fbb-4397-bdbc-abaa40648696",
        "authorId" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "body" : "In my opinion, we should fix and support non-nullable in file format sources, and this can help to speed up some queries.\r\n\r\n@viirya we can have a log as a warning. ",
        "createdAt" : "2019-05-23T06:49:29Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "tags" : [
        ]
      },
      {
        "id" : "728061ca-1c9e-4028-8bf4-0f54c2033c06",
        "parentId" : "2c4baada-1fbb-4397-bdbc-abaa40648696",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "@dongjoon-hyun, \r\n\r\n> catalyst schema is always nullable when we read from the file.\r\n\r\nThis is the current status. I don't think this is expected behaviour.",
        "createdAt" : "2019-05-23T17:17:07Z",
        "updatedAt" : "2019-05-24T21:02:37Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "09197e66a53df33c5cc135012658f3f8ddaac4a2",
    "line" : 13,
    "diffHunk" : "@@ -1,1 +931,935 @@  }\n\n  test(\"support user provided non-nullable avro schema \" +\n    \"for nullable catalyst schema without any null record\") {\n    withTempPath { tempDir =>"
  },
  {
    "id" : "b4b65567-c48a-47d3-9f70-ef80ce5760a7",
    "prId" : 24635,
    "prUrl" : "https://github.com/apache/spark/pull/24635#pullrequestreview-239768838",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "1cc7c610-c438-402e-b93f-b87102ffeee0",
        "parentId" : null,
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "`enum` type name and the field name (of that `enum` type) can be different. We should not assume that this line is equal to the line 697.",
        "createdAt" : "2019-05-18T02:35:33Z",
        "updatedAt" : "2019-05-20T23:26:22Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      },
      {
        "id" : "8cc613ed-fd49-44f6-90bb-cb4dd21da745",
        "parentId" : "1cc7c610-c438-402e-b93f-b87102ffeee0",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "In the original test case, the avro schema is `enum: union`, while the catalyst schema is `StructType(Seq(StructField(\"Suit\", StringType, true)))`. Thus the field names can't match with each other.\r\nWe should fix such case.",
        "createdAt" : "2019-05-18T03:03:27Z",
        "updatedAt" : "2019-05-20T23:26:22Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "511673ba-1f13-40e9-b3d3-6d5361a4c42d",
        "parentId" : "1cc7c610-c438-402e-b93f-b87102ffeee0",
        "authorId" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "body" : "There are two names in Avro enum type. The first one is the field name used in catalyst, and the second one is the enum type name which is never read in catalyst format. I made the test case clearer to distinguish those two cases.\r\n\r\nAs a result, I'll argue that in the original code, the test case has a bug, and the test passes just because we never check if the field names are matching. ",
        "createdAt" : "2019-05-20T23:29:55Z",
        "updatedAt" : "2019-05-20T23:29:56Z",
        "lastEditedBy" : "677aa336-324b-4b93-8300-21f8bd378f26",
        "tags" : [
        ]
      },
      {
        "id" : "1c9f9539-95ce-4f42-8c4c-51f980e8a68d",
        "parentId" : "1cc7c610-c438-402e-b93f-b87102ffeee0",
        "authorId" : "7694af3d-5af2-4788-8413-c0558915c452",
        "body" : "Ya. The newly updated test code looks more clear.",
        "createdAt" : "2019-05-20T23:42:20Z",
        "updatedAt" : "2019-05-20T23:42:20Z",
        "lastEditedBy" : "7694af3d-5af2-4788-8413-c0558915c452",
        "tags" : [
        ]
      }
    ],
    "commit" : "4e831933f0172cd5a8a53893de852f70a063be35",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +693,697 @@          |  \"name\" : \"test_schema\",\n          |  \"fields\" : [{\n          |    \"name\": \"Suit\",\n          |    \"type\": [{ \"type\": \"enum\",\n          |              \"name\": \"SuitEnumType\","
  }
]