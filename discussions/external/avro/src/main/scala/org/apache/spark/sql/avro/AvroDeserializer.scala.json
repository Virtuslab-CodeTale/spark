[
  {
    "id" : "c0c05c9c-def3-4fc9-941e-4a95fc5321b3",
    "prId" : 33413,
    "prUrl" : "https://github.com/apache/spark/pull/33413#pullrequestreview-719837270",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "460188a6-387e-470c-8ae0-15d667c99d09",
        "parentId" : null,
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "do we have backport compatibility issues here? I think we should fail when we read AVRO long as TS NTZ type.",
        "createdAt" : "2021-07-30T04:55:57Z",
        "updatedAt" : "2021-07-30T04:55:57Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "ca7d4e39-8920-4720-8145-98c44aa87d18",
        "parentId" : "460188a6-387e-470c-8ae0-15d667c99d09",
        "authorId" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "body" : "I think @beliefer is trying to make it consistent with the conversion between `TimestampType` and `LongType`. \r\nFor older Avro version, there are no logical types. So previously I make it convertible for `TimestampType` and `LongType`.\r\nI don't have a good idea about this either.",
        "createdAt" : "2021-08-02T03:42:11Z",
        "updatedAt" : "2021-08-02T03:42:11Z",
        "lastEditedBy" : "15acce7d-132b-48c9-894b-9bc3f4c2b09d",
        "tags" : [
        ]
      },
      {
        "id" : "33bc7b1d-8175-4c9a-8c44-6d2ae79c5ec7",
        "parentId" : "460188a6-387e-470c-8ae0-15d667c99d09",
        "authorId" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "body" : "Yes. As @gengliangwang said, I think we should follows the way treat `null` as timestamp without time zone type with millisecond precision.",
        "createdAt" : "2021-08-02T04:26:40Z",
        "updatedAt" : "2021-08-02T04:26:40Z",
        "lastEditedBy" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "tags" : [
        ]
      },
      {
        "id" : "572af118-9fc4-4da3-81f4-1548b9a5c51b",
        "parentId" : "460188a6-387e-470c-8ae0-15d667c99d09",
        "authorId" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "body" : "then can we at least update the comment? it's nothing about backward compatibility, but to keep consistent with TS LTZ.",
        "createdAt" : "2021-08-02T04:32:18Z",
        "updatedAt" : "2021-08-02T04:32:24Z",
        "lastEditedBy" : "b1f2cebb-db23-4759-b446-886279d07e99",
        "tags" : [
        ]
      },
      {
        "id" : "75ea9abf-c574-49a0-9416-104660475d57",
        "parentId" : "460188a6-387e-470c-8ae0-15d667c99d09",
        "authorId" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "body" : "OK.",
        "createdAt" : "2021-08-02T06:31:57Z",
        "updatedAt" : "2021-08-02T06:31:57Z",
        "lastEditedBy" : "f26e51a2-ed90-47c7-9856-a6cc134b7f39",
        "tags" : [
        ]
      }
    ],
    "commit" : "e18b8b2b56b8f1b2ac83c0a9a8ebf3d42d37ffde",
    "line" : 14,
    "diffHunk" : "@@ -1,1 +149,153 @@\n      case (LONG, TimestampNTZType) => avroType.getLogicalType match {\n        // For backward compatibility, if the Avro type is Long and it is not logical type\n        // (the `null` case), the value is processed as timestamp without time zone type\n        // with millisecond precision."
  }
]