[
  {
    "id" : "fec012ea-b6cc-457d-9bc9-da0a96254dc1",
    "prId" : 27789,
    "prUrl" : "https://github.com/apache/spark/pull/27789#pullrequestreview-369400778",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "441b49be-e7e7-4a2d-8070-453f08b9a7f5",
        "parentId" : null,
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Oh sorry..we need to also disable `beforeAll/afterAll`. I'll make a follow-up right now.",
        "createdAt" : "2020-03-05T08:44:25Z",
        "updatedAt" : "2020-03-05T08:44:30Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "d4f1fe3a-7bd1-4a92-89b0-90cf74458849",
        "parentId" : "441b49be-e7e7-4a2d-8070-453f08b9a7f5",
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "Just wanted to say :)",
        "createdAt" : "2020-03-05T08:48:11Z",
        "updatedAt" : "2020-03-05T08:48:11Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      },
      {
        "id" : "01a7d734-a374-401c-a99d-fd03a44ec490",
        "parentId" : "441b49be-e7e7-4a2d-8070-453f08b9a7f5",
        "authorId" : "171fe41b-96df-4362-a600-2d1f030de577",
        "body" : "Hi @gaborgsomogyi , after taking a look of `BeforeAndAfterAll`, I think it should be OK due to:\r\n\r\n```\r\n/**\r\n   * Flag to indicate whether to invoke beforeAll and afterAll even when there are no tests expected.\r\n   *\r\n   * <p>\r\n   * The default value is <code>false</code>, which means beforeAll and afterAll will not be invoked \r\n   * if there are no tests expected. Whether tests are expected is determined by invoking <code>expectedTestCount</code> passing in\r\n   * the passed filter. Because this count does not include tests excluded based on tags, such as ignored tests, this prevents\r\n   * any side effects in <code>beforeAll</code> or <code>afterAll</code> if no tests will ultimately be executed anyway.\r\n   * If you always want to see the side effects even if no tests are expected, override this <code>val</code> and set it to true.\r\n   * </p>\r\n   */\r\n  val invokeBeforeAllAndAfterAllEvenIfNoTestsAreExpected = false\r\n\r\n```\r\nAnd I tested locally to verify it. So, we're temporary safe by now. But please be aware of it as it can be easily break when people add any new test. And, of course, your later fix should also get rid of it.",
        "createdAt" : "2020-03-05T09:09:01Z",
        "updatedAt" : "2020-03-05T09:10:04Z",
        "lastEditedBy" : "171fe41b-96df-4362-a600-2d1f030de577",
        "tags" : [
        ]
      },
      {
        "id" : "71690b48-c926-4c92-9850-614bf34536d9",
        "parentId" : "441b49be-e7e7-4a2d-8070-453f08b9a7f5",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Ah, so we're safe. Thanks for investigation; I was about to point this out too.",
        "createdAt" : "2020-03-05T09:14:29Z",
        "updatedAt" : "2020-03-05T09:14:30Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "ea1e3899414b703bc2a06c70fe9f611f0f68a75c",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +63,67 @@  }\n\n  ignore(\"Roundtrip\") {\n    val hadoopConf = new Configuration()\n    val manager = new HadoopDelegationTokenManager(spark.sparkContext.conf, hadoopConf, null)"
  },
  {
    "id" : "7111f2af-f23c-4d17-af6d-1e283541ae8d",
    "prId" : 25477,
    "prUrl" : "https://github.com/apache/spark/pull/25477#pullrequestreview-282004284",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "fbd39576-d6cb-4278-9073-3f69cb6abdcd",
        "parentId" : null,
        "authorId" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "body" : "Is this needed in the stream options? Shouldn't it be inherited from the cluster configuration in the main config?",
        "createdAt" : "2019-08-26T20:30:04Z",
        "updatedAt" : "2019-08-28T14:12:12Z",
        "lastEditedBy" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "tags" : [
        ]
      },
      {
        "id" : "8b92b3ee-dfbd-44bb-9fe2-09f62236dd25",
        "parentId" : "fbd39576-d6cb-4278-9073-3f69cb6abdcd",
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "I was thinking about that before and the conclusion was not to inherit it. Obtaining a token should not necessarily use the same protocol as data fetching.",
        "createdAt" : "2019-08-27T13:57:13Z",
        "updatedAt" : "2019-08-28T14:12:12Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      },
      {
        "id" : "626c12af-0ecd-40e7-a2dc-e352a96fde53",
        "parentId" : "fbd39576-d6cb-4278-9073-3f69cb6abdcd",
        "authorId" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "body" : "Hmm. Not sure I completely agree. While you might want them to be different in some case that I can't think of, I don't see a reason not to inherit that value by default if the bootstrap servers match some existing cluster configuration.\r\n\r\nSo inherit, but allow user to override.\r\n\r\n(Although this isn't necessarily related to this PR.)",
        "createdAt" : "2019-08-27T18:27:59Z",
        "updatedAt" : "2019-08-28T14:12:12Z",
        "lastEditedBy" : "0b3111e2-9584-4813-8cb5-8f40e119f71c",
        "tags" : [
        ]
      },
      {
        "id" : "ff38a053-f538-44e4-9cd8-1f820e4cb462",
        "parentId" : "fbd39576-d6cb-4278-9073-3f69cb6abdcd",
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "I agree that the default is not convenient. At the moment all the users have to set it even if not differ. What I wanted to do is not closing this door. Taking over by default if matches in broker name and overwriting it with the `.option(\"kafka.security.protocol\", ...` makes it convenient and flexible as well. Thanks and going to file a jira...",
        "createdAt" : "2019-08-28T12:31:17Z",
        "updatedAt" : "2019-08-28T14:12:12Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      },
      {
        "id" : "7d9da534-894a-4457-9318-680f2d364fcc",
        "parentId" : "fbd39576-d6cb-4278-9073-3f69cb6abdcd",
        "authorId" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "body" : "For tracking purposes I've filed [SPARK-28928](https://issues.apache.org/jira/browse/SPARK-28928).",
        "createdAt" : "2019-08-30T12:33:48Z",
        "updatedAt" : "2019-08-30T12:34:07Z",
        "lastEditedBy" : "e6f86365-3ac2-48b4-94f9-21ce737cf1ac",
        "tags" : [
        ]
      }
    ],
    "commit" : "b0003550109a44a1646cdbae27b92f84de4dadb5",
    "line" : 85,
    "diffHunk" : "@@ -1,1 +83,87 @@        .option(\"checkpointLocation\", checkpointDir.getCanonicalPath)\n        .option(\"kafka.bootstrap.servers\", testUtils.brokerAddress)\n        .option(\"kafka.security.protocol\", SASL_PLAINTEXT.name)\n        .option(\"topic\", topic)\n        .start()"
  }
]