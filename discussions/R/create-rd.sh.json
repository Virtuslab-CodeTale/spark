[
  {
    "id" : "96d24b65-cdd0-43ce-8cbe-f1ab7804d764",
    "prId" : 28419,
    "prUrl" : "https://github.com/apache/spark/pull/28419#pullrequestreview-403519652",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "80637442-7166-4bd6-b4f9-fd18ac3f90ff",
        "parentId" : null,
        "authorId" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "body" : "It seems fine but I don't know these commands; any potential behavior change here?",
        "createdAt" : "2020-04-30T13:24:08Z",
        "updatedAt" : "2020-04-30T13:24:11Z",
        "lastEditedBy" : "707cf6e1-750c-4aea-8774-f79c13fb7add",
        "tags" : [
        ]
      },
      {
        "id" : "d15b9ef6-7d83-40be-a484-a9556f4c3e7b",
        "parentId" : "80637442-7166-4bd6-b4f9-fd18ac3f90ff",
        "authorId" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "body" : "`requireNamespace` is a more minimal test to be sure `devtools::` will work correctly.\r\n\r\nThis is the more common route to check for available functionality, e.g. for Suggested (not required) packages. this is how the suggested `arrow` dependency is handled, for example:\r\n\r\n```\r\ngrep -r \"requireNamespace\" R/pkg/R -n\r\nR/pkg/R/types.R:91:  if (!requireNamespace(\"arrow\", quietly = TRUE)) {\r\nR/pkg/R/deserialize.R:235:  if (requireNamespace(\"arrow\", quietly = TRUE)) {\r\nR/pkg/R/SQLContext.R:152:  if (requireNamespace(\"arrow\", quietly = TRUE)) {\r\nR/pkg/R/serialize.R:225:  if (requireNamespace(\"arrow\", quietly = TRUE)) {\r\nR/pkg/R/DataFrame.R:1229:              if (requireNamespace(\"arrow\", quietly = TRUE)) {\r\n```\r\n\r\nThe `installed.packages` is much more cumbersome -- it looks up the full set of available packages, then searches to see if this particular one is there.",
        "createdAt" : "2020-04-30T13:29:34Z",
        "updatedAt" : "2020-04-30T13:29:34Z",
        "lastEditedBy" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "c396869913c4c128a55f3547820649411c69535d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +35,39 @@\n# Generate Rd files if devtools is installed\n\"$R_SCRIPT_PATH/Rscript\" -e ' if(requireNamespace(\"devtools\", quietly=TRUE)) { setwd(\"'$FWDIR'\"); devtools::document(pkg=\"./pkg\", roclets=\"rd\") }'"
  }
]