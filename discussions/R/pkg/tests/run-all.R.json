[
  {
    "id" : "6c183c5d-1181-4f0e-8afe-6addb04d9872",
    "prId" : 30219,
    "prUrl" : "https://github.com/apache/spark/pull/30219#pullrequestreview-521272827",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "f77278a6-c00e-4310-afd9-a855fae140f2",
        "parentId" : null,
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "It seems like `test_dir` handles working directory in a different way, which leads to\r\n\r\n```\r\nError: 'target/test-reports' does not exist in current working directory ('/path/to/spark/R/pkg/tests/fulltests').\r\n```\r\n\r\nHence the absolute path. ",
        "createdAt" : "2020-11-01T23:18:14Z",
        "updatedAt" : "2020-11-01T23:18:14Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      }
    ],
    "commit" : "2b858128b682f60561461bd5315725ad8e2b5bc7",
    "line" : 41,
    "diffHunk" : "@@ -1,1 +82,86 @@      SummaryReporter$new(),\n      JunitReporter$new(\n        file = file.path(getwd(), \"target/test-reports/test-results.xml\")\n      )\n    ))"
  },
  {
    "id" : "3531b3aa-8638-4e5f-9bb1-f4b6ee9b3319",
    "prId" : 29456,
    "prUrl" : "https://github.com/apache/spark/pull/29456#pullrequestreview-469004386",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "54635fa3-aa91-4bf5-9a6c-46e9245526b0",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "Is it only supported by testthat 2.0+?",
        "createdAt" : "2020-08-18T05:27:40Z",
        "updatedAt" : "2020-08-18T07:57:43Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "acf941d9-1e71-486e-9f31-10a3724a327f",
        "parentId" : "54635fa3-aa91-4bf5-9a6c-46e9245526b0",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "It _looks_ supported in testthat 1.x but testthat 1.x support here is supposed to be removed soon at SPARK-30663. I didn't bother test as Jenkins and GitHub Actions use testthat 2+ anyway.",
        "createdAt" : "2020-08-18T05:39:34Z",
        "updatedAt" : "2020-08-18T07:57:43Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "1fe280606b738848b938dfe43c940cc3391aa0fb",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +72,76 @@      reporter <- MultiReporter$new(list(\n        SummaryReporter$new(),\n        JunitReporter$new(file = \"target/test-reports/test-results.xml\")\n      ))\n    }"
  },
  {
    "id" : "d0a69d9f-8224-474f-bc72-a5ed3dd31f5d",
    "prId" : 29456,
    "prUrl" : "https://github.com/apache/spark/pull/29456#pullrequestreview-469003647",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "964a82ec-2300-427e-a086-4669a4fda2fe",
        "parentId" : null,
        "authorId" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "body" : "We need both `SummaryReporter` and `JunitReporter`?",
        "createdAt" : "2020-08-18T05:29:13Z",
        "updatedAt" : "2020-08-18T07:57:43Z",
        "lastEditedBy" : "5e28de51-305c-4276-b3a0-78bcc74eb6f2",
        "tags" : [
        ]
      },
      {
        "id" : "eb71ff24-613a-4a0d-bedd-44c874b7a45b",
        "parentId" : "964a82ec-2300-427e-a086-4669a4fda2fe",
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "Yup, otherwise, the console output is not shown. I manually tested.\r\n\r\nIt was previously `ProgressReporter` (from testthat 2+) by default. It shows the console output such as:\r\n\r\n```\r\n��� |  0       | SparkSQL functions\r\n��� |  1       | SparkSQL functions\r\n��� |  2       | SparkSQL functions\r\n...\r\n```\r\n\r\nin Jenkins (ever since we switched the default system encoding if I am not mistaken).\r\n\r\nNow it follows the default format `SummaryReporter` (in testthat 1.x). It shows the console output  as below:\r\n\r\n```\r\nfunctions in client.R: .....\r\ntest functions in sparkR.R: ..............................................\r\ninclude R packages: ..\r\nJVM API: ..\r\nMLlib classification algorithms, except for tree-based algorithms: ...........................................................................\r\n```\r\n\r\nThere are no differences in the report format when some tests are failed.",
        "createdAt" : "2020-08-18T05:37:29Z",
        "updatedAt" : "2020-08-18T07:57:43Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "1fe280606b738848b938dfe43c940cc3391aa0fb",
    "line" : 17,
    "diffHunk" : "@@ -1,1 +72,76 @@      reporter <- MultiReporter$new(list(\n        SummaryReporter$new(),\n        JunitReporter$new(file = \"target/test-reports/test-results.xml\")\n      ))\n    }"
  }
]