[
  {
    "id" : "dfe2ed47-72c7-41aa-8892-1f9df57bac9c",
    "prId" : 32709,
    "prUrl" : "https://github.com/apache/spark/pull/32709#pullrequestreview-672339025",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "83684e87-801c-428e-b289-92aacb916a7e",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "This also seems like `testthat` uses `all.equal` internally which now compares environment of the functions (previously it didn't):\r\n\r\n> all.equal(f, g) for functions now by default also compares their environment(.)s, notably via new all.equal method for class function. Comparison of nls() fits, e.g., may now need all.equal(m1, m2, check.environment = FALSE).\r\n\r\nhttps://cran.r-project.org/doc/manuals/r-release/NEWS.html",
        "createdAt" : "2021-05-31T13:59:03Z",
        "updatedAt" : "2021-05-31T13:59:03Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      }
    ],
    "commit" : "97f3c0e0ef828a4374b2ed5740aac929c3597574",
    "line" : 7,
    "diffHunk" : "@@ -1,1 +67,71 @@  if (as.numeric(R.Version()$major) >= 4 && !startsWith(R.Version()$minor, \"0\")) {\n    # 4.1+ checks environment in the function\n    expect_true(all.equal(actual, g, check.environment = FALSE))\n  } else {\n    expect_equal(actual, g)"
  },
  {
    "id" : "2826f8e3-7493-4207-a3db-b42ca922c29f",
    "prId" : 27363,
    "prUrl" : "https://github.com/apache/spark/pull/27363#pullrequestreview-348357633",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "41bf895e-1ce4-4953-b664-17f972e373c0",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "I remember codes in comments break one of the R linter rule. Might be good to double check.",
        "createdAt" : "2020-01-26T04:03:29Z",
        "updatedAt" : "2020-01-26T04:03:29Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "a780f69d-a910-42e5-9d98-fb117f921149",
        "parentId" : "41bf895e-1ce4-4953-b664-17f972e373c0",
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "They do, that's why it is wrapped with `nolint`. If I didn't mess up anything, this is cherry picked from previous version of SPARK-23435 proposal, and already passed all tests, but let's see how it goes.",
        "createdAt" : "2020-01-26T04:07:55Z",
        "updatedAt" : "2020-01-26T04:07:56Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      }
    ],
    "commit" : "b552956b020e4806006f5daffe127e62dbdb4d38",
    "line" : 19,
    "diffHunk" : "@@ -1,1 +107,111 @@  # Enable once SPARK-30629 is fixed\n  # nolint start\n  # expect_true(\"f\" %in% ls(env))\n  # nolint end\n  expect_equal(get(\"l\", envir = env, inherits = FALSE), l)"
  },
  {
    "id" : "f617e01a-111b-4de2-aac6-85e6e83de18a",
    "prId" : 27328,
    "prUrl" : "https://github.com/apache/spark/pull/27328#pullrequestreview-348184031",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "3624b7e5-c824-497b-a690-4a69b85c3255",
        "parentId" : null,
        "authorId" : "981b170c-729a-429c-b115-0350ea50b32b",
        "body" : "That's clear bug, trivial to reproduce ([SPARK-30629](https://issues.apache.org/jira/browse/SPARK-30629)). Not sure why I didn't fail on `testthat` 1.x.",
        "createdAt" : "2020-01-24T19:45:28Z",
        "updatedAt" : "2020-01-24T22:24:44Z",
        "lastEditedBy" : "981b170c-729a-429c-b115-0350ea50b32b",
        "tags" : [
        ]
      }
    ],
    "commit" : "684831b48ed4036f12008f5385c8060cd3a5eb8d",
    "line" : 5,
    "diffHunk" : "@@ -1,1 +90,94 @@    l$field[1, 1] <- 3  # Test for access operators `$`.\n    res <- defUse + l$field[1, ]  # Test for def-use chain of \"defUse\", and \"\" symbol.\n    # Enable once SPARK-30629 is fixed\n    # nolint start\n    # f(res)  # Test for recursive calls."
  }
]