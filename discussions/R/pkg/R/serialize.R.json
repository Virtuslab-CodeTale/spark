[
  {
    "id" : "39ccca37-98f5-4606-b430-fe9bc3c0a8a3",
    "prId" : 24888,
    "prUrl" : "https://github.com/apache/spark/pull/24888#pullrequestreview-288404901",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "23066515-eb7e-4b2e-8a23-49eb2c95f3ca",
        "parentId" : null,
        "authorId" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "body" : "I see error in the output\r\n```\r\nError: processing vignette 'sparkr-vignettes.Rmd' failed with diagnostics:\r\nargumemt is not a character vector\r\n```",
        "createdAt" : "2019-06-27T07:28:27Z",
        "updatedAt" : "2019-09-16T01:07:29Z",
        "lastEditedBy" : "99156419-7ce7-4671-b858-d0b5c4711f88",
        "tags" : [
        ]
      },
      {
        "id" : "d1f03c08-fd55-4ad4-9947-55217dcff3a1",
        "parentId" : "23066515-eb7e-4b2e-8a23-49eb2c95f3ca",
        "authorId" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "body" : "That's funny that there's a typo there. Didn't show up in either the `r-source` or my spark source.... investigating anyway",
        "createdAt" : "2019-07-04T10:10:45Z",
        "updatedAt" : "2019-09-16T01:07:29Z",
        "lastEditedBy" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "tags" : [
        ]
      },
      {
        "id" : "db61bff5-83e4-46c2-9154-9240fe98fcb2",
        "parentId" : "23066515-eb7e-4b2e-8a23-49eb2c95f3ca",
        "authorId" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "body" : "Will have to try from my home machine. Having trouble reproducing on my mac since I've the wrong Java & I dare not touch it. Could try and do it from Docker but I haven't installed it on the new machine yet... btw do you have a favorite Docker image for debugging Spark?",
        "createdAt" : "2019-07-04T12:05:17Z",
        "updatedAt" : "2019-09-16T01:07:29Z",
        "lastEditedBy" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "tags" : [
        ]
      },
      {
        "id" : "48b9d7a3-cac2-4e3f-a646-508a9b11f123",
        "parentId" : "23066515-eb7e-4b2e-8a23-49eb2c95f3ca",
        "authorId" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "body" : "Hey @felixcheung have finally sort-of got a Docker image able to build Spark from source to help me iterate locally ðŸŽ‰ \r\n\r\nI'm able to build Spark on master with `./build/mvn -DskipTests clean package -X`, but on the branch here I get:\r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for Spark Project Parent POM 3.0.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] Spark Project Parent POM ........................... SUCCESS [04:47 min]\r\n[INFO] Spark Project Tags ................................. SUCCESS [ 30.888 s]\r\n[INFO] Spark Project Sketch ............................... SUCCESS [  4.329 s]\r\n[INFO] Spark Project Local DB ............................. SUCCESS [ 15.605 s]\r\n[INFO] Spark Project Networking ........................... SUCCESS [ 14.312 s]\r\n[INFO] Spark Project Shuffle Streaming Service ............ SUCCESS [  5.987 s]\r\n[INFO] Spark Project Unsafe ............................... SUCCESS [ 11.286 s]\r\n[INFO] Spark Project Launcher ............................. SUCCESS [ 46.401 s]\r\n[INFO] Spark Project Core ................................. SUCCESS [02:46 min]\r\n[INFO] Spark Project ML Local Library ..................... SUCCESS [ 14.346 s]\r\n[INFO] Spark Project GraphX ............................... SUCCESS [ 12.020 s]\r\n[INFO] Spark Project Streaming ............................ SUCCESS [ 28.049 s]\r\n[INFO] Spark Project Catalyst ............................. SUCCESS [01:52 min]\r\n[INFO] Spark Project SQL .................................. SUCCESS [02:41 min]\r\n[INFO] Spark Project ML Library ........................... FAILURE [01:26 min]\r\n[INFO] Spark Project Tools ................................ SKIPPED\r\n[INFO] Spark Project Hive ................................. SKIPPED\r\n[INFO] Spark Project Graph API ............................ SKIPPED\r\n[INFO] Spark Project Cypher ............................... SKIPPED\r\n[INFO] Spark Project Graph ................................ SKIPPED\r\n[INFO] Spark Project REPL ................................. SKIPPED\r\n[INFO] Spark Project Assembly ............................. SKIPPED\r\n[INFO] Kafka 0.10+ Token Provider for Streaming ........... SKIPPED\r\n[INFO] Spark Integration for Kafka 0.10 ................... SKIPPED\r\n[INFO] Kafka 0.10+ Source for Structured Streaming ........ SKIPPED\r\n[INFO] Spark Project Examples ............................. SKIPPED\r\n[INFO] Spark Integration for Kafka 0.10 Assembly .......... SKIPPED\r\n[INFO] Spark Avro ......................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  16:41 min\r\n[INFO] Finished at: 2019-09-16T01:47:41Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal net.alchim31.maven:scala-maven-plugin:3.4.4:testCompile (scala-test-compile-first) on project spark-mllib_2.12: Execution scala-test-compile-first of goal net.alchim31.maven:scala-maven-plugin:3.4.4:testCompile failed.: CompileFailed -> [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal net.alchim31.maven:scala-maven-plugin:3.4.4:testCompile (scala-test-compile-first) on project spark-mllib_2.12: Execution scala-test-compile-first of goal net.alchim31.maven:scala-maven-plugin:3.4.4:testCompile failed.\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution scala-test-compile-first of goal net.alchim31.maven:scala-maven-plugin:3.4.4:testCompile failed.\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: sbt.compiler.CompileFailed\r\n    at sbt_inc.SbtIncrementalCompiler.zincCompile (SbtIncrementalCompiler.java:146)\r\n    at sbt_inc.SbtIncrementalCompiler.compile (SbtIncrementalCompiler.java:88)\r\n    at scala_maven.ScalaCompilerSupport.incrementalCompile (ScalaCompilerSupport.java:320)\r\n    at scala_maven.ScalaCompilerSupport.compile (ScalaCompilerSupport.java:136)\r\n    at scala_maven.ScalaCompilerSupport.doExecute (ScalaCompilerSupport.java:116)\r\n    at scala_maven.ScalaMojoSupport.execute (ScalaMojoSupport.java:574)\r\n    at scala_maven.ScalaTestCompileMojo.execute (ScalaTestCompileMojo.java:50)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn <goals> -rf :spark-mllib_2.12\r\n```\r\n\r\nIt doesn't seem like particularly helpful diagnostics to me? Any insight on how to proceed?",
        "createdAt" : "2019-09-16T03:13:23Z",
        "updatedAt" : "2019-09-16T03:13:23Z",
        "lastEditedBy" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "8dafcd2fb72d3cc9a80d82b6c63571bf678820d0",
    "line" : 348,
    "diffHunk" : "@@ -1,1 +259,263 @@  # This may not work if the Java side expects array of any other type.\n  writeType(if (length(arr) > 0L) arr[[1L]] else \"somestring\", con)\n  writeObject(length(arr), con, writeType = FALSE)\n\n  if (length(arr) > 0L) {"
  },
  {
    "id" : "1fda9d22-3f12-4293-8818-117395a37270",
    "prId" : 24885,
    "prUrl" : "https://github.com/apache/spark/pull/24885#pullrequestreview-250282426",
    "prSource" : "GitHub",
    "comments" : [
      {
        "id" : "49838dce-4e19-4697-8958-c0f9ff27539e",
        "parentId" : null,
        "authorId" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "body" : "btw why did we change 1 -> 1L? Is it related with the fix?",
        "createdAt" : "2019-06-17T03:45:22Z",
        "updatedAt" : "2019-09-18T08:38:10Z",
        "lastEditedBy" : "5e07d5ab-b4b3-41e4-beca-fefd635980c6",
        "tags" : [
        ]
      },
      {
        "id" : "4e545d32-d3be-4590-bfb5-e67939fdf8f3",
        "parentId" : "49838dce-4e19-4697-8958-c0f9ff27539e",
        "authorId" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "body" : "no, just a microoptimization while i'm in this source",
        "createdAt" : "2019-06-17T03:48:47Z",
        "updatedAt" : "2019-09-18T08:38:10Z",
        "lastEditedBy" : "8504b0ee-156b-4d62-881c-7cb3c1c670f8",
        "tags" : [
        ]
      }
    ],
    "commit" : "ba908171073a165ec54980fae2b38a529149d4f0",
    "line" : 6,
    "diffHunk" : "@@ -1,1 +37,41 @@\ngetSerdeType <- function(object) {\n  type <- class(object)[[1L]]\n  if (is.atomic(object) & !is.raw(object) & length(object) > 1L) {\n    \"array\""
  }
]